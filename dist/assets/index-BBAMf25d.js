function k1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iT={exports:{}},cf={},oT={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),N1=Symbol.for("react.portal"),D1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),M1=Symbol.for("react.provider"),L1=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),U1=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),vw=Symbol.iterator;function B1(t){return t===null||typeof t!="object"?null:(t=vw&&t[vw]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,cT={};function fa(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}fa.prototype.isReactComponent={};fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uT(){}uT.prototype=fa.prototype;function Mg(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}var Lg=Mg.prototype=new uT;Lg.constructor=Mg;lT(Lg,fa.prototype);Lg.isPureReactComponent=!0;var _w=Array.isArray,dT=Object.prototype.hasOwnProperty,jg={current:null},fT={key:!0,ref:!0,__self:!0,__source:!0};function hT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dT.call(e,r)&&!fT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gc,type:t,key:i,ref:o,props:s,_owner:jg.current}}function z1(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function W1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ww=/\/+/g;function Fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W1(""+t.key):e.toString(36)}function bu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case N1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fh(o,0):r,_w(s)?(n="",t!=null&&(n=t.replace(ww,"$&/")+"/"),bu(s,e,n,"",function(u){return u})):s!=null&&(Fg(s)&&(s=z1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ww,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_w(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fh(i,a);o+=bu(i,e,n,l,s)}else if(l=B1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fh(i,a++),o+=bu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return bu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function H1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ku={transition:null},q1={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ku,ReactCurrentOwner:jg};function pT(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=fa;ye.Fragment=D1;ye.Profiler=V1;ye.PureComponent=Mg;ye.StrictMode=O1;ye.Suspense=F1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;ye.act=pT;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dT.call(e,l)&&!fT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gc,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:L1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M1,_context:t},t.Consumer=t};ye.createElement=hT;ye.createFactory=function(t){var e=hT.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:j1,render:t}};ye.isValidElement=Fg;ye.lazy=function(t){return{$$typeof:$1,_payload:{_status:-1,_result:t},_init:H1}};ye.memo=function(t,e){return{$$typeof:U1,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=ku.transition;ku.transition={};try{t()}finally{ku.transition=e}};ye.unstable_act=pT;ye.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ye.useContext=function(t){return Qt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ye.useId=function(){return Qt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ye.useRef=function(t){return Qt.current.useRef(t)};ye.useState=function(t){return Qt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Qt.current.useTransition()};ye.version="18.3.1";oT.exports=ye;var g=oT.exports;const ce=sT(g),mT=k1({__proto__:null,default:ce},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=g,G1=Symbol.for("react.element"),Q1=Symbol.for("react.fragment"),Y1=Object.prototype.hasOwnProperty,X1=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J1={key:!0,ref:!0,__self:!0,__source:!0};function gT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y1.call(e,r)&&!J1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:G1,type:t,key:i,ref:o,props:s,_owner:X1.current}}cf.Fragment=Q1;cf.jsx=gT;cf.jsxs=gT;iT.exports=cf;var f=iT.exports,yT={exports:{}},xn={},vT={exports:{}},_T={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var te=$.length;$.push(q);e:for(;0<te;){var fe=te-1>>>1,ve=$[fe];if(0<s(ve,q))$[fe]=q,$[te]=ve,te=fe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],te=$.pop();if(te!==q){$[0]=te;e:for(var fe=0,ve=$.length,Oe=ve>>>1;fe<Oe;){var Ze=2*(fe+1)-1,gt=$[Ze],et=Ze+1,re=$[et];if(0>s(gt,te))et<ve&&0>s(re,gt)?($[fe]=re,$[et]=te,fe=et):($[fe]=gt,$[Ze]=te,fe=Ze);else if(et<ve&&0>s(re,te))$[fe]=re,$[et]=te,fe=et;else break e}}return q}function s($,q){var te=$.sortIndex-q.sortIndex;return te!==0?te:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,_=!1,T=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=$)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function k($){if(w=!1,x($),!T)if(n(l)!==null)T=!0,ne(O);else{var q=n(u);q!==null&&se(k,q.startTime-$)}}function O($,q){T=!1,w&&(w=!1,E(S),S=-1),_=!0;var te=m;try{for(x(q),h=n(l);h!==null&&(!(h.expirationTime>q)||$&&!D());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,m=h.priorityLevel;var ve=fe(h.expirationTime<=q);q=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&r(l),x(q)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var Ze=n(u);Ze!==null&&se(k,Ze.startTime-q),Oe=!1}return Oe}finally{h=null,m=te,_=!1}}var L=!1,C=null,S=-1,R=5,b=-1;function D(){return!(t.unstable_now()-b<R)}function N(){if(C!==null){var $=t.unstable_now();b=$;var q=!0;try{q=C(!0,$)}finally{q?P():(L=!1,C=null)}}else L=!1}var P;if(typeof v=="function")P=function(){v(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=N,P=function(){le.postMessage(null)}}else P=function(){I(N,0)};function ne($){C=$,L||(L=!0,P())}function se($,q){S=I(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,ne(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var te=m;m=q;try{return $()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=m;m=$;try{return q()}finally{m=te}},t.unstable_scheduleCallback=function($,q,te){var fe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=te+ve,$={id:d++,callback:q,priorityLevel:$,startTime:te,expirationTime:ve,sortIndex:-1},te>fe?($.sortIndex=te,e(u,$),n(l)===null&&$===n(u)&&(w?(E(S),S=-1):w=!0,se(k,te-fe))):($.sortIndex=ve,e(l,$),T||_||(T=!0,ne(O))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var q=m;return function(){var te=m;m=q;try{return $.apply(this,arguments)}finally{m=te}}}})(_T);vT.exports=_T;var Z1=vT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=g,vn=Z1;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wT=new Set,Vl={};function Gi(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Vl[t]=e,t=0;t<e.length;t++)wT.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,tN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ew={},xw={};function nN(t){return Wp.call(xw,t)?!0:Wp.call(Ew,t)?!1:tN.test(t)?xw[t]=!0:(Ew[t]=!0,!1)}function rN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sN(t,e,n,r){if(e===null||typeof e>"u"||rN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function $g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ug,$g);Pt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ug,$g);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ug,$g);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bg(t,e,n,r){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sN(e,n,s,r)&&(n=null),r||s===null?nN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),vo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),xT=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),TT=Symbol.for("react.offscreen"),Tw=Symbol.iterator;function Qa(t){return t===null||typeof t!="object"?null:(t=Tw&&t[Tw]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Uh;function al(t){if(Uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uh=e&&e[1]||""}return`
`+Uh+t}var $h=!1;function Bh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function iN(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=Bh(t.type,!1),t;case 11:return t=Bh(t.type.render,!1),t;case 1:return t=Bh(t.type,!0),t;default:return""}}function Gp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case vo:return"Portal";case Hp:return"Profiler";case zg:return"StrictMode";case qp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xT:return(t.displayName||"Context")+".Consumer";case ET:return(t._context.displayName||"Context")+".Provider";case Wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hg:return e=t.displayName||null,e!==null?e:Gp(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Gp(t(e))}catch{}}return null}function oN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gp(e);case 8:return e===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ST(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aN(t){var e=ST(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=aN(t))}function IT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ST(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qp(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CT(t,e){e=e.checked,e!=null&&Bg(t,"checked",e,!1)}function Yp(t,e){CT(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xp(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ll(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function AT(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Aw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,PT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lN=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){lN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function bT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function kT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cN=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(cN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rm=null,No=null,Do=null;function Rw(t){if(t=_c(t)){if(typeof rm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=pf(e),rm(t.stateNode,t.type,e))}}function NT(t){No?Do?Do.push(t):Do=[t]:No=t}function DT(){if(No){var t=No,e=Do;if(Do=No=null,Rw(t),e)for(t=0;t<e.length;t++)Rw(e[t])}}function OT(t,e){return t(e)}function VT(){}var zh=!1;function MT(t,e,n){if(zh)return t(e,n);zh=!0;try{return OT(t,e,n)}finally{zh=!1,(No!==null||Do!==null)&&(VT(),DT())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var sm=!1;if(Fr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{sm=!1}function uN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var wl=!1,sd=null,id=!1,im=null,dN={onError:function(t){wl=!0,sd=t}};function fN(t,e,n,r,s,i,o,a,l){wl=!1,sd=null,uN.apply(dN,arguments)}function hN(t,e,n,r,s,i,o,a,l){if(fN.apply(this,arguments),wl){if(wl){var u=sd;wl=!1,sd=null}else throw Error(W(198));id||(id=!0,im=u)}}function Qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pw(t){if(Qi(t)!==t)throw Error(W(188))}function pN(t){var e=t.alternate;if(!e){if(e=Qi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pw(s),t;if(i===r)return Pw(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function jT(t){return t=pN(t),t!==null?FT(t):null}function FT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FT(t);if(e!==null)return e;t=t.sibling}return null}var UT=vn.unstable_scheduleCallback,bw=vn.unstable_cancelCallback,mN=vn.unstable_shouldYield,gN=vn.unstable_requestPaint,st=vn.unstable_now,yN=vn.unstable_getCurrentPriorityLevel,Kg=vn.unstable_ImmediatePriority,$T=vn.unstable_UserBlockingPriority,od=vn.unstable_NormalPriority,vN=vn.unstable_LowPriority,BT=vn.unstable_IdlePriority,uf=null,cr=null;function _N(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(uf,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:xN,wN=Math.log,EN=Math.LN2;function xN(t){return t>>>=0,t===0?32:31-(wN(t)/EN|0)|0}var ru=64,su=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cl(a):(i&=o,i!==0&&(r=cl(i)))}else o=n&~s,o!==0?r=cl(o):i!==0&&(r=cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function TN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=TN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zT(){var t=ru;return ru<<=1,!(ru&4194240)&&(ru=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function IN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function WT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HT,Qg,qT,KT,GT,am=!1,iu=[],As=null,Rs=null,Ps=null,jl=new Map,Fl=new Map,gs=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Xa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_c(e),e!==null&&Qg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AN(t,e,n,r,s){switch(e){case"focusin":return As=Xa(As,t,e,n,r,s),!0;case"dragenter":return Rs=Xa(Rs,t,e,n,r,s),!0;case"mouseover":return Ps=Xa(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jl.set(i,Xa(jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fl.set(i,Xa(Fl.get(i)||null,t,e,n,r,s)),!0}return!1}function QT(t){var e=Ti(t.target);if(e!==null){var n=Qi(e);if(n!==null){if(e=n.tag,e===13){if(e=LT(n),e!==null){t.blockedOn=e,GT(t.priority,function(){qT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nm=r,n.target.dispatchEvent(r),nm=null}else return e=_c(n),e!==null&&Qg(e),t.blockedOn=n,!1;e.shift()}return!0}function Nw(t,e,n){Nu(t)&&n.delete(e)}function RN(){am=!1,As!==null&&Nu(As)&&(As=null),Rs!==null&&Nu(Rs)&&(Rs=null),Ps!==null&&Nu(Ps)&&(Ps=null),jl.forEach(Nw),Fl.forEach(Nw)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,RN)))}function Ul(t){function e(s){return Ja(s,t)}if(0<iu.length){Ja(iu[0],t);for(var n=1;n<iu.length;n++){var r=iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ja(As,t),Rs!==null&&Ja(Rs,t),Ps!==null&&Ja(Ps,t),jl.forEach(e),Fl.forEach(e),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)QT(n),n.blockedOn===null&&gs.shift()}var Oo=Jr.ReactCurrentBatchConfig,ld=!0;function PN(t,e,n,r){var s=Ve,i=Oo.transition;Oo.transition=null;try{Ve=1,Yg(t,e,n,r)}finally{Ve=s,Oo.transition=i}}function bN(t,e,n,r){var s=Ve,i=Oo.transition;Oo.transition=null;try{Ve=4,Yg(t,e,n,r)}finally{Ve=s,Oo.transition=i}}function Yg(t,e,n,r){if(ld){var s=lm(t,e,n,r);if(s===null)ep(t,e,r,cd,n),kw(t,r);else if(AN(s,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<CN.indexOf(t)){for(;s!==null;){var i=_c(s);if(i!==null&&HT(i),i=lm(t,e,n,r),i===null&&ep(t,e,r,cd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ep(t,e,r,null,n)}}var cd=null;function lm(t,e,n,r){if(cd=null,t=qg(r),t=Ti(t),t!==null)if(e=Qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cd=t,null}function YT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yN()){case Kg:return 1;case $T:return 4;case od:case vN:return 16;case BT:return 536870912;default:return 16}default:return 16}}var xs=null,Xg=null,Du=null;function XT(){if(Du)return Du;var t,e=Xg,n=e.length,r,s="value"in xs?xs.value:xs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Du=s.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function Dw(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ou:Dw,this.isPropagationStopped=Dw,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=Tn(ha),vc=Qe({},ha,{view:0,detail:0}),kN=Tn(vc),Hh,qh,Za,df=Qe({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(Hh=t.screenX-Za.screenX,qh=t.screenY-Za.screenY):qh=Hh=0,Za=t),Hh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Ow=Tn(df),NN=Qe({},df,{dataTransfer:0}),DN=Tn(NN),ON=Qe({},vc,{relatedTarget:0}),Kh=Tn(ON),VN=Qe({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=Tn(VN),LN=Qe({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jN=Tn(LN),FN=Qe({},ha,{data:0}),Vw=Tn(FN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$N={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BN[t])?!!e[t]:!1}function Zg(){return zN}var WN=Qe({},vc,{key:function(t){if(t.key){var e=UN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$N[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HN=Tn(WN),qN=Qe({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=Tn(qN),KN=Qe({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),GN=Tn(KN),QN=Qe({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),YN=Tn(QN),XN=Qe({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JN=Tn(XN),ZN=[9,13,27,32],ey=Fr&&"CompositionEvent"in window,El=null;Fr&&"documentMode"in document&&(El=document.documentMode);var eD=Fr&&"TextEvent"in window&&!El,JT=Fr&&(!ey||El&&8<El&&11>=El),Lw=" ",jw=!1;function ZT(t,e){switch(t){case"keyup":return ZN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function tD(t,e){switch(t){case"compositionend":return eS(e);case"keypress":return e.which!==32?null:(jw=!0,Lw);case"textInput":return t=e.data,t===Lw&&jw?null:t;default:return null}}function nD(t,e){if(wo)return t==="compositionend"||!ey&&ZT(t,e)?(t=XT(),Du=Xg=xs=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JT&&e.locale!=="ko"?null:e.data;default:return null}}var rD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rD[t.type]:e==="textarea"}function tS(t,e,n,r){NT(r),e=ud(e,"onChange"),0<e.length&&(n=new Jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,$l=null;function sD(t){fS(t,0)}function ff(t){var e=To(t);if(IT(e))return t}function iD(t,e){if(t==="change")return e}var nS=!1;if(Fr){var Gh;if(Fr){var Qh="oninput"in document;if(!Qh){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),Qh=typeof Uw.oninput=="function"}Gh=Qh}else Gh=!1;nS=Gh&&(!document.documentMode||9<document.documentMode)}function $w(){xl&&(xl.detachEvent("onpropertychange",rS),$l=xl=null)}function rS(t){if(t.propertyName==="value"&&ff($l)){var e=[];tS(e,$l,t,qg(t)),MT(sD,e)}}function oD(t,e,n){t==="focusin"?($w(),xl=e,$l=n,xl.attachEvent("onpropertychange",rS)):t==="focusout"&&$w()}function aD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ff($l)}function lD(t,e){if(t==="click")return ff(e)}function cD(t,e){if(t==="input"||t==="change")return ff(e)}function uD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:uD;function Bl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wp.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function Bw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=Bw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bw(n)}}function sS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iS(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dD(t){var e=iS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sS(n.ownerDocument.documentElement,n)){if(r!==null&&ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zw(n,i);var o=zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fD=Fr&&"documentMode"in document&&11>=document.documentMode,Eo=null,cm=null,Tl=null,um=!1;function Ww(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;um||Eo==null||Eo!==rd(r)||(r=Eo,"selectionStart"in r&&ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Bl(Tl,r)||(Tl=r,r=ud(cm,"onSelect"),0<r.length&&(e=new Jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eo)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Yh={},oS={};Fr&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function hf(t){if(Yh[t])return Yh[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oS)return Yh[t]=e[n];return t}var aS=hf("animationend"),lS=hf("animationiteration"),cS=hf("animationstart"),uS=hf("transitionend"),dS=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){dS.set(t,e),Gi(e,[t])}for(var Xh=0;Xh<Hw.length;Xh++){var Jh=Hw[Xh],hD=Jh.toLowerCase(),pD=Jh[0].toUpperCase()+Jh.slice(1);ti(hD,"on"+pD)}ti(aS,"onAnimationEnd");ti(lS,"onAnimationIteration");ti(cS,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(uS,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function qw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hN(r,e,void 0,t),t.currentTarget=null}function fS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qw(s,a,u),i=l}}}if(id)throw t=im,id=!1,im=null,t}function Be(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var r=t+"__bubble";n.has(r)||(hS(e,t,2,!1),n.add(r))}function Zh(t,e,n){var r=0;e&&(r|=4),hS(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function zl(t){if(!t[lu]){t[lu]=!0,wT.forEach(function(n){n!=="selectionchange"&&(mD.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,Zh("selectionchange",!1,e))}}function hS(t,e,n,r){switch(YT(e)){case 1:var s=PN;break;case 4:s=bN;break;default:s=Yg}n=s.bind(null,e,n,t),s=void 0,!sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ep(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}MT(function(){var u=i,d=qg(n),h=[];e:{var m=dS.get(t);if(m!==void 0){var _=Jg,T=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":_=HN;break;case"focusin":T="focus",_=Kh;break;case"focusout":T="blur",_=Kh;break;case"beforeblur":case"afterblur":_=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=DN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=GN;break;case aS:case lS:case cS:_=MN;break;case uS:_=YN;break;case"scroll":_=kN;break;case"wheel":_=JN;break;case"copy":case"cut":case"paste":_=jN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Mw}var w=(e&4)!==0,I=!w&&t==="scroll",E=w?m!==null?m+"Capture":null:m;w=[];for(var v=u,x;v!==null;){x=v;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,E!==null&&(k=Ll(v,E),k!=null&&w.push(Wl(v,k,x)))),I)break;v=v.return}0<w.length&&(m=new _(m,T,null,n,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==nm&&(T=n.relatedTarget||n.fromElement)&&(Ti(T)||T[Ur]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(T=n.relatedTarget||n.toElement,_=u,T=T?Ti(T):null,T!==null&&(I=Qi(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(_=null,T=u),_!==T)){if(w=Ow,k="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Mw,k="onPointerLeave",E="onPointerEnter",v="pointer"),I=_==null?m:To(_),x=T==null?m:To(T),m=new w(k,v+"leave",_,n,d),m.target=I,m.relatedTarget=x,k=null,Ti(d)===u&&(w=new w(E,v+"enter",T,n,d),w.target=x,w.relatedTarget=I,k=w),I=k,_&&T)t:{for(w=_,E=T,v=0,x=w;x;x=lo(x))v++;for(x=0,k=E;k;k=lo(k))x++;for(;0<v-x;)w=lo(w),v--;for(;0<x-v;)E=lo(E),x--;for(;v--;){if(w===E||E!==null&&w===E.alternate)break t;w=lo(w),E=lo(E)}w=null}else w=null;_!==null&&Kw(h,m,_,w,!1),T!==null&&I!==null&&Kw(h,I,T,w,!0)}}e:{if(m=u?To(u):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var O=iD;else if(Fw(m))if(nS)O=cD;else{O=aD;var L=oD}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=lD);if(O&&(O=O(t,u))){tS(h,O,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Xp(m,"number",m.value)}switch(L=u?To(u):window,t){case"focusin":(Fw(L)||L.contentEditable==="true")&&(Eo=L,cm=u,Tl=null);break;case"focusout":Tl=cm=Eo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Ww(h,n,d);break;case"selectionchange":if(fD)break;case"keydown":case"keyup":Ww(h,n,d)}var C;if(ey)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else wo?ZT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(JT&&n.locale!=="ko"&&(wo||S!=="onCompositionStart"?S==="onCompositionEnd"&&wo&&(C=XT()):(xs=d,Xg="value"in xs?xs.value:xs.textContent,wo=!0)),L=ud(u,S),0<L.length&&(S=new Vw(S,t,null,n,d),h.push({event:S,listeners:L}),C?S.data=C:(C=eS(n),C!==null&&(S.data=C)))),(C=eD?tD(t,n):nD(t,n))&&(u=ud(u,"onBeforeInput"),0<u.length&&(d=new Vw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}fS(h,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ll(t,n),i!=null&&r.unshift(Wl(t,i,s)),i=Ll(t,e),i!=null&&r.push(Wl(t,i,s))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ll(n,i),l!=null&&o.unshift(Wl(n,l,a))):s||(l=Ll(n,i),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gD=/\r\n?/g,yD=/\u0000|\uFFFD/g;function Gw(t){return(typeof t=="string"?t:""+t).replace(gD,`
`).replace(yD,"")}function cu(t,e,n){if(e=Gw(e),Gw(t)!==e&&n)throw Error(W(425))}function dd(){}var dm=null,fm=null;function hm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,vD=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,_D=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(t){return Qw.resolve(null).then(t).catch(wD)}:pm;function wD(t){setTimeout(function(){throw t})}function tp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ul(e)}function bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),ir="__reactFiber$"+pa,Hl="__reactProps$"+pa,Ur="__reactContainer$"+pa,mm="__reactEvents$"+pa,ED="__reactListeners$"+pa,xD="__reactHandles$"+pa;function Ti(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yw(t);t!==null;){if(n=t[ir])return n;t=Yw(t)}return e}t=n,n=t.parentNode}return null}function _c(t){return t=t[ir]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function To(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function pf(t){return t[Hl]||null}var gm=[],So=-1;function ni(t){return{current:t}}function We(t){0>So||(t.current=gm[So],gm[So]=null,So--)}function Fe(t,e){So++,gm[So]=t.current,t.current=e}var zs={},Ut=ni(zs),rn=ni(!1),ki=zs;function qo(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function sn(t){return t=t.childContextTypes,t!=null}function fd(){We(rn),We(Ut)}function Xw(t,e,n){if(Ut.current!==zs)throw Error(W(168));Fe(Ut,e),Fe(rn,n)}function pS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,oN(t)||"Unknown",s));return Qe({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,ki=Ut.current,Fe(Ut,t),Fe(rn,rn.current),!0}function Jw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=pS(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,We(rn),We(Ut),Fe(Ut,t)):We(rn),Fe(rn,n)}var Rr=null,mf=!1,np=!1;function mS(t){Rr===null?Rr=[t]:Rr.push(t)}function TD(t){mf=!0,mS(t)}function ri(){if(!np&&Rr!==null){np=!0;var t=0,e=Ve;try{var n=Rr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,mf=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),UT(Kg,ri),s}finally{Ve=e,np=!1}}return null}var Io=[],Co=0,pd=null,md=0,Cn=[],An=0,Ni=null,br=1,kr="";function yi(t,e){Io[Co++]=md,Io[Co++]=pd,pd=t,md=e}function gS(t,e,n){Cn[An++]=br,Cn[An++]=kr,Cn[An++]=Ni,Ni=t;var r=br;t=kr;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,br=1<<32-zn(e)+s|n<<s|r,kr=i+t}else br=1<<i|n<<s|r,kr=t}function ny(t){t.return!==null&&(yi(t,1),gS(t,1,0))}function ry(t){for(;t===pd;)pd=Io[--Co],Io[Co]=null,md=Io[--Co],Io[Co]=null;for(;t===Ni;)Ni=Cn[--An],Cn[An]=null,kr=Cn[--An],Cn[An]=null,br=Cn[--An],Cn[An]=null}var gn=null,pn=null,He=!1,Fn=null;function yS(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:br,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vm(t){if(He){var e=pn;if(e){var n=e;if(!Zw(t,e)){if(ym(t))throw Error(W(418));e=bs(n.nextSibling);var r=gn;e&&Zw(t,e)?yS(r,n):(t.flags=t.flags&-4097|2,He=!1,gn=t)}}else{if(ym(t))throw Error(W(418));t.flags=t.flags&-4097|2,He=!1,gn=t}}}function eE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function uu(t){if(t!==gn)return!1;if(!He)return eE(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hm(t.type,t.memoizedProps)),e&&(e=pn)){if(ym(t))throw vS(),Error(W(418));for(;e;)yS(t,e),e=bs(e.nextSibling)}if(eE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?bs(t.stateNode.nextSibling):null;return!0}function vS(){for(var t=pn;t;)t=bs(t.nextSibling)}function Ko(){pn=gn=null,He=!1}function sy(t){Fn===null?Fn=[t]:Fn.push(t)}var SD=Jr.ReactCurrentBatchConfig;function el(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function du(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tE(t){var e=t._init;return e(t._payload)}function _S(t){function e(E,v){if(t){var x=E.deletions;x===null?(E.deletions=[v],E.flags|=16):x.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function s(E,v){return E=Os(E,v),E.index=0,E.sibling=null,E}function i(E,v,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<v?(E.flags|=2,v):x):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,x,k){return v===null||v.tag!==6?(v=cp(x,E.mode,k),v.return=E,v):(v=s(v,x),v.return=E,v)}function l(E,v,x,k){var O=x.type;return O===_o?d(E,v,x.props.children,k,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ps&&tE(O)===v.type)?(k=s(v,x.props),k.ref=el(E,v,x),k.return=E,k):(k=$u(x.type,x.key,x.props,null,E.mode,k),k.ref=el(E,v,x),k.return=E,k)}function u(E,v,x,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=up(x,E.mode,k),v.return=E,v):(v=s(v,x.children||[]),v.return=E,v)}function d(E,v,x,k,O){return v===null||v.tag!==7?(v=Pi(x,E.mode,k,O),v.return=E,v):(v=s(v,x),v.return=E,v)}function h(E,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cp(""+v,E.mode,x),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eu:return x=$u(v.type,v.key,v.props,null,E.mode,x),x.ref=el(E,null,v),x.return=E,x;case vo:return v=up(v,E.mode,x),v.return=E,v;case ps:var k=v._init;return h(E,k(v._payload),x)}if(ll(v)||Qa(v))return v=Pi(v,E.mode,x,null),v.return=E,v;du(E,v)}return null}function m(E,v,x,k){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(E,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:return x.key===O?l(E,v,x,k):null;case vo:return x.key===O?u(E,v,x,k):null;case ps:return O=x._init,m(E,v,O(x._payload),k)}if(ll(x)||Qa(x))return O!==null?null:d(E,v,x,k,null);du(E,x)}return null}function _(E,v,x,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(x)||null,a(v,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eu:return E=E.get(k.key===null?x:k.key)||null,l(v,E,k,O);case vo:return E=E.get(k.key===null?x:k.key)||null,u(v,E,k,O);case ps:var L=k._init;return _(E,v,x,L(k._payload),O)}if(ll(k)||Qa(k))return E=E.get(x)||null,d(v,E,k,O,null);du(v,k)}return null}function T(E,v,x,k){for(var O=null,L=null,C=v,S=v=0,R=null;C!==null&&S<x.length;S++){C.index>S?(R=C,C=null):R=C.sibling;var b=m(E,C,x[S],k);if(b===null){C===null&&(C=R);break}t&&C&&b.alternate===null&&e(E,C),v=i(b,v,S),L===null?O=b:L.sibling=b,L=b,C=R}if(S===x.length)return n(E,C),He&&yi(E,S),O;if(C===null){for(;S<x.length;S++)C=h(E,x[S],k),C!==null&&(v=i(C,v,S),L===null?O=C:L.sibling=C,L=C);return He&&yi(E,S),O}for(C=r(E,C);S<x.length;S++)R=_(C,E,S,x[S],k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),v=i(R,v,S),L===null?O=R:L.sibling=R,L=R);return t&&C.forEach(function(D){return e(E,D)}),He&&yi(E,S),O}function w(E,v,x,k){var O=Qa(x);if(typeof O!="function")throw Error(W(150));if(x=O.call(x),x==null)throw Error(W(151));for(var L=O=null,C=v,S=v=0,R=null,b=x.next();C!==null&&!b.done;S++,b=x.next()){C.index>S?(R=C,C=null):R=C.sibling;var D=m(E,C,b.value,k);if(D===null){C===null&&(C=R);break}t&&C&&D.alternate===null&&e(E,C),v=i(D,v,S),L===null?O=D:L.sibling=D,L=D,C=R}if(b.done)return n(E,C),He&&yi(E,S),O;if(C===null){for(;!b.done;S++,b=x.next())b=h(E,b.value,k),b!==null&&(v=i(b,v,S),L===null?O=b:L.sibling=b,L=b);return He&&yi(E,S),O}for(C=r(E,C);!b.done;S++,b=x.next())b=_(C,E,S,b.value,k),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?S:b.key),v=i(b,v,S),L===null?O=b:L.sibling=b,L=b);return t&&C.forEach(function(N){return e(E,N)}),He&&yi(E,S),O}function I(E,v,x,k){if(typeof x=="object"&&x!==null&&x.type===_o&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:e:{for(var O=x.key,L=v;L!==null;){if(L.key===O){if(O=x.type,O===_o){if(L.tag===7){n(E,L.sibling),v=s(L,x.props.children),v.return=E,E=v;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ps&&tE(O)===L.type){n(E,L.sibling),v=s(L,x.props),v.ref=el(E,L,x),v.return=E,E=v;break e}n(E,L);break}else e(E,L);L=L.sibling}x.type===_o?(v=Pi(x.props.children,E.mode,k,x.key),v.return=E,E=v):(k=$u(x.type,x.key,x.props,null,E.mode,k),k.ref=el(E,v,x),k.return=E,E=k)}return o(E);case vo:e:{for(L=x.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(E,v.sibling),v=s(v,x.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=up(x,E.mode,k),v.return=E,E=v}return o(E);case ps:return L=x._init,I(E,v,L(x._payload),k)}if(ll(x))return T(E,v,x,k);if(Qa(x))return w(E,v,x,k);du(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(E,v.sibling),v=s(v,x),v.return=E,E=v):(n(E,v),v=cp(x,E.mode,k),v.return=E,E=v),o(E)):n(E,v)}return I}var Go=_S(!0),wS=_S(!1),gd=ni(null),yd=null,Ao=null,iy=null;function oy(){iy=Ao=yd=null}function ay(t){var e=gd.current;We(gd),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){yd=t,iy=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(iy!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(yd===null)throw Error(W(308));Ao=t,yd.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var Si=null;function ly(t){Si===null?Si=[t]:Si.push(t)}function ES(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ly(e)):(n.next=s.next,s.next=n),e.interleaved=n,$r(t,r)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$r(t,n)}return s=r.interleaved,s===null?(e.next=e,ly(r)):(e.next=s.next,s.next=e),r.interleaved=e,$r(t,n)}function Vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}function nE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,_=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(m=e,_=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(_,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(_,h,m):T,m==null)break e;h=Qe({},h,m);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else _={eventTime:_,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=_,l=h):d=d.next=_,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function rE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var wc={},ur=ni(wc),ql=ni(wc),Kl=ni(wc);function Ii(t){if(t===wc)throw Error(W(174));return t}function uy(t,e){switch(Fe(Kl,e),Fe(ql,t),Fe(ur,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zp(e,t)}We(ur),Fe(ur,e)}function Qo(){We(ur),We(ql),We(Kl)}function TS(t){Ii(Kl.current);var e=Ii(ur.current),n=Zp(e,t.type);e!==n&&(Fe(ql,t),Fe(ur,n))}function dy(t){ql.current===t&&(We(ur),We(ql))}var Ke=ni(0);function _d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function fy(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var Mu=Jr.ReactCurrentDispatcher,sp=Jr.ReactCurrentBatchConfig,Di=0,Ge=null,ft=null,vt=null,wd=!1,Sl=!1,Gl=0,ID=0;function Ot(){throw Error(W(321))}function hy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function py(t,e,n,r,s,i){if(Di=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mu.current=t===null||t.memoizedState===null?PD:bD,t=n(r,s),Sl){i=0;do{if(Sl=!1,Gl=0,25<=i)throw Error(W(301));i+=1,vt=ft=null,e.updateQueue=null,Mu.current=kD,t=n(r,s)}while(Sl)}if(Mu.current=Ed,e=ft!==null&&ft.next!==null,Di=0,vt=ft=Ge=null,wd=!1,e)throw Error(W(300));return t}function my(){var t=Gl!==0;return Gl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Nn(){if(ft===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(W(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function Ql(t,e){return typeof e=="function"?e(t):e}function ip(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Di&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=d,Oi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function op(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(nn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function SS(){}function IS(t,e){var n=Ge,r=Nn(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,nn=!0),r=r.queue,gy(RS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Yl(9,AS.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(W(349));Di&30||CS(n,e,s)}return s}function CS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AS(t,e,n,r){e.value=n,e.getSnapshot=r,PS(e)&&bS(t)}function RS(t,e,n){return n(function(){PS(e)&&bS(t)})}function PS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function bS(t){var e=$r(t,1);e!==null&&Wn(e,t,1,-1)}function sE(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=RD.bind(null,Ge,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kS(){return Nn().memoizedState}function Lu(t,e,n,r){var s=rr();Ge.flags|=t,s.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function gf(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&hy(r,o.deps)){s.memoizedState=Yl(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=Yl(1|e,n,i,r)}function iE(t,e){return Lu(8390656,8,t,e)}function gy(t,e){return gf(2048,8,t,e)}function NS(t,e){return gf(4,2,t,e)}function DS(t,e){return gf(4,4,t,e)}function OS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VS(t,e,n){return n=n!=null?n.concat([t]):null,gf(4,4,OS.bind(null,e,t),n)}function yy(){}function MS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jS(t,e,n){return Di&21?(Hn(n,e)||(n=zT(),Ge.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function CD(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=sp.transition;sp.transition={};try{t(!1),e()}finally{Ve=n,sp.transition=r}}function FS(){return Nn().memoizedState}function AD(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},US(t))$S(e,n);else if(n=ES(t,e,n,r),n!==null){var s=qt();Wn(n,t,r,s),BS(n,e,r)}}function RD(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(US(t))$S(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,ly(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ES(t,e,s,r),n!==null&&(s=qt(),Wn(n,t,r,s),BS(n,e,r))}}function US(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function $S(t,e){Sl=wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}var Ed={readContext:kn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},PD={readContext:kn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:iE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4194308,4,OS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lu(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AD.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:sE,useDebugValue:yy,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=sE(!1),e=t[0];return t=CD.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=rr();if(He){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),_t===null)throw Error(W(349));Di&30||CS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,iE(RS.bind(null,r,i,t),[t]),r.flags|=2048,Yl(9,AS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rr(),e=_t.identifierPrefix;if(He){var n=kr,r=br;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ID++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bD={readContext:kn,useCallback:MS,useContext:kn,useEffect:gy,useImperativeHandle:VS,useInsertionEffect:NS,useLayoutEffect:DS,useMemo:LS,useReducer:ip,useRef:kS,useState:function(){return ip(Ql)},useDebugValue:yy,useDeferredValue:function(t){var e=Nn();return jS(e,ft.memoizedState,t)},useTransition:function(){var t=ip(Ql)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:SS,useSyncExternalStore:IS,useId:FS,unstable_isNewReconciler:!1},kD={readContext:kn,useCallback:MS,useContext:kn,useEffect:gy,useImperativeHandle:VS,useInsertionEffect:NS,useLayoutEffect:DS,useMemo:LS,useReducer:op,useRef:kS,useState:function(){return op(Ql)},useDebugValue:yy,useDeferredValue:function(t){var e=Nn();return ft===null?e.memoizedState=t:jS(e,ft.memoizedState,t)},useTransition:function(){var t=op(Ql)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:SS,useSyncExternalStore:IS,useId:FS,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yf={isMounted:function(t){return(t=t._reactInternals)?Qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ds(t),i=Vr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Wn(e,t,s,r),Vu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ds(t),i=Vr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Wn(e,t,s,r),Vu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Ds(t),s=Vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ks(t,s,r),e!==null&&(Wn(e,t,r,n),Vu(e,t,r))}};function oE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,i):!0}function zS(t,e,n){var r=!1,s=zs,i=e.contextType;return typeof i=="object"&&i!==null?i=kn(i):(s=sn(e)?ki:Ut.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function aE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yf.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kn(i):(i=sn(e)?ki:Ut.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yf.enqueueReplaceState(s,s.state,null),vd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=iN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ap(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ND=typeof WeakMap=="function"?WeakMap:Map;function WS(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Td||(Td=!0,Nm=r),xm(t,e)},n}function HS(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xm(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ND;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=qD.bind(null,t,e,n),e.then(t,t))}function cE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var DD=Jr.ReactCurrentOwner,nn=!1;function Wt(t,e,n,r){e.child=t===null?wS(e,null,n,r):Go(e,t.child,n,r)}function dE(t,e,n,r,s){n=n.render;var i=e.ref;return Vo(e,s),r=py(t,e,n,r,i,s),n=my(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(He&&n&&ny(e),e.flags|=1,Wt(t,e,r,s),e.child)}function fE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Iy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qS(t,e,i,r,s)):(t=$u(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function qS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bl(i,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Br(t,e,s)}return Tm(t,e,n,r,s)}function KS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Po,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Po,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Po,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(Po,dn),dn|=r;return Wt(t,e,s,n),e.child}function GS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,r,s){var i=sn(n)?ki:Ut.current;return i=qo(e,i),Vo(e,s),n=py(t,e,n,r,i,s),r=my(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(He&&r&&ny(e),e.flags|=1,Wt(t,e,n,s),e.child)}function hE(t,e,n,r,s){if(sn(n)){var i=!0;hd(e)}else i=!1;if(Vo(e,s),e.stateNode===null)ju(t,e),zS(e,n,r),Em(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=sn(n)?ki:Ut.current,u=qo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aE(e,o,r,u),ms=!1;var m=e.memoizedState;o.state=m,vd(e,r,o,s),l=e.memoizedState,a!==r||m!==l||rn.current||ms?(typeof d=="function"&&(wm(e,n,d,r),l=e.memoizedState),(a=ms||oE(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=sn(n)?ki:Ut.current,l=qo(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&aE(e,o,r,l),ms=!1,m=e.memoizedState,o.state=m,vd(e,r,o,s);var T=e.memoizedState;a!==h||m!==T||rn.current||ms?(typeof _=="function"&&(wm(e,n,_,r),T=e.memoizedState),(u=ms||oE(e,n,u,r,m,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,s)}function Sm(t,e,n,r,s,i){GS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jw(e,n,!1),Br(t,e,i);r=e.stateNode,DD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,i),e.child=Go(e,null,a,i)):Wt(t,e,a,i),e.memoizedState=r.state,s&&Jw(e,n,!0),e.child}function QS(t){var e=t.stateNode;e.pendingContext?Xw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xw(t,e.context,!1),uy(t,e.containerInfo)}function pE(t,e,n,r,s){return Ko(),sy(s),e.flags|=256,Wt(t,e,n,r),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function YS(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ke,s&1),t===null)return vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wf(o,r,0,null),t=Pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cm(n),e.memoizedState=Im,t):vy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return OD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Pi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Im,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vy(t,e){return e=wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fu(t,e,n,r){return r!==null&&sy(r),Go(e,t.child,null,n),t=vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ap(Error(W(422))),fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wf({mode:"visible",children:r.children},s,0,null),i=Pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=Cm(o),e.memoizedState=Im,i);if(!(e.mode&1))return fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=ap(i,r,void 0),fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,nn||a){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$r(t,s),Wn(r,t,s,-1))}return Sy(),r=ap(Error(W(421))),fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=KD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=bs(s.nextSibling),gn=e,He=!0,Fn=null,t!==null&&(Cn[An++]=br,Cn[An++]=kr,Cn[An++]=Ni,br=t.id,kr=t.overflow,Ni=e),e=vy(e,r.children),e.flags|=4096,e)}function mE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_m(t.return,e,n)}function lp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function XS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mE(t,n,e);else if(t.tag===19)mE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_d(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_d(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lp(e,!0,n,null,i);break;case"together":lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VD(t,e,n){switch(e.tag){case 3:QS(e),Ko();break;case 5:TS(e);break;case 1:sn(e.type)&&hd(e);break;case 4:uy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(gd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?YS(t,e,n):(Fe(Ke,Ke.current&1),t=Br(t,e,n),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,KS(t,e,n)}return Br(t,e,n)}var JS,Am,ZS,eI;JS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};ZS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ii(ur.current);var i=null;switch(n){case"input":s=Qp(t,s),r=Qp(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=Jp(t,s),r=Jp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}em(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};eI=function(t,e,n,r){n!==r&&(e.flags|=4)};function tl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MD(t,e,n){var r=e.pendingProps;switch(ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return sn(e.type)&&fd(),Vt(e),null;case 3:return r=e.stateNode,Qo(),We(rn),We(Ut),fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Vm(Fn),Fn=null))),Am(t,e),Vt(e),null;case 5:dy(e);var s=Ii(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)ZS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Vt(e),null}if(t=Ii(ur.current),uu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ir]=e,r[Hl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<ul.length;s++)Be(ul[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Sw(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Cw(r,i),Be("invalid",r)}em(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":tu(r),Iw(r,i,!0);break;case"textarea":tu(r),Aw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[Hl]=r,JS(t,e,!1,!1),e.stateNode=t;e:{switch(o=tm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<ul.length;s++)Be(ul[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Sw(t,r),s=Qp(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Cw(t,r),s=Jp(t,r),Be("invalid",t);break;default:s=r}em(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ml(t,l):typeof l=="number"&&Ml(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&Bg(t,i,l,o))}switch(n){case"input":tu(t),Iw(t,r,!1);break;case"textarea":tu(t),Aw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ko(t,!!r.multiple,i,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)eI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ii(Kl.current),Ii(ur.current),uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(i=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&pn!==null&&e.mode&1&&!(e.flags&128))vS(),Ko(),e.flags|=98560,i=!1;else if(i=uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[ir]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Fn!==null&&(Vm(Fn),Fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ht===0&&(ht=3):Sy())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Qo(),Am(t,e),t===null&&zl(e.stateNode.containerInfo),Vt(e),null;case 10:return ay(e.type._context),Vt(e),null;case 17:return sn(e.type)&&fd(),Vt(e),null;case 19:if(We(Ke),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)tl(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_d(t),o!==null){for(e.flags|=128,tl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>Xo&&(e.flags|=128,r=!0,tl(i,!1),e.lanes=4194304)}else{if(!r)if(t=_d(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Vt(e),null}else 2*st()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,tl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=Ke.current,Fe(Ke,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Ty(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function LD(t,e){switch(ry(e),e.tag){case 1:return sn(e.type)&&fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),We(rn),We(Ut),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(We(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ke),null;case 4:return Qo(),null;case 10:return ay(e.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var hu=!1,jt=!1,jD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Rm(t,e,n){try{n()}catch(r){Je(t,e,r)}}var gE=!1;function FD(t,e){if(dm=ld,t=iS(),ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var _;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)m=h,h=_;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(_=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},ld=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,I=T.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ln(e.type,w),I);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){Je(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return T=gE,gE=!1,T}function Il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rm(e,n,i)}s=s.next}while(s!==r)}}function vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tI(t){var e=t.alternate;e!==null&&(t.alternate=null,tI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[Hl],delete e[mm],delete e[ED],delete e[xD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nI(t){return t.tag===5||t.tag===3||t.tag===4}function yE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var St=null,jn=!1;function ls(t,e,n){for(n=n.child;n!==null;)rI(t,e,n),n=n.sibling}function rI(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:jt||Ro(n,e);case 6:var r=St,s=jn;St=null,ls(t,e,n),St=r,jn=s,St!==null&&(jn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(jn?(t=St,n=n.stateNode,t.nodeType===8?tp(t.parentNode,n):t.nodeType===1&&tp(t,n),Ul(t)):tp(St,n.stateNode));break;case 4:r=St,s=jn,St=n.stateNode.containerInfo,jn=!0,ls(t,e,n),St=r,jn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rm(n,e,o),s=s.next}while(s!==r)}ls(t,e,n);break;case 1:if(!jt&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,ls(t,e,n),jt=r):ls(t,e,n);break;default:ls(t,e,n)}}function vE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jD),e.forEach(function(r){var s=GD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,jn=!1;break e;case 3:St=a.stateNode.containerInfo,jn=!0;break e;case 4:St=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(St===null)throw Error(W(160));rI(i,o,s),St=null,jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sI(e,t),e=e.sibling}function sI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),nr(t),r&4){try{Il(3,t,t.return),vf(3,t)}catch(w){Je(t,t.return,w)}try{Il(5,t,t.return)}catch(w){Je(t,t.return,w)}}break;case 1:On(e,t),nr(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(On(e,t),nr(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var s=t.stateNode;try{Ml(s,"")}catch(w){Je(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&CT(s,i),tm(a,o);var u=tm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?kT(s,h):d==="dangerouslySetInnerHTML"?PT(s,h):d==="children"?Ml(s,h):Bg(s,d,h,u)}switch(a){case"input":Yp(s,i);break;case"textarea":AT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?ko(s,!!i.multiple,_,!1):m!==!!i.multiple&&(i.defaultValue!=null?ko(s,!!i.multiple,i.defaultValue,!0):ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hl]=i}catch(w){Je(t,t.return,w)}}break;case 6:if(On(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Je(t,t.return,w)}}break;case 3:if(On(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(w){Je(t,t.return,w)}break;case 4:On(e,t),nr(t);break;case 13:On(e,t),nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ey=st())),r&4&&vE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||d,On(e,t),jt=u):On(e,t),nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(m=ee,_=m.child,m.tag){case 0:case 11:case 14:case 15:Il(4,m,m.return);break;case 1:Ro(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){Je(r,n,w)}}break;case 5:Ro(m,m.return);break;case 22:if(m.memoizedState!==null){wE(h);continue}}_!==null?(_.return=m,ee=_):wE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bT("display",o))}catch(w){Je(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Je(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:On(e,t),nr(t),r&4&&vE(t);break;case 21:break;default:On(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nI(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ml(s,""),r.flags&=-33);var i=yE(t);km(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yE(t);bm(t,a,o);break;default:throw Error(W(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UD(t,e,n){ee=t,iI(t)}function iI(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=hu;var u=jt;if(hu=o,(jt=l)&&!u)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?EE(s):l!==null?(l.return=o,ee=l):EE(s);for(;i!==null;)ee=i,iI(i),i=i.sibling;ee=s,hu=a,jt=u}_E(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):_E(t)}}function _E(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||vf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ul(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}jt||e.flags&512&&Pm(e)}catch(m){Je(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function wE(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function EE(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vf(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{Pm(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{Pm(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var $D=Math.ceil,xd=Jr.ReactCurrentDispatcher,_y=Jr.ReactCurrentOwner,Pn=Jr.ReactCurrentBatchConfig,Pe=0,_t=null,ct=null,Rt=0,dn=0,Po=ni(0),ht=0,Xl=null,Oi=0,_f=0,wy=0,Cl=null,en=null,Ey=0,Xo=1/0,Ar=null,Td=!1,Nm=null,Ns=null,pu=!1,Ts=null,Sd=0,Al=0,Dm=null,Fu=-1,Uu=0;function qt(){return Pe&6?st():Fu!==-1?Fu:Fu=st()}function Ds(t){return t.mode&1?Pe&2&&Rt!==0?Rt&-Rt:SD.transition!==null?(Uu===0&&(Uu=zT()),Uu):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:YT(t.type)),t):1}function Wn(t,e,n,r){if(50<Al)throw Al=0,Dm=null,Error(W(185));yc(t,n,r),(!(Pe&2)||t!==_t)&&(t===_t&&(!(Pe&2)&&(_f|=n),ht===4&&ys(t,Rt)),on(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Xo=st()+500,mf&&ri()))}function on(t,e){var n=t.callbackNode;SN(t,e);var r=ad(t,t===_t?Rt:0);if(r===0)n!==null&&bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bw(n),e===1)t.tag===0?TD(xE.bind(null,t)):mS(xE.bind(null,t)),_D(function(){!(Pe&6)&&ri()}),n=null;else{switch(WT(r)){case 1:n=Kg;break;case 4:n=$T;break;case 16:n=od;break;case 536870912:n=BT;break;default:n=od}n=hI(n,oI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oI(t,e){if(Fu=-1,Uu=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=ad(t,t===_t?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Id(t,r);else{e=r;var s=Pe;Pe|=2;var i=lI();(_t!==t||Rt!==e)&&(Ar=null,Xo=st()+500,Ri(t,e));do try{WD();break}catch(a){aI(t,a)}while(!0);oy(),xd.current=i,Pe=s,ct!==null?e=0:(_t=null,Rt=0,e=ht)}if(e!==0){if(e===2&&(s=om(t),s!==0&&(r=s,e=Om(t,s))),e===1)throw n=Xl,Ri(t,0),ys(t,r),on(t,st()),n;if(e===6)ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!BD(s)&&(e=Id(t,r),e===2&&(i=om(t),i!==0&&(r=i,e=Om(t,i))),e===1))throw n=Xl,Ri(t,0),ys(t,r),on(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:vi(t,en,Ar);break;case 3:if(ys(t,r),(r&130023424)===r&&(e=Ey+500-st(),10<e)){if(ad(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=pm(vi.bind(null,t,en,Ar),e);break}vi(t,en,Ar);break;case 4:if(ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$D(r/1960))-r,10<r){t.timeoutHandle=pm(vi.bind(null,t,en,Ar),r);break}vi(t,en,Ar);break;case 5:vi(t,en,Ar);break;default:throw Error(W(329))}}}return on(t,st()),t.callbackNode===n?oI.bind(null,t):null}function Om(t,e){var n=Cl;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Id(t,e),t!==2&&(e=en,en=n,e!==null&&Vm(e)),t}function Vm(t){en===null?en=t:en.push.apply(en,t)}function BD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~wy,e&=~_f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function xE(t){if(Pe&6)throw Error(W(327));Mo();var e=ad(t,0);if(!(e&1))return on(t,st()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=om(t);r!==0&&(e=r,n=Om(t,r))}if(n===1)throw n=Xl,Ri(t,0),ys(t,e),on(t,st()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,en,Ar),on(t,st()),null}function xy(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Xo=st()+500,mf&&ri())}}function Vi(t){Ts!==null&&Ts.tag===0&&!(Pe&6)&&Mo();var e=Pe;Pe|=1;var n=Pn.transition,r=Ve;try{if(Pn.transition=null,Ve=1,t)return t()}finally{Ve=r,Pn.transition=n,Pe=e,!(Pe&6)&&ri()}}function Ty(){dn=Po.current,We(Po)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vD(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fd();break;case 3:Qo(),We(rn),We(Ut),fy();break;case 5:dy(r);break;case 4:Qo();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:ay(r.type._context);break;case 22:case 23:Ty()}n=n.return}if(_t=t,ct=t=Os(t.current,null),Rt=dn=e,ht=0,Xl=null,wy=_f=Oi=0,en=Cl=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Si=null}return t}function aI(t,e){do{var n=ct;try{if(oy(),Mu.current=Ed,wd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wd=!1}if(Di=0,vt=ft=Ge=null,Sl=!1,Gl=0,_y.current=null,n===null||n.return===null){ht=1,Xl=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=cE(o);if(_!==null){_.flags&=-257,uE(_,o,a,i,e),_.mode&1&&lE(i,u,e),e=_,l=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(l),e.updateQueue=w}else T.add(l);break e}else{if(!(e&1)){lE(i,u,e),Sy();break e}l=Error(W(426))}}else if(He&&a.mode&1){var I=cE(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),uE(I,o,a,i,e),sy(Yo(l,a));break e}}i=l=Yo(l,a),ht!==4&&(ht=2),Cl===null?Cl=[i]:Cl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=WS(i,l,e);nE(i,E);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ns===null||!Ns.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=HS(i,a,e);nE(i,k);break e}}i=i.return}while(i!==null)}uI(n)}catch(O){e=O,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function lI(){var t=xd.current;return xd.current=Ed,t===null?Ed:t}function Sy(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||!(Oi&268435455)&&!(_f&268435455)||ys(_t,Rt)}function Id(t,e){var n=Pe;Pe|=2;var r=lI();(_t!==t||Rt!==e)&&(Ar=null,Ri(t,e));do try{zD();break}catch(s){aI(t,s)}while(!0);if(oy(),Pe=n,xd.current=r,ct!==null)throw Error(W(261));return _t=null,Rt=0,ht}function zD(){for(;ct!==null;)cI(ct)}function WD(){for(;ct!==null&&!mN();)cI(ct)}function cI(t){var e=fI(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?uI(t):ct=e,_y.current=null}function uI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LD(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ct=null;return}}else if(n=MD(n,e,dn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);ht===0&&(ht=5)}function vi(t,e,n){var r=Ve,s=Pn.transition;try{Pn.transition=null,Ve=1,HD(t,e,n,r)}finally{Pn.transition=s,Ve=r}return null}function HD(t,e,n,r){do Mo();while(Ts!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(IN(t,i),t===_t&&(ct=_t=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,hI(od,function(){return Mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var o=Ve;Ve=1;var a=Pe;Pe|=4,_y.current=null,FD(t,n),sI(n,t),dD(fm),ld=!!dm,fm=dm=null,t.current=n,UD(n),gN(),Pe=a,Ve=o,Pn.transition=i}else t.current=n;if(pu&&(pu=!1,Ts=t,Sd=s),i=t.pendingLanes,i===0&&(Ns=null),_N(n.stateNode),on(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Td)throw Td=!1,t=Nm,Nm=null,t;return Sd&1&&t.tag!==0&&Mo(),i=t.pendingLanes,i&1?t===Dm?Al++:(Al=0,Dm=t):Al=0,ri(),null}function Mo(){if(Ts!==null){var t=WT(Sd),e=Pn.transition,n=Ve;try{if(Pn.transition=null,Ve=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Sd=0,Pe&6)throw Error(W(331));var s=Pe;for(Pe|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Il(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var m=d.sibling,_=d.return;if(tI(d),d===u){ee=null;break}if(m!==null){m.return=_,ee=m;break}ee=_}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ee=E;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ee=x;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vf(9,a)}}catch(O){Je(a,a.return,O)}if(a===o){ee=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ee=k;break e}ee=a.return}}if(Pe=s,ri(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(uf,t)}catch{}r=!0}return r}finally{Ve=n,Pn.transition=e}}return!1}function TE(t,e,n){e=Yo(n,e),e=WS(t,e,1),t=ks(t,e,1),e=qt(),t!==null&&(yc(t,1,e),on(t,e))}function Je(t,e,n){if(t.tag===3)TE(t,t,n);else for(;e!==null;){if(e.tag===3){TE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=Yo(n,t),t=HS(e,t,1),e=ks(e,t,1),t=qt(),e!==null&&(yc(e,1,t),on(e,t));break}}e=e.return}}function qD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Rt&n)===n&&(ht===4||ht===3&&(Rt&130023424)===Rt&&500>st()-Ey?Ri(t,0):wy|=n),on(t,e)}function dI(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=qt();t=$r(t,e),t!==null&&(yc(t,e,n),on(t,n))}function KD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dI(t,n)}function GD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),dI(t,n)}var fI;fI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,VD(t,e,n);nn=!!(t.flags&131072)}else nn=!1,He&&e.flags&1048576&&gS(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ju(t,e),t=e.pendingProps;var s=qo(e,Ut.current);Vo(e,n),s=py(null,e,r,t,s,n);var i=my();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(i=!0,hd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(e),s.updater=yf,e.stateNode=s,s._reactInternals=e,Em(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,He&&i&&ny(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ju(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YD(r),t=Ln(r,t),s){case 0:e=Tm(null,e,r,t,n);break e;case 1:e=hE(null,e,r,t,n);break e;case 11:e=dE(null,e,r,t,n);break e;case 14:e=fE(null,e,r,Ln(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),Tm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),hE(t,e,r,s,n);case 3:e:{if(QS(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xS(t,e),vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(W(423)),e),e=pE(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(W(424)),e),e=pE(t,e,r,n,s);break e}else for(pn=bs(e.stateNode.containerInfo.firstChild),gn=e,He=!0,Fn=null,n=wS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===s){e=Br(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return TS(e),t===null&&vm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hm(r,s)?o=null:i!==null&&hm(r,i)&&(e.flags|=32),GS(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&vm(e),null;case 13:return YS(t,e,n);case 4:return uy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),dE(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(gd,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!rn.current){e=Br(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_m(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_m(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vo(e,n),s=kn(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=Ln(r,e.pendingProps),s=Ln(r.type,s),fE(t,e,r,s,n);case 15:return qS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),ju(t,e),e.tag=1,sn(r)?(t=!0,hd(e)):t=!1,Vo(e,n),zS(e,r,s),Em(e,r,s,n),Sm(null,e,r,!0,t,n);case 19:return XS(t,e,n);case 22:return KS(t,e,n)}throw Error(W(156,e.tag))};function hI(t,e){return UT(t,e)}function QD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new QD(t,e,n,r)}function Iy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YD(t){if(typeof t=="function")return Iy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wg)return 11;if(t===Hg)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $u(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Iy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return Pi(n.children,s,i,e);case zg:o=8,s|=8;break;case Hp:return t=Rn(12,n,e,s|2),t.elementType=Hp,t.lanes=i,t;case qp:return t=Rn(13,n,e,s),t.elementType=qp,t.lanes=i,t;case Kp:return t=Rn(19,n,e,s),t.elementType=Kp,t.lanes=i,t;case TT:return wf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ET:o=10;break e;case xT:o=9;break e;case Wg:o=11;break e;case Hg:o=14;break e;case ps:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pi(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function wf(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=TT,t.lanes=n,t.stateNode={isHidden:!1},t}function cp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function up(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cy(t,e,n,r,s,i,o,a,l){return t=new XD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Rn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(i),t}function JD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pI(t){if(!t)return zs;t=t._reactInternals;e:{if(Qi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(sn(n))return pS(t,n,e)}return e}function mI(t,e,n,r,s,i,o,a,l){return t=Cy(n,r,!0,t,s,i,o,a,l),t.context=pI(null),n=t.current,r=qt(),s=Ds(n),i=Vr(r,s),i.callback=e??null,ks(n,i,s),t.current.lanes=s,yc(t,s,r),on(t,r),t}function Ef(t,e,n,r){var s=e.current,i=qt(),o=Ds(s);return n=pI(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(s,e,o),t!==null&&(Wn(t,s,o,i),Vu(t,s,o)),o}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ay(t,e){SE(t,e),(t=t.alternate)&&SE(t,e)}function ZD(){return null}var gI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ry(t){this._internalRoot=t}xf.prototype.render=Ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Ef(t,e,null,null)};xf.prototype.unmount=Ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){Ef(null,t,null,null)}),e[Ur]=null}};function xf(t){this._internalRoot=t}xf.prototype.unstable_scheduleHydration=function(t){if(t){var e=KT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gs.length&&e!==0&&e<gs[n].priority;n++);gs.splice(n,0,t),n===0&&QT(t)}};function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IE(){}function eO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Cd(o);i.call(u)}}var o=mI(e,r,t,0,null,!1,!1,"",IE);return t._reactRootContainer=o,t[Ur]=o.current,zl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Cd(l);a.call(u)}}var l=Cy(t,0,!1,null,null,!1,!1,"",IE);return t._reactRootContainer=l,t[Ur]=l.current,zl(t.nodeType===8?t.parentNode:t),Vi(function(){Ef(e,l,n,r)}),l}function Sf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Cd(o);a.call(l)}}Ef(e,o,t,s)}else o=eO(n,e,t,s,r);return Cd(o)}HT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(Gg(e,n|1),on(e,st()),!(Pe&6)&&(Xo=st()+500,ri()))}break;case 13:Vi(function(){var r=$r(t,1);if(r!==null){var s=qt();Wn(r,t,1,s)}}),Ay(t,1)}};Qg=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=qt();Wn(e,t,134217728,n)}Ay(t,134217728)}};qT=function(t){if(t.tag===13){var e=Ds(t),n=$r(t,e);if(n!==null){var r=qt();Wn(n,t,e,r)}Ay(t,e)}};KT=function(){return Ve};GT=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};rm=function(t,e,n){switch(e){case"input":if(Yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pf(r);if(!s)throw Error(W(90));IT(r),Yp(r,s)}}}break;case"textarea":AT(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};OT=xy;VT=Vi;var tO={usingClientEntryPoint:!1,Events:[_c,To,pf,NT,DT,xy]},nl={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nO={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jT(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||ZD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{uf=mu.inject(nO),cr=mu}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tO;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(e))throw Error(W(200));return JD(t,e,null,n)};xn.createRoot=function(t,e){if(!Py(t))throw Error(W(299));var n=!1,r="",s=gI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cy(t,1,!1,null,null,n,!1,r,s),t[Ur]=e.current,zl(t.nodeType===8?t.parentNode:t),new Ry(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=jT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Vi(t)};xn.hydrate=function(t,e,n){if(!Tf(e))throw Error(W(200));return Sf(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Py(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mI(e,null,t,1,n??null,s,!1,i,o),t[Ur]=e.current,zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xf(e)};xn.render=function(t,e,n){if(!Tf(e))throw Error(W(200));return Sf(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Tf(t))throw Error(W(40));return t._reactRootContainer?(Vi(function(){Sf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};xn.unstable_batchedUpdates=xy;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Sf(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function yI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yI)}catch(t){console.error(t)}}yI(),yT.exports=xn;var ma=yT.exports;const rO=sT(ma);var vI,CE=ma;vI=CE.createRoot,CE.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const AE="popstate";function sO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Mm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ad(s)}return oO(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _I(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iO(){return Math.random().toString(36).substr(2,8)}function RE(t,e){return{usr:t.state,key:t.key,idx:e}}function Mm(t,e,n,r){return n===void 0&&(n=null),Jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:n,key:e&&e.key||r||iO()})}function Ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ss.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Jl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ss.Pop;let I=d(),E=I==null?null:I-u;u=I,l&&l({action:a,location:w.location,delta:E})}function m(I,E){a=Ss.Push;let v=Mm(w.location,I,E);u=d()+1;let x=RE(v,u),k=w.createHref(v);try{o.pushState(x,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}i&&l&&l({action:a,location:w.location,delta:1})}function _(I,E){a=Ss.Replace;let v=Mm(w.location,I,E);u=d();let x=RE(v,u),k=w.createHref(v);o.replaceState(x,"",k),i&&l&&l({action:a,location:w.location,delta:0})}function T(I){let E=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof I=="string"?I:Ad(I);return v=v.replace(/ $/,"%20"),it(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let w={get action(){return a},get location(){return t(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,h),l=I,()=>{s.removeEventListener(AE,h),l=null}},createHref(I){return e(s,I)},createURL:T,encodeLocation(I){let E=T(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:_,go(I){return o.go(I)}};return w}var PE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PE||(PE={}));function aO(t,e,n){return n===void 0&&(n="/"),lO(t,e,n)}function lO(t,e,n,r){let s=typeof e=="string"?ga(e):e,i=by(s.pathname||"/",n);if(i==null)return null;let o=wI(t);cO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=EO(i);a=vO(o[l],u)}return a}function wI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gO(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of EI(i.path))s(i,o,l)}),e}function EI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=EI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uO=/^:[\w-]+$/,dO=3,fO=2,hO=1,pO=10,mO=-2,bE=t=>t==="*";function gO(t,e){let n=t.split("/"),r=n.length;return n.some(bE)&&(r+=mO),e&&(r+=fO),n.filter(s=>!bE(s)).reduce((s,i)=>s+(uO.test(i)?dO:i===""?hO:pO),r)}function yO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=_O({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vs([i,h.pathname]),pathnameBase:IO(Vs([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Vs([i,h.pathnameBase]))}return o}function _O(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:_}=d;if(m==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return _&&!T?u[m]=void 0:u[m]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function wO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_I(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function EO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _I(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function by(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:TO(n,e):e,search:CO(r),hash:AO(s)}}function TO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t,e){let n=SO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ny(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ga(t):(s=Jl({},t),it(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=xO(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),IO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xI=["post","put","patch","delete"];new Set(xI);const PO=["get",...xI];new Set(PO);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const Dy=g.createContext(null),bO=g.createContext(null),si=g.createContext(null),If=g.createContext(null),Zr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),TI=g.createContext(null);function kO(t,e){let{relative:n}=e===void 0?{}:e;ya()||it(!1);let{basename:r,navigator:s}=g.useContext(si),{hash:i,pathname:o,search:a}=II(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ya(){return g.useContext(If)!=null}function ii(){return ya()||it(!1),g.useContext(If).location}function SI(t){g.useContext(si).static||g.useLayoutEffect(t)}function va(){let{isDataRoute:t}=g.useContext(Zr);return t?qO():NO()}function NO(){ya()||it(!1);let t=g.useContext(Dy),{basename:e,future:n,navigator:r}=g.useContext(si),{matches:s}=g.useContext(Zr),{pathname:i}=ii(),o=JSON.stringify(ky(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return SI(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Ny(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const DO=g.createContext(null);function OO(t){let e=g.useContext(Zr).outlet;return e&&g.createElement(DO.Provider,{value:t},e)}function II(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(si),{matches:s}=g.useContext(Zr),{pathname:i}=ii(),o=JSON.stringify(ky(s,r.v7_relativeSplatPath));return g.useMemo(()=>Ny(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function VO(t,e){return MO(t,e)}function MO(t,e,n,r){ya()||it(!1);let{navigator:s,static:i}=g.useContext(si),{matches:o}=g.useContext(Zr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=ii(),h;if(e){var m;let E=typeof e=="string"?ga(e):e;u==="/"||(m=E.pathname)!=null&&m.startsWith(u)||it(!1),h=E}else h=d;let _=h.pathname||"/",T=_;if(u!=="/"){let E=u.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=aO(t,{pathname:T}),I=$O(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Vs([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Vs([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&I?g.createElement(If.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ss.Pop}},I):I}function LO(){let t=HO(),e=RO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const jO=g.createElement(LO,null);class FO extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Zr.Provider,{value:this.props.routeContext},g.createElement(TI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UO(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Dy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Zr.Provider,{value:e},r)}function $O(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:_}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let _,T=!1,w=null,I=null;n&&(_=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||jO,l&&(u<0&&m===0?(KO("route-fallback"),T=!0,I=null):u===m&&(T=!0,I=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),v=()=>{let x;return _?x=w:T?x=I:h.route.Component?x=g.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,g.createElement(UO,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?g.createElement(FO,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var CI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CI||{}),AI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AI||{});function BO(t){let e=g.useContext(Dy);return e||it(!1),e}function zO(t){let e=g.useContext(bO);return e||it(!1),e}function WO(t){let e=g.useContext(Zr);return e||it(!1),e}function RI(t){let e=WO(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function HO(){var t;let e=g.useContext(TI),n=zO(),r=RI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qO(){let{router:t}=BO(CI.UseNavigateStable),e=RI(AI.UseNavigateStable),n=g.useRef(!1);return SI(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zl({fromRouteId:e},i)))},[t,e])}const kE={};function KO(t,e,n){kE[t]||(kE[t]=!0)}function GO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lm(t){let{to:e,replace:n,state:r,relative:s}=t;ya()||it(!1);let{future:i,static:o}=g.useContext(si),{matches:a}=g.useContext(Zr),{pathname:l}=ii(),u=va(),d=Ny(e,ky(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Oy(t){return OO(t.context)}function Vn(t){it(!1)}function QO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ss.Pop,navigator:i,static:o=!1,future:a}=t;ya()&&it(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Zl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ga(r));let{pathname:d="/",search:h="",hash:m="",state:_=null,key:T="default"}=r,w=g.useMemo(()=>{let I=by(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:_,key:T},navigationType:s}},[l,d,h,m,_,T,s]);return w==null?null:g.createElement(si.Provider,{value:u},g.createElement(If.Provider,{children:n,value:w}))}function YO(t){let{children:e,location:n}=t;return VO(jm(e),n)}new Promise(()=>{});function jm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,jm(r.props.children,i));return}r.type!==Vn&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function XO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function JO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZO(t,e){return t.button===0&&(!e||e==="_self")&&!JO(t)}function Um(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function eV(t,e){let n=Um(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const tV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nV="6";try{window.__reactRouterVersion=nV}catch{}const rV="startTransition",NE=mT[rV];function sV(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=sO({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&NE?NE(()=>l(h)):l(h)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>GO(r),[r]),g.createElement(QO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const iV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,m=XO(e,tV),{basename:_}=g.useContext(si),T,w=!1;if(typeof u=="string"&&oV.test(u)&&(T=u,iV))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=by(k.pathname,_);k.origin===x.origin&&O!=null?u=O+k.search+k.hash:w=!0}catch{}let I=kO(u,{relative:s}),E=aV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||E(x)}return g.createElement("a",Fm({},m,{href:T||I,onClick:w||i?r:v,ref:n,target:l}))});var DE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DE||(DE={}));var OE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OE||(OE={}));function aV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=va(),u=ii(),d=II(t,{relative:o});return g.useCallback(h=>{if(ZO(h,n)){h.preventDefault();let m=r!==void 0?r:Ad(u)===Ad(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function Yi(t){let e=g.useRef(Um(t)),n=g.useRef(!1),r=ii(),s=g.useMemo(()=>eV(r.search,n.current?null:e.current),[r.search]),i=va(),o=g.useCallback((a,l)=>{const u=Um(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var Ec=t=>t.type==="checkbox",Ci=t=>t instanceof Date,Ht=t=>t==null;const PI=t=>typeof t=="object";var ot=t=>!Ht(t)&&!Array.isArray(t)&&PI(t)&&!Ci(t),bI=t=>ot(t)&&t.target?Ec(t.target)?t.target.checked:t.target.value:t,lV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kI=(t,e)=>t.has(lV(e)),cV=t=>{const e=t.constructor&&t.constructor.prototype;return ot(e)&&e.hasOwnProperty("isPrototypeOf")},Vy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Vy&&(t instanceof Blob||r))&&(n||ot(t)))if(e=n?[]:{},!n&&!cV(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Xt(t[s]));else return t;return e}var Cf=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,Q=(t,e,n)=>{if(!e||!ot(t))return n;const r=Cf(e.split(/[,[\].]+?/)).reduce((s,i)=>Ht(s)?s:s[i],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},In=t=>typeof t=="boolean",My=t=>/^\w*$/.test(t),NI=t=>Cf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(t,e,n)=>{let r=-1;const s=My(e)?[e]:NI(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=ot(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const Rd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Un={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ir={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DI=ce.createContext(null),Af=()=>ce.useContext(DI),uV=t=>{const{children:e,...n}=t;return ce.createElement(DI.Provider,{value:n},e)};var OI=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Un.all&&(e._proxyFormState[o]=!r||Un.all),n&&(n[o]=!0),t[o]}});return s},Jt=t=>ot(t)&&!Object.keys(t).length,VI=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Jt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Un.all))},Rl=t=>Array.isArray(t)?t:[t],MI=(t,e,n)=>!t||!e||t===e||Rl(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Ly(t){const e=ce.useRef(t);e.current=t,ce.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function dV(t){const e=Af(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=ce.useState(n._formState),l=ce.useRef(!0),u=ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ce.useRef(s);return d.current=s,Ly({disabled:r,next:h=>l.current&&MI(d.current,h.name,i)&&VI(h,u.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),ce.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),ce.useMemo(()=>OI(o,n,u.current,!1),[o,n])}var lr=t=>typeof t=="string",LI=(t,e,n,r,s)=>lr(t)?(r&&e.watch.add(t),Q(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Q(n,i))):(r&&(e.watchAll=!0),n);function fV(t){const e=Af(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=ce.useRef(r);a.current=r,Ly({disabled:i,subject:n._subjects.values,next:d=>{MI(a.current,d.name,o)&&u(Xt(LI(a.current,n._names,d.values||n._formValues,!1,s)))}});const[l,u]=ce.useState(n._getWatch(r,s));return ce.useEffect(()=>n._removeUnmounted()),l}function hV(t){const e=Af(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=kI(s._names.array,n),a=fV({control:s,name:n,defaultValue:Q(s._formValues,n,Q(s._defaultValues,n,t.defaultValue)),exact:!0}),l=dV({control:s,name:n,exact:!0}),u=ce.useRef(s.register(n,{...t.rules,value:a,...In(t.disabled)?{disabled:t.disabled}:{}})),d=ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Q(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Q(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Q(l.validatingFields,n)},error:{enumerable:!0,get:()=>Q(l.errors,n)}}),[l,n]),h=ce.useMemo(()=>({name:n,value:a,...In(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:m=>u.current.onChange({target:{value:bI(m),name:n},type:Rd.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:Q(s._formValues,n),name:n},type:Rd.BLUR}),ref:m=>{const _=Q(s._fields,n);_&&m&&(_._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:T=>m.setCustomValidity(T),reportValidity:()=>m.reportValidity()})}}),[n,s._formValues,r,l.disabled,a,s._fields]);return ce.useEffect(()=>{const m=s._options.shouldUnregister||i,_=(T,w)=>{const I=Q(s._fields,T);I&&I._f&&(I._f.mount=w)};if(_(n,!0),m){const T=Xt(Q(s._options.defaultValues,n));Le(s._defaultValues,n,T),nt(Q(s._formValues,n))&&Le(s._formValues,n,T)}return!o&&s.register(n),()=>{(o?m&&!s._state.action:m)?s.unregister(n):_(n,!1)}},[n,s,o,i]),ce.useEffect(()=>{s._updateDisabledField({disabled:r,fields:s._fields,name:n})},[r,n,s]),ce.useMemo(()=>({field:h,formState:l,fieldState:d}),[h,l,d])}const pV=t=>t.render(hV(t));var mV=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},VE=t=>({isOnSubmit:!t||t===Un.onSubmit,isOnBlur:t===Un.onBlur,isOnChange:t===Un.onChange,isOnAll:t===Un.all,isOnTouch:t===Un.onTouched}),ME=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Pl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Q(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Pl(a,e))break}else if(ot(a)&&Pl(a,e))break}}};var gV=(t,e,n)=>{const r=Rl(Q(t,n));return Le(r,"root",e[n]),Le(t,n,r),t},jy=t=>t.type==="file",or=t=>typeof t=="function",Pd=t=>{if(!Vy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Bu=t=>lr(t),Fy=t=>t.type==="radio",bd=t=>t instanceof RegExp;const LE={value:!1,isValid:!1},jE={value:!0,isValid:!0};var jI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?jE:{value:t[0].value,isValid:!0}:jE:LE}return LE};const FE={isValid:!1,value:null};var FI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,FE):FE;function UE(t,e,n="validate"){if(Bu(t)||Array.isArray(t)&&t.every(Bu)||In(t)&&!t)return{type:n,message:Bu(t)?t:"",ref:e}}var co=t=>ot(t)&&!bd(t)?t:{value:t,message:""},$E=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:h,max:m,pattern:_,validate:T,name:w,valueAsNumber:I,mount:E}=t._f,v=Q(n,w);if(!E||e.has(w))return{};const x=a?a[0]:o,k=N=>{s&&x.reportValidity&&(x.setCustomValidity(In(N)?"":N||""),x.reportValidity())},O={},L=Fy(o),C=Ec(o),S=L||C,R=(I||jy(o))&&nt(o.value)&&nt(v)||Pd(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,b=mV.bind(null,w,r,O),D=(N,P,X,le=Ir.maxLength,ne=Ir.minLength)=>{const se=N?P:X;O[w]={type:N?le:ne,message:se,ref:o,...b(N?le:ne,se)}};if(i?!Array.isArray(v)||!v.length:l&&(!S&&(R||Ht(v))||In(v)&&!v||C&&!jI(a).isValid||L&&!FI(a).isValid)){const{value:N,message:P}=Bu(l)?{value:!!l,message:l}:co(l);if(N&&(O[w]={type:Ir.required,message:P,ref:x,...b(Ir.required,P)},!r))return k(P),O}if(!R&&(!Ht(h)||!Ht(m))){let N,P;const X=co(m),le=co(h);if(!Ht(v)&&!isNaN(v)){const ne=o.valueAsNumber||v&&+v;Ht(X.value)||(N=ne>X.value),Ht(le.value)||(P=ne<le.value)}else{const ne=o.valueAsDate||new Date(v),se=te=>new Date(new Date().toDateString()+" "+te),$=o.type=="time",q=o.type=="week";lr(X.value)&&v&&(N=$?se(v)>se(X.value):q?v>X.value:ne>new Date(X.value)),lr(le.value)&&v&&(P=$?se(v)<se(le.value):q?v<le.value:ne<new Date(le.value))}if((N||P)&&(D(!!N,X.message,le.message,Ir.max,Ir.min),!r))return k(O[w].message),O}if((u||d)&&!R&&(lr(v)||i&&Array.isArray(v))){const N=co(u),P=co(d),X=!Ht(N.value)&&v.length>+N.value,le=!Ht(P.value)&&v.length<+P.value;if((X||le)&&(D(X,N.message,P.message),!r))return k(O[w].message),O}if(_&&!R&&lr(v)){const{value:N,message:P}=co(_);if(bd(N)&&!v.match(N)&&(O[w]={type:Ir.pattern,message:P,ref:o,...b(Ir.pattern,P)},!r))return k(P),O}if(T){if(or(T)){const N=await T(v,n),P=UE(N,x);if(P&&(O[w]={...P,...b(Ir.validate,P.message)},!r))return k(P.message),O}else if(ot(T)){let N={};for(const P in T){if(!Jt(N)&&!r)break;const X=UE(await T[P](v,n),x,P);X&&(N={...X,...b(P,X.message)},k(X.message),r&&(O[w]=N))}if(!Jt(N)&&(O[w]={ref:x,...N},!r))return O}}return k(!0),O};function yV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function vV(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function dt(t,e){const n=Array.isArray(e)?e:My(e)?[e]:NI(e),r=n.length===1?t:yV(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(ot(r)&&Jt(r)||Array.isArray(r)&&vV(r))&&dt(t,n.slice(0,-1)),t}var fp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$m=t=>Ht(t)||!PI(t);function vs(t,e){if($m(t)||$m(e))return t===e;if(Ci(t)&&Ci(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ci(i)&&Ci(o)||ot(i)&&ot(o)||Array.isArray(i)&&Array.isArray(o)?!vs(i,o):i!==o)return!1}}return!0}var UI=t=>t.type==="select-multiple",_V=t=>Fy(t)||Ec(t),hp=t=>Pd(t)&&t.isConnected,$I=t=>{for(const e in t)if(or(t[e]))return!0;return!1};function kd(t,e={}){const n=Array.isArray(t);if(ot(t)||n)for(const r in t)Array.isArray(t[r])||ot(t[r])&&!$I(t[r])?(e[r]=Array.isArray(t[r])?[]:{},kd(t[r],e[r])):Ht(t[r])||(e[r]=!0);return e}function BI(t,e,n){const r=Array.isArray(t);if(ot(t)||r)for(const s in t)Array.isArray(t[s])||ot(t[s])&&!$I(t[s])?nt(e)||$m(n[s])?n[s]=Array.isArray(t[s])?kd(t[s],[]):{...kd(t[s])}:BI(t[s],Ht(e)?{}:e[s],n[s]):n[s]=!vs(t[s],e[s]);return n}var rl=(t,e)=>BI(t,e,kd(e)),zI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&lr(t)?new Date(t):r?r(t):t;function pp(t){const e=t.ref;return jy(e)?e.files:Fy(e)?FI(t.refs).value:UI(e)?[...e.selectedOptions].map(({value:n})=>n):Ec(e)?jI(t.refs).value:zI(nt(e.value)?t.ref.value:e.value,t)}var wV=(t,e,n,r)=>{const s={};for(const i of t){const o=Q(e,i);o&&Le(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},sl=t=>nt(t)?t:bd(t)?t.source:ot(t)?bd(t.value)?t.value.source:t.value:t;const BE="AsyncFunction";var EV=t=>!!t&&!!t.validate&&!!(or(t.validate)&&t.validate.constructor.name===BE||ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BE)),xV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zE(t,e,n){const r=Q(t,n);if(r||My(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Q(e,i),a=Q(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var TV=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,SV=(t,e)=>!Cf(Q(t,e)).length&&dt(t,e);const IV={mode:Un.onSubmit,reValidateMode:Un.onChange,shouldFocusError:!0};function CV(t={}){let e={...IV,...t},n={submitCount:0,isDirty:!1,isLoading:or(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=ot(e.defaultValues)||ot(e.values)?Xt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Xt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:fp(),array:fp(),state:fp()},m=VE(e.mode),_=VE(e.reValidateMode),T=e.criteriaMode===Un.all,w=V=>j=>{clearTimeout(u),u=setTimeout(V,j)},I=async V=>{if(!e.disabled&&(d.isValid||V)){const j=e.resolver?Jt((await S()).errors):await b(r,!0);j!==n.isValid&&h.state.next({isValid:j})}},E=(V,j)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((V||Array.from(a.mount)).forEach(U=>{U&&(j?Le(n.validatingFields,U,j):dt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Jt(n.validatingFields)}))},v=(V,j=[],U,Y,G=!0,H=!0)=>{if(Y&&U&&!e.disabled){if(o.action=!0,H&&Array.isArray(Q(r,V))){const ie=U(Q(r,V),Y.argA,Y.argB);G&&Le(r,V,ie)}if(H&&Array.isArray(Q(n.errors,V))){const ie=U(Q(n.errors,V),Y.argA,Y.argB);G&&Le(n.errors,V,ie),SV(n.errors,V)}if(d.touchedFields&&H&&Array.isArray(Q(n.touchedFields,V))){const ie=U(Q(n.touchedFields,V),Y.argA,Y.argB);G&&Le(n.touchedFields,V,ie)}d.dirtyFields&&(n.dirtyFields=rl(s,i)),h.state.next({name:V,isDirty:N(V,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Le(i,V,j)},x=(V,j)=>{Le(n.errors,V,j),h.state.next({errors:n.errors})},k=V=>{n.errors=V,h.state.next({errors:n.errors,isValid:!1})},O=(V,j,U,Y)=>{const G=Q(r,V);if(G){const H=Q(i,V,nt(U)?Q(s,V):U);nt(H)||Y&&Y.defaultChecked||j?Le(i,V,j?H:pp(G._f)):le(V,H),o.mount&&I()}},L=(V,j,U,Y,G)=>{let H=!1,ie=!1;const me={name:V};if(!e.disabled){const xe=!!(Q(r,V)&&Q(r,V)._f&&Q(r,V)._f.disabled);if(!U||Y){d.isDirty&&(ie=n.isDirty,n.isDirty=me.isDirty=N(),H=ie!==me.isDirty);const Ie=xe||vs(Q(s,V),j);ie=!!(!xe&&Q(n.dirtyFields,V)),Ie||xe?dt(n.dirtyFields,V):Le(n.dirtyFields,V,!0),me.dirtyFields=n.dirtyFields,H=H||d.dirtyFields&&ie!==!Ie}if(U){const Ie=Q(n.touchedFields,V);Ie||(Le(n.touchedFields,V,U),me.touchedFields=n.touchedFields,H=H||d.touchedFields&&Ie!==U)}H&&G&&h.state.next(me)}return H?me:{}},C=(V,j,U,Y)=>{const G=Q(n.errors,V),H=d.isValid&&In(j)&&n.isValid!==j;if(e.delayError&&U?(l=w(()=>x(V,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Le(n.errors,V,U):dt(n.errors,V)),(U?!vs(G,U):G)||!Jt(Y)||H){const ie={...Y,...H&&In(j)?{isValid:j}:{},errors:n.errors,name:V};n={...n,...ie},h.state.next(ie)}},S=async V=>{E(V,!0);const j=await e.resolver(i,e.context,wV(V||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(V),j},R=async V=>{const{errors:j}=await S(V);if(V)for(const U of V){const Y=Q(j,U);Y?Le(n.errors,U,Y):dt(n.errors,U)}else n.errors=j;return j},b=async(V,j,U={valid:!0})=>{for(const Y in V){const G=V[Y];if(G){const{_f:H,...ie}=G;if(H){const me=a.array.has(H.name),xe=G._f&&EV(G._f);xe&&d.validatingFields&&E([Y],!0);const Ie=await $E(G,a.disabled,i,T,e.shouldUseNativeValidation&&!j,me);if(xe&&d.validatingFields&&E([Y]),Ie[H.name]&&(U.valid=!1,j))break;!j&&(Q(Ie,H.name)?me?gV(n.errors,Ie,H.name):Le(n.errors,H.name,Ie[H.name]):dt(n.errors,H.name))}!Jt(ie)&&await b(ie,j,U)}}return U.valid},D=()=>{for(const V of a.unMount){const j=Q(r,V);j&&(j._f.refs?j._f.refs.every(U=>!hp(U)):!hp(j._f.ref))&&et(V)}a.unMount=new Set},N=(V,j)=>!e.disabled&&(V&&j&&Le(i,V,j),!vs(fe(),s)),P=(V,j,U)=>LI(V,a,{...o.mount?i:nt(j)?s:lr(V)?{[V]:j}:j},U,j),X=V=>Cf(Q(o.mount?i:s,V,e.shouldUnregister?Q(s,V,[]):[])),le=(V,j,U={})=>{const Y=Q(r,V);let G=j;if(Y){const H=Y._f;H&&(!H.disabled&&Le(i,V,zI(j,H)),G=Pd(H.ref)&&Ht(j)?"":j,UI(H.ref)?[...H.ref.options].forEach(ie=>ie.selected=G.includes(ie.value)):H.refs?Ec(H.ref)?H.refs.length>1?H.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(G)?!!G.find(me=>me===ie.value):G===ie.value)):H.refs[0]&&(H.refs[0].checked=!!G):H.refs.forEach(ie=>ie.checked=ie.value===G):jy(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.values.next({name:V,values:{...i}})))}(U.shouldDirty||U.shouldTouch)&&L(V,G,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&te(V)},ne=(V,j,U)=>{for(const Y in j){const G=j[Y],H=`${V}.${Y}`,ie=Q(r,H);(a.array.has(V)||ot(G)||ie&&!ie._f)&&!Ci(G)?ne(H,G,U):le(H,G,U)}},se=(V,j,U={})=>{const Y=Q(r,V),G=a.array.has(V),H=Xt(j);Le(i,V,H),G?(h.array.next({name:V,values:{...i}}),(d.isDirty||d.dirtyFields)&&U.shouldDirty&&h.state.next({name:V,dirtyFields:rl(s,i),isDirty:N(V,H)})):Y&&!Y._f&&!Ht(H)?ne(V,H,U):le(V,H,U),ME(V,a)&&h.state.next({...n}),h.values.next({name:o.mount?V:void 0,values:{...i}})},$=async V=>{o.mount=!0;const j=V.target;let U=j.name,Y=!0;const G=Q(r,U),H=()=>j.type?pp(G._f):bI(V),ie=me=>{Y=Number.isNaN(me)||Ci(me)&&isNaN(me.getTime())||vs(me,Q(i,U,me))};if(G){let me,xe;const Ie=H(),cn=V.type===Rd.BLUR||V.type===Rd.FOCUS_OUT,Mc=!xV(G._f)&&!e.resolver&&!Q(n.errors,U)&&!G._f.deps||TV(cn,Q(n.touchedFields,U),n.isSubmitted,_,m),no=ME(U,a,cn);Le(i,U,Ie),cn?(G._f.onBlur&&G._f.onBlur(V),l&&l(0)):G._f.onChange&&G._f.onChange(V);const Va=L(U,Ie,cn,!1),fi=!Jt(Va)||no;if(!cn&&h.values.next({name:U,type:V.type,values:{...i}}),Mc)return d.isValid&&(e.mode==="onBlur"&&cn?I():cn||I()),fi&&h.state.next({name:U,...no?{}:Va});if(!cn&&no&&h.state.next({...n}),e.resolver){const{errors:Ma}=await S([U]);if(ie(Ie),Y){const Lc=zE(n.errors,r,U),ro=zE(Ma,r,Lc.name||U);me=ro.error,U=ro.name,xe=Jt(Ma)}}else E([U],!0),me=(await $E(G,a.disabled,i,T,e.shouldUseNativeValidation))[U],E([U]),ie(Ie),Y&&(me?xe=!1:d.isValid&&(xe=await b(r,!0)));Y&&(G._f.deps&&te(G._f.deps),C(U,xe,me,Va))}},q=(V,j)=>{if(Q(n.errors,j)&&V.focus)return V.focus(),1},te=async(V,j={})=>{let U,Y;const G=Rl(V);if(e.resolver){const H=await R(nt(V)?V:G);U=Jt(H),Y=V?!G.some(ie=>Q(H,ie)):U}else V?(Y=(await Promise.all(G.map(async H=>{const ie=Q(r,H);return await b(ie&&ie._f?{[H]:ie}:ie)}))).every(Boolean),!(!Y&&!n.isValid)&&I()):Y=U=await b(r);return h.state.next({...!lr(V)||d.isValid&&U!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:U}:{},errors:n.errors}),j.shouldFocus&&!Y&&Pl(r,q,V?G:a.mount),Y},fe=V=>{const j={...o.mount?i:s};return nt(V)?j:lr(V)?Q(j,V):V.map(U=>Q(j,U))},ve=(V,j)=>({invalid:!!Q((j||n).errors,V),isDirty:!!Q((j||n).dirtyFields,V),error:Q((j||n).errors,V),isValidating:!!Q(n.validatingFields,V),isTouched:!!Q((j||n).touchedFields,V)}),Oe=V=>{V&&Rl(V).forEach(j=>dt(n.errors,j)),h.state.next({errors:V?n.errors:{}})},Ze=(V,j,U)=>{const Y=(Q(r,V,{_f:{}})._f||{}).ref,G=Q(n.errors,V)||{},{ref:H,message:ie,type:me,...xe}=G;Le(n.errors,V,{...xe,...j,ref:Y}),h.state.next({name:V,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&Y&&Y.focus&&Y.focus()},gt=(V,j)=>or(V)?h.values.subscribe({next:U=>V(P(void 0,j),U)}):P(V,j,!0),et=(V,j={})=>{for(const U of V?Rl(V):a.mount)a.mount.delete(U),a.array.delete(U),j.keepValue||(dt(r,U),dt(i,U)),!j.keepError&&dt(n.errors,U),!j.keepDirty&&dt(n.dirtyFields,U),!j.keepTouched&&dt(n.touchedFields,U),!j.keepIsValidating&&dt(n.validatingFields,U),!e.shouldUnregister&&!j.keepDefaultValue&&dt(s,U);h.values.next({values:{...i}}),h.state.next({...n,...j.keepDirty?{isDirty:N()}:{}}),!j.keepIsValid&&I()},re=({disabled:V,name:j,field:U,fields:Y})=>{(In(V)&&o.mount||V||a.disabled.has(j))&&(V?a.disabled.add(j):a.disabled.delete(j),L(j,pp(U?U._f:Q(Y,j)._f),!1,!1,!0))},Ne=(V,j={})=>{let U=Q(r,V);const Y=In(j.disabled)||In(e.disabled);return Le(r,V,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:V}},name:V,mount:!0,...j}}),a.mount.add(V),U?re({field:U,disabled:In(j.disabled)?j.disabled:e.disabled,name:V}):O(V,!0,j.value),{...Y?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:sl(j.min),max:sl(j.max),minLength:sl(j.minLength),maxLength:sl(j.maxLength),pattern:sl(j.pattern)}:{},name:V,onChange:$,onBlur:$,ref:G=>{if(G){Ne(V,j),U=Q(r,V);const H=nt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,ie=_V(H),me=U._f.refs||[];if(ie?me.find(xe=>xe===H):H===U._f.ref)return;Le(r,V,{_f:{...U._f,...ie?{refs:[...me.filter(hp),H,...Array.isArray(Q(s,V))?[{}]:[]],ref:{type:H.type,name:V}}:{ref:H}}}),O(V,!1,void 0,H)}else U=Q(r,V,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(kI(a.array,V)&&o.action)&&a.unMount.add(V)}}},tt=()=>e.shouldFocusError&&Pl(r,q,a.mount),Re=V=>{In(V)&&(h.state.next({disabled:V}),Pl(r,(j,U)=>{const Y=Q(r,U);Y&&(j.disabled=Y._f.disabled||V,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(G=>{G.disabled=Y._f.disabled||V}))},0,!1))},_e=(V,j)=>async U=>{let Y;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let G=Xt(i);if(a.disabled.size)for(const H of a.disabled)Le(G,H,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:ie}=await S();n.errors=H,G=ie}else await b(r);if(dt(n.errors,"root"),Jt(n.errors)){h.state.next({errors:{}});try{await V(G,U)}catch(H){Y=H}}else j&&await j({...n.errors},U),tt(),setTimeout(tt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jt(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},Se=(V,j={})=>{Q(r,V)&&(nt(j.defaultValue)?se(V,Xt(Q(s,V))):(se(V,j.defaultValue),Le(s,V,Xt(j.defaultValue))),j.keepTouched||dt(n.touchedFields,V),j.keepDirty||(dt(n.dirtyFields,V),n.isDirty=j.defaultValue?N(V,Xt(Q(s,V))):N()),j.keepError||(dt(n.errors,V),d.isValid&&I()),h.state.next({...n}))},at=(V,j={})=>{const U=V?Xt(V):s,Y=Xt(U),G=Jt(V),H=G?s:Y;if(j.keepDefaultValues||(s=U),!j.keepValues){if(j.keepDirtyValues){const ie=new Set([...a.mount,...Object.keys(rl(s,i))]);for(const me of Array.from(ie))Q(n.dirtyFields,me)?Le(H,me,Q(i,me)):se(me,Q(H,me))}else{if(Vy&&nt(V))for(const ie of a.mount){const me=Q(r,ie);if(me&&me._f){const xe=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(Pd(xe)){const Ie=xe.closest("form");if(Ie){Ie.reset();break}}}}r={}}i=e.shouldUnregister?j.keepDefaultValues?Xt(s):{}:Xt(H),h.array.next({values:{...H}}),h.values.next({values:{...H}})}a={mount:j.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:G?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!vs(V,s)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:j.keepDirtyValues?j.keepDefaultValues&&i?rl(s,i):n.dirtyFields:j.keepDefaultValues&&V?rl(s,V):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},wt=(V,j)=>at(or(V)?V(i):V,j);return{control:{register:Ne,unregister:et,getFieldState:ve,handleSubmit:_e,setError:Ze,_executeSchema:S,_getWatch:P,_getDirty:N,_updateValid:I,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:re,_getFieldArray:X,_reset:at,_resetDefaultValues:()=>or(e.defaultValues)&&e.defaultValues().then(V=>{wt(V,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:V=>{n={...n,...V}},_disableForm:Re,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(V){o=V},get _defaultValues(){return s},get _names(){return a},set _names(V){a=V},get _formState(){return n},set _formState(V){n=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:te,register:Ne,handleSubmit:_e,watch:gt,setValue:se,getValues:fe,reset:wt,resetField:Se,clearErrors:Oe,unregister:et,setError:Ze,setFocus:(V,j={})=>{const U=Q(r,V),Y=U&&U._f;if(Y){const G=Y.refs?Y.refs[0]:Y.ref;G.focus&&(G.focus(),j.shouldSelect&&or(G.select)&&G.select())}},getFieldState:ve}}function Uy(t={}){const e=ce.useRef(void 0),n=ce.useRef(void 0),[r,s]=ce.useState({isDirty:!1,isValidating:!1,isLoading:or(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:or(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CV(t),formState:r});const i=e.current.control;return i._options=t,Ly({subject:i._subjects.state,next:o=>{VI(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ce.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ce.useEffect(()=>{t.values&&!vs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ce.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ce.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ce.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=OI(r,i),e.current}function WE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=WE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():WE(t[s],null)}}}}function je(...t){return g.useCallback(WI(...t),t)}var Ws=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(AV);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return f.jsx(Bm,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return f.jsx(Bm,{...r,ref:e,children:n})});Ws.displayName="Slot";var Bm=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=PV(n),i=RV(r,n.props);return n.type!==g.Fragment&&(i.ref=e?WI(e,s):s),g.cloneElement(n,i)}return g.Children.count(n)>1?g.Children.only(null):null});Bm.displayName="SlotClone";var $y=({children:t})=>f.jsx(f.Fragment,{children:t});function AV(t){return g.isValidElement(t)&&t.type===$y}function RV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function PV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(m=64)),r.push(n[d],n[h],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new kV;const m=i<<2|a>>4;if(r.push(m),u!==64){const _=a<<4&240|u>>2;if(r.push(_),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NV=function(t){const e=HI(t);return qI.encodeByteArray(e,!0)},Nd=function(t){return NV(t).replace(/\./g,"")},KI=function(t){try{return qI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=()=>DV().__FIREBASE_DEFAULTS__,VV=()=>{if(typeof process>"u"||typeof HE>"u")return;const t=HE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KI(t[1]);return e&&JSON.parse(e)},Rf=()=>{try{return OV()||VV()||MV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GI=t=>{var e,n;return(n=(e=Rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LV=t=>{const e=GI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QI=()=>{var t;return(t=Rf())===null||t===void 0?void 0:t.config},YI=t=>{var e;return(e=Rf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nd(JSON.stringify(n)),Nd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function $V(){var t;const e=(t=Rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HV(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qV(){return!$V()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KV(){try{return typeof indexedDB=="object"}catch{return!1}}function GV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QV,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new es(s,a,r)}}function YV(t,e){return t.replace(XV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XV=/\{\$([^}]+)}/g;function JV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ec(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qE(i)&&qE(o)){if(!ec(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZV(t,e){const n=new eM(t,e);return n.subscribe.bind(n)}class eM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mp),s.error===void 0&&(s.error=mp),s.complete===void 0&&(s.complete=mp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sM(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rM(t){return t===_i?void 0:t}function sM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const oM={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},aM=we.INFO,lM={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},cM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=aM,this._logHandler=cM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const uM=(t,e)=>e.some(n=>t instanceof n);let KE,GE;function dM(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fM(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,zm=new WeakMap,JI=new WeakMap,gp=new WeakMap,zy=new WeakMap;function hM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),zy.set(e,t),e}function pM(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mM(t){Wm=t(Wm)}function gM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yp(this),e,...n);return JI.set(r,e.sort?e.sort():[e]),Ms(r)}:fM().includes(t)?function(...e){return t.apply(yp(this),e),Ms(XI.get(this))}:function(...e){return Ms(t.apply(yp(this),e))}}function yM(t){return typeof t=="function"?gM(t):(t instanceof IDBTransaction&&pM(t),uM(t,dM())?new Proxy(t,Wm):t)}function Ms(t){if(t instanceof IDBRequest)return hM(t);if(gp.has(t))return gp.get(t);const e=yM(t);return e!==t&&(gp.set(t,e),zy.set(e,t)),e}const yp=t=>zy.get(t);function vM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _M=["get","getKey","getAll","getAllKeys","count"],wM=["put","add","delete","clear"],vp=new Map;function QE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_M.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return vp.set(e,i),i}mM(t=>({...t,get:(e,n,r)=>QE(e,n)||t.get(e,n,r),has:(e,n)=>!!QE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",YE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new By("@firebase/app"),TM="@firebase/app-compat",SM="@firebase/analytics-compat",IM="@firebase/analytics",CM="@firebase/app-check-compat",AM="@firebase/app-check",RM="@firebase/auth",PM="@firebase/auth-compat",bM="@firebase/database",kM="@firebase/data-connect",NM="@firebase/database-compat",DM="@firebase/functions",OM="@firebase/functions-compat",VM="@firebase/installations",MM="@firebase/installations-compat",LM="@firebase/messaging",jM="@firebase/messaging-compat",FM="@firebase/performance",UM="@firebase/performance-compat",$M="@firebase/remote-config",BM="@firebase/remote-config-compat",zM="@firebase/storage",WM="@firebase/storage-compat",HM="@firebase/firestore",qM="@firebase/vertexai",KM="@firebase/firestore-compat",GM="firebase",QM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",YM={[Hm]:"fire-core",[TM]:"fire-core-compat",[IM]:"fire-analytics",[SM]:"fire-analytics-compat",[AM]:"fire-app-check",[CM]:"fire-app-check-compat",[RM]:"fire-auth",[PM]:"fire-auth-compat",[bM]:"fire-rtdb",[kM]:"fire-data-connect",[NM]:"fire-rtdb-compat",[DM]:"fire-fn",[OM]:"fire-fn-compat",[VM]:"fire-iid",[MM]:"fire-iid-compat",[LM]:"fire-fcm",[jM]:"fire-fcm-compat",[FM]:"fire-perf",[UM]:"fire-perf-compat",[$M]:"fire-rc",[BM]:"fire-rc-compat",[zM]:"fire-gcs",[WM]:"fire-gcs-compat",[HM]:"fire-fst",[KM]:"fire-fst-compat",[qM]:"fire-vertex","fire-js":"fire-js",[GM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,XM=new Map,Km=new Map;function XE(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Km.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(const n of Dd.values())XE(n,t);for(const n of XM.values())XE(n,t);return!0}function Wy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new xc("app","Firebase",JM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=QM;function ZI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=QI()),!n)throw Ls.create("no-options");const i=Dd.get(s);if(i){if(ec(n,i.options)&&ec(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const o=new iM(s);for(const l of Km.values())o.addComponent(l);const a=new ZM(n,r,o);return Dd.set(s,a),a}function eC(t=qm){const e=Dd.get(t);if(!e&&t===qm&&QI())return ZI();if(!e)throw Ls.create("no-app",{appName:t});return e}function js(t,e,n){var r;let s=(r=YM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Jo(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firebase-heartbeat-database",t2=1,tc="firebase-heartbeat-store";let _p=null;function tC(){return _p||(_p=vM(e2,t2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),_p}async function n2(t){try{const n=(await tC()).transaction(tc),r=await n.objectStore(tc).get(nC(t));return await n.done,r}catch(e){if(e instanceof es)zr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function JE(t,e){try{const r=(await tC()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,nC(t)),await r.done}catch(n){if(n instanceof es)zr.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1024,s2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ZE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>s2){const o=l2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZE(),{heartbeatsToSend:r,unsentEntries:s}=o2(this._heartbeatsCache.heartbeats),i=Nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zr.warn(n),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function o2(t,e=r2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),e0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),e0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KV()?GV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return JE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return JE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e0(t){return Nd(JSON.stringify({version:2,heartbeats:t})).length}function l2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){Jo(new Mi("platform-logger",e=>new EM(e),"PRIVATE")),Jo(new Mi("heartbeat",e=>new i2(e),"PRIVATE")),js(Hm,YE,t),js(Hm,YE,"esm2017"),js("fire-js","")}c2("");var u2="firebase",d2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(u2,d2,"app");var ar=function(){return ar=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ar.apply(this,arguments)};function Sc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function f2(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function rC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=rC,sC=new xc("auth","Firebase",rC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new By("@firebase/auth");function p2(t,...e){Od.logLevel<=we.WARN&&Od.warn(`Auth (${_a}): ${t}`,...e)}function zu(t,...e){Od.logLevel<=we.ERROR&&Od.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw Hy(t,...e)}function dr(t,...e){return Hy(t,...e)}function iC(t,e,n){const r=Object.assign(Object.assign({},h2()),{[e]:n});return new xc("auth","Firebase",r).create(e,{appName:t.name})}function Fs(t){return iC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sC.create(t,...e)}function ue(t,e,...n){if(!t)throw Hy(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zu(e),new Error(e)}function Wr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m2(){return t0()==="http:"||t0()==="https:"}function t0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m2()||zV()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=UV()||WV()}get(){return g2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Ic(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,n,r,s={}){return aC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return BV()||(u.referrerPolicy="no-referrer"),oC.fetch()(lC(t,t.config.apiHost,n,a),u)})}async function aC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},v2),e);try{const s=new E2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iC(t,d,u);qn(t,d)}}catch(s){if(s instanceof es)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Pf(t,e,n,r,s={}){const i=await oi(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function lC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?qy(t.config,s):`${t.config.apiScheme}://${s}`}function w2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),_2.get())})}}function gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=dr(t,e,r);return s.customData._tokenResponse=n,s}function n0(t){return t!==void 0&&t.enterprise!==void 0}class x2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T2(t,e){return oi(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function cC(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I2(t,e=!1){const n=bt(t),r=await n.getIdToken(e),s=Ky(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bl(wp(s.auth_time)),issuedAtTime:bl(wp(s.iat)),expirationTime:bl(wp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wp(t){return Number(t)*1e3}function Ky(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const s=KI(n);return s?JSON.parse(s):(zu("Failed to decode base64 JWT payload"),null)}catch(s){return zu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r0(t){const e=Ky(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&C2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await nc(t,cC(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?uC(i.providerUserInfo):[],a=P2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function R2(t){const e=bt(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uC(t){return t.map(e=>{var{providerId:n}=e,r=Sc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e){const n=await aC(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=lC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k2(t,e){return oi(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await b2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Lo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Sc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I2(this,e)}reload(){return R2(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await nc(this,S2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:O,providerData:L,stsTokenManager:C}=n;ue(x&&C,e,"internal-error");const S=Lo.fromJSON(this.name,C);ue(typeof x=="string",e,"internal-error"),cs(h,e.name),cs(m,e.name),ue(typeof k=="boolean",e,"internal-error"),ue(typeof O=="boolean",e,"internal-error"),cs(_,e.name),cs(T,e.name),cs(w,e.name),cs(I,e.name),cs(E,e.name),cs(v,e.name);const R=new Dr({uid:x,auth:e,email:m,emailVerified:k,displayName:h,isAnonymous:O,photoURL:T,phoneNumber:_,tenantId:w,stsTokenManager:S,createdAt:E,lastLoginAt:v});return L&&Array.isArray(L)&&(R.providerData=L.map(b=>Object.assign({},b))),I&&(R._redirectEventId=I),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Lo;s.updateFromServerResponse(n);const i=new Dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?uC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Lo;a.updateFromIdToken(r);const l=new Dr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;function Or(t){Wr(t instanceof Function,"Expected a class definition");let e=s0.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const i0=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Or(i0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Or(i0);const o=Wu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Dr._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new jo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yC(e))return"Blackberry";if(vC(e))return"Webos";if(hC(e))return"Safari";if((e.includes("chrome/")||pC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=$t()){return/firefox\//i.test(t)}function hC(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pC(t=$t()){return/crios\//i.test(t)}function mC(t=$t()){return/iemobile/i.test(t)}function gC(t=$t()){return/android/i.test(t)}function yC(t=$t()){return/blackberry/i.test(t)}function vC(t=$t()){return/webos/i.test(t)}function Gy(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N2(t=$t()){var e;return Gy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D2(){return HV()&&document.documentMode===10}function _C(t=$t()){return Gy(t)||gC(t)||vC(t)||yC(t)||/windows phone/i.test(t)||mC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e=[]){let n;switch(t){case"Browser":n=o0($t());break;case"Worker":n=`${o0($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e={}){return oi(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=6;class L2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:M2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new O2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cC(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Fs(this));const n=e?bt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V2(this),n=new L2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wa(t){return bt(t)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZV(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F2(t){bf=t}function EC(t){return bf.loadJS(t)}function U2(){return bf.recaptchaEnterpriseScript}function $2(){return bf.gapiScript}function B2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class z2{constructor(){this.enterprise=new W2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class W2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const H2="recaptcha-enterprise",xC="NO_RECAPTCHA";class q2{constructor(e){this.type=H2,this.auth=wa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{T2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new x2(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;n0(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(xC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z2().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&n0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=U2();l.length!==0&&(l+=a),EC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function l0(t,e,n,r=!1,s=!1){const i=new q2(t);let o;if(s)o=xC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function c0(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await l0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){const n=Wy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ec(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function G2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Q2(t,e,n){const r=wa(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TC(e),{host:o,port:a}=Y2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),X2()}function TC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y2(t){const e=TC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u0(o)}}}function u0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function J2(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e){return Pf(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function tL(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Qy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c0(e,n,"signInWithPassword",Z2);case"emailLink":return eL(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c0(e,r,"signUpPassword",J2);case"emailLink":return tL(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return Pf(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="http://localhost";class Li extends Qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Sc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:nL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sL(t){const e=dl(fl(t)).link,n=e?dl(fl(e)).deep_link_id:null,r=dl(fl(t)).deep_link_id;return(r?dl(fl(r)).link:null)||r||n||e||t}class Yy{constructor(e){var n,r,s,i,o,a;const l=dl(fl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=rL((s=l.mode)!==null&&s!==void 0?s:null);ue(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=sL(e);try{return new Yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yy.parseLink(n);return ue(r,"argument-error"),rc._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends SC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Cc{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Cc{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Cc{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Dr._fromIdTokenResponse(e,r,s),o=d0(r);return new Zo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=d0(r);return new Zo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function d0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends es{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Md(e,n,r,s)}}function IC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(t,i,e,r):i})}async function iL(t,e,n=!1){const r=await nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(Fs(r));const s="reauthenticate";try{const i=await nc(t,IC(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=Ky(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Zo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e,n=!1){if($n(t.app))return Promise.reject(Fs(t));const r="signIn",s=await IC(t,r,e),i=await Zo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function aL(t,e){return CC(wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t){const e=wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function cL(t,e,n){return $n(t.app)?Promise.reject(Fs(t)):aL(bt(t),Ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lL(t),r})}function uL(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function dL(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function fL(t){return bt(t).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=1e3,pL=10;class RC extends AC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);D2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RC.type="LOCAL";const mL=RC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends AC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PC.type="SESSION";const bC=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await gL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Xy("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function vL(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function _L(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EL(){return kC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebaseLocalStorageDb",xL=1,jd="firebaseLocalStorage",DC="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nf(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function TL(){const t=indexedDB.deleteDatabase(NC);return new Ac(t).toPromise()}function Ym(){const t=indexedDB.open(NC,xL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:DC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await TL(),e(await Ym()))})})}async function f0(t,e,n){const r=Nf(t,!0).put({[DC]:e,value:n});return new Ac(r).toPromise()}async function SL(t,e){const n=Nf(t,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function h0(t,e){const n=Nf(t,!0).delete(e);return new Ac(n).toPromise()}const IL=800,CL=3;class OC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(EL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _L(),!this.activeServiceWorker)return;this.sender=new yL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await f0(e,Ld,"1"),await h0(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nf(s,!1).getAll();return new Ac(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OC.type="LOCAL";const AL=OC;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){return e?Or(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PL(t){return CC(t.auth,new Jy(t),t.bypassAuthState)}function bL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),oL(n,new Jy(t),t.bypassAuthState)}async function kL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),iL(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PL;case"linkViaPopup":case"linkViaRedirect":return kL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:qn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new Ic(2e3,1e4);class bo extends VC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NL.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="pendingRedirect",Hu=new Map;class OL extends VC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await VL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VL(t,e){const n=jL(e),r=LL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ML(t,e){Hu.set(t._key(),e)}function LL(t){return Or(t._redirectPersistence)}function jL(t){return Wu(DL,t.config.apiKey,t.name)}async function FL(t,e,n=!1){if($n(t.app))return Promise.reject(Fs(t));const r=wa(t),s=RL(r,e),o=await new OL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=10*60*1e3;class $L{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UL&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HL=/^https?/;async function qL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zL(t);for(const n of e)try{if(KL(n))return}catch{}qn(t,"unauthorized-domain")}function KL(t){const e=Gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HL.test(n))return!1;if(WL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Ic(3e4,6e4);function m0(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QL(t){return new Promise((e,n)=>{var r,s,i;function o(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(dr(t,"network-request-failed"))},timeout:GL.get()})}if(!((s=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=fr().gapi)===null||i===void 0)&&i.load)o();else{const a=B2("iframefcb");return fr()[a]=()=>{gapi.load?o():n(dr(t,"network-request-failed"))},EC(`${$2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qu=null,e})}let qu=null;function YL(t){return qu=qu||QL(t),qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Ic(5e3,15e3),JL="__/auth/iframe",ZL="emulator/auth/iframe",ej={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nj(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qy(e,ZL):`https://${t.config.authDomain}/${JL}`,r={apiKey:e.apiKey,appName:t.name,v:_a},s=tj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tc(r).slice(1)}`}async function rj(t){const e=await YL(t),n=fr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:nj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ej,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=dr(t,"network-request-failed"),a=fr().setTimeout(()=>{i(o)},XL.get());function l(){fr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ij=500,oj=600,aj="_blank",lj="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cj(t,e,n,r=ij,s=oj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sj),{width:r.toString(),height:s.toString(),top:i,left:o}),u=$t().toLowerCase();n&&(a=pC(u)?aj:n),fC(u)&&(e=e||lj,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[_,T])=>`${m}${_}=${T},`,"");if(N2(u)&&a!=="_self")return uj(e||"",a),new g0(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new g0(h)}function uj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="__/auth/handler",fj="emulator/auth/handler",hj=encodeURIComponent("fac");async function y0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:s};if(e instanceof SC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Cc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${hj}=${encodeURIComponent(l)}`:"";return`${pj(t)}?${Tc(a).slice(1)}${u}`}function pj({config:t}){return t.emulator?qy(t,fj):`https://${t.authDomain}/${dj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class mj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=FL,this._overrideRedirectResult=ML}async _openPopup(e,n,r,s){var i;Wr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await y0(e,n,r,Gm(),s);return cj(e,o,Xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await y0(e,n,r,Gm(),s);return vL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rj(e),r=new $L(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ep];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||hC()||Gy()}}const gj=mj;var v0="@firebase/auth",_0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _j(t){Jo(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(t)},u=new j2(r,s,i,l);return G2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Mi("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(r=>new yj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(v0,_0,vj(t)),js(v0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=5*60,Ej=YI("authIdTokenMaxAge")||wj;let w0=null;const xj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ej)return;const s=n==null?void 0:n.token;w0!==s&&(w0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tj(t=eC()){const e=Wy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K2(t,{popupRedirectResolver:gj,persistence:[AL,mL,bC]}),r=YI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=xj(i.toString());dL(n,o,()=>o(n.currentUser)),uL(n,a=>o(a))}}const s=GI("auth");return s&&Q2(n,`http://${s}`),n}function Sj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=dr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Sj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_j("Browser");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,LC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(b,D,N){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return S.prototype[D].apply(b,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,R){R||(R=0);var b=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)b[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;16>D;++D)b[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],D=C.g[2];var N=C.g[3],P=S+(N^R&(D^N))+b[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=N+(D^S&(R^D))+b[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=D+(R^N&(S^R))+b[2]+606105819&4294967295,D=N+(P<<17&4294967295|P>>>15),P=R+(S^D&(N^S))+b[3]+3250441966&4294967295,R=D+(P<<22&4294967295|P>>>10),P=S+(N^R&(D^N))+b[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(D^S&(R^D))+b[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=D+(R^N&(S^R))+b[6]+2821735955&4294967295,D=N+(P<<17&4294967295|P>>>15),P=R+(S^D&(N^S))+b[7]+4249261313&4294967295,R=D+(P<<22&4294967295|P>>>10),P=S+(N^R&(D^N))+b[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(D^S&(R^D))+b[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=D+(R^N&(S^R))+b[10]+4294925233&4294967295,D=N+(P<<17&4294967295|P>>>15),P=R+(S^D&(N^S))+b[11]+2304563134&4294967295,R=D+(P<<22&4294967295|P>>>10),P=S+(N^R&(D^N))+b[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=N+(D^S&(R^D))+b[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=D+(R^N&(S^R))+b[14]+2792965006&4294967295,D=N+(P<<17&4294967295|P>>>15),P=R+(S^D&(N^S))+b[15]+1236535329&4294967295,R=D+(P<<22&4294967295|P>>>10),P=S+(D^N&(R^D))+b[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^D&(S^R))+b[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=D+(S^R&(N^S))+b[11]+643717713&4294967295,D=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(D^N))+b[0]+3921069994&4294967295,R=D+(P<<20&4294967295|P>>>12),P=S+(D^N&(R^D))+b[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^D&(S^R))+b[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=D+(S^R&(N^S))+b[15]+3634488961&4294967295,D=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(D^N))+b[4]+3889429448&4294967295,R=D+(P<<20&4294967295|P>>>12),P=S+(D^N&(R^D))+b[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^D&(S^R))+b[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=D+(S^R&(N^S))+b[3]+4107603335&4294967295,D=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(D^N))+b[8]+1163531501&4294967295,R=D+(P<<20&4294967295|P>>>12),P=S+(D^N&(R^D))+b[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=N+(R^D&(S^R))+b[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=D+(S^R&(N^S))+b[7]+1735328473&4294967295,D=N+(P<<14&4294967295|P>>>18),P=R+(N^S&(D^N))+b[12]+2368359562&4294967295,R=D+(P<<20&4294967295|P>>>12),P=S+(R^D^N)+b[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^D)+b[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=D+(N^S^R)+b[11]+1839030562&4294967295,D=N+(P<<16&4294967295|P>>>16),P=R+(D^N^S)+b[14]+4259657740&4294967295,R=D+(P<<23&4294967295|P>>>9),P=S+(R^D^N)+b[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^D)+b[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=D+(N^S^R)+b[7]+4139469664&4294967295,D=N+(P<<16&4294967295|P>>>16),P=R+(D^N^S)+b[10]+3200236656&4294967295,R=D+(P<<23&4294967295|P>>>9),P=S+(R^D^N)+b[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^D)+b[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=D+(N^S^R)+b[3]+3572445317&4294967295,D=N+(P<<16&4294967295|P>>>16),P=R+(D^N^S)+b[6]+76029189&4294967295,R=D+(P<<23&4294967295|P>>>9),P=S+(R^D^N)+b[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=N+(S^R^D)+b[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=D+(N^S^R)+b[15]+530742520&4294967295,D=N+(P<<16&4294967295|P>>>16),P=R+(D^N^S)+b[2]+3299628645&4294967295,R=D+(P<<23&4294967295|P>>>9),P=S+(D^(R|~N))+b[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~D))+b[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=D+(S^(N|~R))+b[14]+2878612391&4294967295,D=N+(P<<15&4294967295|P>>>17),P=R+(N^(D|~S))+b[5]+4237533241&4294967295,R=D+(P<<21&4294967295|P>>>11),P=S+(D^(R|~N))+b[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~D))+b[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=D+(S^(N|~R))+b[10]+4293915773&4294967295,D=N+(P<<15&4294967295|P>>>17),P=R+(N^(D|~S))+b[1]+2240044497&4294967295,R=D+(P<<21&4294967295|P>>>11),P=S+(D^(R|~N))+b[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~D))+b[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=D+(S^(N|~R))+b[6]+2734768916&4294967295,D=N+(P<<15&4294967295|P>>>17),P=R+(N^(D|~S))+b[13]+1309151649&4294967295,R=D+(P<<21&4294967295|P>>>11),P=S+(D^(R|~N))+b[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=N+(R^(S|~D))+b[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=D+(S^(N|~R))+b[2]+718787259&4294967295,D=N+(P<<15&4294967295|P>>>17),P=R+(N^(D|~S))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,b=this.B,D=this.h,N=0;N<S;){if(D==0)for(;N<=R;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<S;)if(b[D++]=C.charCodeAt(N++),D==this.blockSize){s(this,b),D=0;break}}else for(;N<S;)if(b[D++]=C[N++],D==this.blockSize){s(this,b),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var b=0;32>b;b+=8)C[R++]=this.g[S]>>>b&255;return C};function i(C,S){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function o(C,S){this.h=S;for(var R=[],b=!0,D=C.length-1;0<=D;D--){var N=C[D]|0;b&&N==S||(R[D]=N,b=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return I(u(-C));for(var S=[],R=1,b=0;C>=R;b++)S[b]=C/R|0,R*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return I(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(S,8)),b=h,D=0;D<C.length;D+=8){var N=Math.min(8,C.length-D),P=parseInt(C.substring(D,D+N),S);8>N?(N=u(Math.pow(S,N)),b=b.j(N).add(u(P))):(b=b.j(R),b=b.add(u(P)))}return b}var h=l(0),m=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var b=this.i(R);C+=(0<=b?b:4294967296+b)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(w(this))return"-"+I(this).toString(C);for(var S=u(Math.pow(C,6)),R=this,b="";;){var D=k(R,S).g;R=E(R,D.j(S));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=D,T(R))return N+b;for(;6>N.length;)N="0"+N;b=N+b}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=E(this,C),w(C)?-1:T(C)?0:1};function I(C){for(var S=C.g.length,R=[],b=0;b<S;b++)R[b]=~C.g[b];return new o(R,~C.h).add(m)}t.abs=function(){return w(this)?I(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],b=0,D=0;D<=S;D++){var N=b+(this.i(D)&65535)+(C.i(D)&65535),P=(N>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);b=P>>>16,N&=65535,P&=65535,R[D]=P<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(C,S){return C.add(I(S))}t.j=function(C){if(T(this)||T(C))return h;if(w(this))return w(C)?I(this).j(I(C)):I(I(this).j(C));if(w(C))return I(this.j(I(C)));if(0>this.l(_)&&0>C.l(_))return u(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],b=0;b<2*S;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<C.g.length;D++){var N=this.i(b)>>>16,P=this.i(b)&65535,X=C.i(D)>>>16,le=C.i(D)&65535;R[2*b+2*D]+=P*le,v(R,2*b+2*D),R[2*b+2*D+1]+=N*le,v(R,2*b+2*D+1),R[2*b+2*D+1]+=P*X,v(R,2*b+2*D+1),R[2*b+2*D+2]+=N*X,v(R,2*b+2*D+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new o(R,0)};function v(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function x(C,S){this.g=C,this.h=S}function k(C,S){if(T(S))throw Error("division by zero");if(T(C))return new x(h,h);if(w(C))return S=k(I(C),S),new x(I(S.g),I(S.h));if(w(S))return S=k(C,I(S)),new x(I(S.g),S.h);if(30<C.g.length){if(w(C)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var R=m,b=S;0>=b.l(C);)R=O(R),b=O(b);var D=L(R,1),N=L(b,1);for(b=L(b,2),R=L(R,2);!T(b);){var P=N.add(b);0>=P.l(C)&&(D=D.add(R),N=P),b=L(b,1),R=L(R,1)}return S=E(C,D.j(S)),new x(D,S)}for(D=h;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),N=u(R),P=N.j(S);w(P)||0<P.l(C);)R-=b,N=u(R),P=N.j(S);T(N)&&(N=m),D=D.add(N),C=E(C,P)}return new x(D,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)&C.i(b);return new o(R,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)|C.i(b);return new o(R,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)^C.i(b);return new o(R,this.h^C.h)};function O(C){for(var S=C.g.length+1,R=[],b=0;b<S;b++)R[b]=C.i(b)<<1|C.i(b-1)>>>31;return new o(R,C.h)}function L(C,S){var R=S>>5;S%=32;for(var b=C.g.length-R,D=[],N=0;N<b;N++)D[N]=0<S?C.i(N+R)>>>S|C.i(N+R+1)<<32-S:C.i(N+R);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Us=o}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jC,hl,FC,Ku,Xm,UC,$C,BC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yu=="object"&&yu];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var y=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var M=c[A];if(!(M in y))break e;y=y[M]}c=c[c.length-1],A=y[c],p=p(A),p!=A&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var y=0,A=!1,M={next:function(){if(!A&&y<c.length){var F=y++;return{value:p(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function m(c,p,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function _(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,M,F){for(var K=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)K[Me-2]=arguments[Me];return p.prototype[M].apply(A,K)}}function w(c){const p=c.length;if(0<p){const y=Array(p);for(let A=0;A<p;A++)y[A]=c[A];return y}return[]}function I(c,p){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(l(A)){const M=c.length||0,F=A.length||0;c.length=M+F;for(let K=0;K<F;K++)c[M+K]=A[K]}else c.push(A)}}class E{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(c,p,y){for(const A in c)p.call(y,c[A],A,c)}function C(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function S(c){const p={};for(const y in c)p[y]=c[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let y,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(y in A)c[y]=A[y];for(let F=0;F<R.length;F++)y=R[F],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function D(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function P(){var c=q;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,y){const A=le.get();A.set(p,y),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new E(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let se,$=!1,q=new X,te=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(fe)}};var fe=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(y){N(y)}var p=le;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}$=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function gt(c,p){if(Oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&gt.aa.h.call(this)}}T(gt,Oe);var et={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function tt(c,p,y,A,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!A,this.ha=M,this.key=++Ne,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _e(c){this.src=c,this.g={},this.h=0}_e.prototype.add=function(c,p,y,A,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var K=at(c,p,A,M);return-1<K?(p=c[K],y||(p.fa=!1)):(p=new tt(p,this.src,F,!!A,M),p.fa=y,c.push(p)),p};function Se(c,p){var y=p.type;if(y in c.g){var A=c.g[y],M=Array.prototype.indexOf.call(A,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(A,M,1),F&&(Re(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function at(c,p,y,A){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==A)return M}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),tr={};function xr(c,p,y,A,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)xr(c,p[F],y,A,M);return null}return y=me(y),c&&c[re]?c.K(p,y,u(A)?!!A.capture:!1,M):ss(c,p,y,!1,A,M)}function ss(c,p,y,A,M,F){if(!p)throw Error("Invalid event type");var K=u(M)?!!M.capture:!!M,Me=H(c);if(Me||(c[wt]=Me=new _e(c)),y=Me.add(p,y,A,K,F),y.proxy)return y;if(A=V(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)Ze||(M=K),M===void 0&&(M=!1),c.addEventListener(p.toString(),A,M);else if(c.attachEvent)c.attachEvent(Y(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function V(){function c(y){return p.call(c.src,c.listener,y)}const p=G;return c}function j(c,p,y,A,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)j(c,p[F],y,A,M);else A=u(A)?!!A.capture:!!A,y=me(y),c&&c[re]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],y=at(F,y,A,M),-1<y&&(Re(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=H(c))&&(p=c.g[p.toString()],c=-1,p&&(c=at(p,y,A,M)),(y=-1<c?p[c]:null)&&U(y))}function U(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[re])Se(p.i,c);else{var y=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(y,A,c.capture):p.detachEvent?p.detachEvent(Y(y),A):p.addListener&&p.removeListener&&p.removeListener(A),(y=H(p))?(Se(y,c),y.h==0&&(y.src=null,p[wt]=null)):Re(c)}}}function Y(c){return c in tr?tr[c]:tr[c]="on"+c}function G(c,p){if(c.da)c=!0;else{p=new gt(p,this);var y=c.listener,A=c.ha||c.src;c.fa&&U(c),c=y.call(A,p)}return c}function H(c){return c=c[wt],c instanceof _e?c:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(c){return typeof c=="function"?c:(c[ie]||(c[ie]=function(p){return c.handleEvent(p)}),c[ie])}function xe(){ve.call(this),this.i=new _e(this),this.M=this,this.F=null}T(xe,ve),xe.prototype[re]=!0,xe.prototype.removeEventListener=function(c,p,y,A){j(this,c,p,y,A)};function Ie(c,p){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new Oe(p,c);else if(p instanceof Oe)p.target=p.target||c;else{var M=p;p=new Oe(A,c),b(p,M)}if(M=!0,y)for(var F=y.length-1;0<=F;F--){var K=p.g=y[F];M=cn(K,A,!0,p)&&M}if(K=p.g=c,M=cn(K,A,!0,p)&&M,M=cn(K,A,!1,p)&&M,y)for(F=0;F<y.length;F++)K=p.g=y[F],M=cn(K,A,!1,p)&&M}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],A=0;A<y.length;A++)Re(y[A]);delete c.g[p],c.h--}}this.F=null},xe.prototype.K=function(c,p,y,A){return this.i.add(String(c),p,!1,y,A)},xe.prototype.L=function(c,p,y,A){return this.i.add(String(c),p,!0,y,A)};function cn(c,p,y,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var K=p[F];if(K&&!K.da&&K.capture==y){var Me=K.listener,Et=K.ha||K.src;K.fa&&Se(c.i,K),M=Me.call(Et,A)!==!1&&M}}return M&&!A.defaultPrevented}function Mc(c,p,y){if(typeof c=="function")y&&(c=m(c,y));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function no(c){c.g=Mc(()=>{c.g=null,c.i&&(c.i=!1,no(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Va extends ve{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(c){ve.call(this),this.h=c,this.g={}}T(fi,ve);var Ma=[];function Lc(c){L(c.g,function(p,y){this.g.hasOwnProperty(y)&&U(p)},c),c.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Lc(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=a.JSON.stringify,o1=a.JSON.parse,a1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Sh(){}Sh.prototype.h=null;function A_(c){return c.h||(c.h=c.i())}function R_(){}var La={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ih(){Oe.call(this,"d")}T(Ih,Oe);function Ch(){Oe.call(this,"c")}T(Ch,Oe);var hi={},P_=null;function jc(){return P_=P_||new xe}hi.La="serverreachability";function b_(c){Oe.call(this,hi.La,c)}T(b_,Oe);function ja(c){const p=jc();Ie(p,new b_(p))}hi.STAT_EVENT="statevent";function k_(c,p){Oe.call(this,hi.STAT_EVENT,c),this.stat=p}T(k_,Oe);function zt(c){const p=jc();Ie(p,new k_(p,c))}hi.Ma="timingevent";function N_(c,p){Oe.call(this,hi.Ma,c),this.size=p}T(N_,Oe);function Fa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Ua(){this.g=!0}Ua.prototype.xa=function(){this.g=!1};function l1(c,p,y,A,M,F){c.info(function(){if(c.g)if(F)for(var K="",Me=F.split("&"),Et=0;Et<Me.length;Et++){var be=Me[Et].split("=");if(1<be.length){var Nt=be[0];be=be[1];var Dt=Nt.split("_");K=2<=Dt.length&&Dt[1]=="type"?K+(Nt+"="+be+"&"):K+(Nt+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+y+`
`+K})}function c1(c,p,y,A,M,F,K){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+y+`
`+F+" "+K})}function so(c,p,y,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+d1(c,y)+(A?" "+A:"")})}function u1(c,p){c.info(function(){return"TIMEOUT: "+p})}Ua.prototype.info=function(){};function d1(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return ro(y)}catch{return p}}var Fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ah;function Uc(){}T(Uc,Sh),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},Ah=new Uc;function is(c,p,y,A){this.j=c,this.i=p,this.l=y,this.R=A||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new O_}function O_(){this.i=null,this.g="",this.h=!1}var V_={},Rh={};function Ph(c,p,y){c.L=1,c.v=Wc(Tr(p)),c.m=y,c.P=!0,M_(c,null)}function M_(c,p){c.F=Date.now(),$c(c),c.A=Tr(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Y_(y.i,"t",A),c.C=0,y=c.j.J,c.h=new O_,c.g=pw(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Va(m(c.Y,c,c.g),c.O)),p=c.U,y=c.g,A=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ma[0]=M.toString()),M=Ma);for(var F=0;F<M.length;F++){var K=xr(y,M[F],A||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ja(),l1(c.i,c.u,c.A,c.l,c.R,c.m)}is.prototype.ca=function(c){c=c.target;const p=this.M;p&&Sr(c)==3?p.j():this.Y(c)},is.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Sr(this.g);var p=this.g.Ba();const ao=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||rw(this.g)))){this.J||Dt!=4||p==7||(p==8||0>=ao?ja(3):ja(2)),bh(this);var y=this.g.Z();this.X=y;t:if(L_(this)){var A=rw(this.g);c="";var M=A.length,F=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),$a(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(F&&p==M-1)});A.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=y==200,c1(this.i,this.u,this.A,this.l,this.R,Dt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Me)){var be=Me;break t}}be=null}if(y=be)so(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kh(this,y);else{this.o=!1,this.s=3,zt(12),pi(this),$a(this);break e}}if(this.P){y=!0;let Dn;for(;!this.J&&this.C<K.length;)if(Dn=f1(this,K),Dn==Rh){Dt==4&&(this.s=4,zt(14),y=!1),so(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==V_){this.s=4,zt(15),so(this.i,this.l,K,"[Invalid Chunk]"),y=!1;break}else so(this.i,this.l,Dn,null),kh(this,Dn);if(L_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||K.length!=0||this.h.h||(this.s=1,zt(16),y=!1),this.o=this.o&&y,!y)so(this.i,this.l,K,"[Invalid Chunked Response]"),pi(this),$a(this);else if(0<K.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Lh(Nt),Nt.M=!0,zt(11))}}else so(this.i,this.l,K,null),kh(this,K);Dt==4&&pi(this),this.o&&!this.J&&(Dt==4?uw(this.j,this):(this.o=!1,$c(this)))}else P1(this.g),y==400&&0<K.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),pi(this),$a(this)}}}catch{}finally{}};function L_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function f1(c,p){var y=c.C,A=p.indexOf(`
`,y);return A==-1?Rh:(y=Number(p.substring(y,A)),isNaN(y)?V_:(A+=1,A+y>p.length?Rh:(p=p.slice(A,A+y),c.C=A+y,p)))}is.prototype.cancel=function(){this.J=!0,pi(this)};function $c(c){c.S=Date.now()+c.I,j_(c,c.I)}function j_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fa(m(c.ba,c),p)}function bh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}is.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(u1(this.i,this.A),this.L!=2&&(ja(),zt(17)),pi(this),this.s=2,$a(this)):j_(this,this.S-c)};function $a(c){c.j.G==0||c.J||uw(c.j,c)}function pi(c){bh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Lc(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function kh(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Nh(y.h,c))){if(!c.K&&Nh(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Yc(y),Gc(y);else break e;Mh(y),zt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Fa(m(y.Za,y),6e3));if(1>=$_(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else gi(y,11)}else if((c.K||y.g==c)&&Yc(y),!v(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const Nt=be[3];Nt!=null&&(y.la=Nt,y.j.info("VER="+y.la));const Dt=be[4];Dt!=null&&(y.Aa=Dt,y.j.info("SVER="+y.Aa));const ao=be[5];ao!=null&&typeof ao=="number"&&0<ao&&(A=1.5*ao,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Dn=c.g;if(Dn){const Jc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var F=A.h;F.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Dh(F,F.h),F.h=null))}if(A.D){const jh=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;jh&&(A.ya=jh,Ue(A.I,A.D,jh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var K=c;if(A.qa=hw(A,A.J?A.ia:null,A.W),K.K){B_(A.h,K);var Me=K,Et=A.L;Et&&(Me.I=Et),Me.B&&(bh(Me),$c(Me)),A.g=K}else lw(A);0<y.i.length&&Qc(y)}else be[0]!="stop"&&be[0]!="close"||gi(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?gi(y,7):Vh(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}ja(4)}catch{}}var h1=class{constructor(c,p){this.g=c,this.map=p}};function F_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function U_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $_(c){return c.h?1:c.g?c.g.size:0}function Nh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Dh(c,p){c.g?c.g.add(p):c.h=p}function B_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}F_.prototype.cancel=function(){if(this.i=z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function z_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return w(c.i)}function p1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,A=0;A<y;A++)p.push(c[A]);return p}p=[],y=0;for(A in c)p[y++]=c[A];return p}function m1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const A in c)p[y++]=A;return p}}}function W_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=m1(c),A=p1(c),M=A.length,F=0;F<M;F++)p.call(void 0,A[F],y&&y[F],c)}var H_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g1(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),M=null;if(0<=A){var F=c[y].substring(0,A);M=c[y].substring(A+1)}else F=c[y];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,Bc(this,c.j),this.o=c.o,this.g=c.g,zc(this,c.s),this.l=c.l;var p=c.i,y=new Wa;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),q_(this,y),this.m=c.m}else c&&(p=String(c).match(H_))?(this.h=!1,Bc(this,p[1]||"",!0),this.o=Ba(p[2]||""),this.g=Ba(p[3]||"",!0),zc(this,p[4]),this.l=Ba(p[5]||"",!0),q_(this,p[6]||"",!0),this.m=Ba(p[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}mi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(za(p,K_,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(za(p,K_,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(za(y,y.charAt(0)=="/"?_1:v1,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",za(y,E1)),c.join("")};function Tr(c){return new mi(c)}function Bc(c,p,y){c.j=y?Ba(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function zc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function q_(c,p,y){p instanceof Wa?(c.i=p,x1(c.i,c.h)):(y||(p=za(p,w1)),c.i=new Wa(p,c.h))}function Ue(c,p,y){c.i.set(p,y)}function Wc(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ba(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function za(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,y1),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function y1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var K_=/[#\/\?@]/g,v1=/[#\?:]/g,_1=/[#\?]/g,w1=/[#\?@]/g,E1=/#/g;function Wa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function os(c){c.g||(c.g=new Map,c.h=0,c.i&&g1(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Wa.prototype,t.add=function(c,p){os(this),this.i=null,c=io(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function G_(c,p){os(c),p=io(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Q_(c,p){return os(c),p=io(c,p),c.g.has(p)}t.forEach=function(c,p){os(this),this.g.forEach(function(y,A){y.forEach(function(M){c.call(p,M,A,this)},this)},this)},t.na=function(){os(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let A=0;A<p.length;A++){const M=c[A];for(let F=0;F<M.length;F++)y.push(p[A])}return y},t.V=function(c){os(this);let p=[];if(typeof c=="string")Q_(this,c)&&(p=p.concat(this.g.get(io(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return os(this),this.i=null,c=io(this,c),Q_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Y_(c,p,y){G_(c,p),0<y.length&&(c.i=null,c.g.set(io(c,p),w(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var A=p[y];const F=encodeURIComponent(String(A)),K=this.V(A);for(A=0;A<K.length;A++){var M=F;K[A]!==""&&(M+="="+encodeURIComponent(String(K[A]))),c.push(M)}}return this.i=c.join("&")};function io(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function x1(c,p){p&&!c.j&&(os(c),c.i=null,c.g.forEach(function(y,A){var M=A.toLowerCase();A!=M&&(G_(this,A),Y_(this,M,y))},c)),c.j=p}function T1(c,p){const y=new Ua;if(a.Image){const A=new Image;A.onload=_(as,y,"TestLoadImage: loaded",!0,p,A),A.onerror=_(as,y,"TestLoadImage: error",!1,p,A),A.onabort=_(as,y,"TestLoadImage: abort",!1,p,A),A.ontimeout=_(as,y,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function S1(c,p){const y=new Ua,A=new AbortController,M=setTimeout(()=>{A.abort(),as(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(M),F.ok?as(y,"TestPingServer: ok",!0,p):as(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),as(y,"TestPingServer: error",!1,p)})}function as(c,p,y,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(y)}catch{}}function I1(){this.g=new a1}function C1(c,p,y){const A=y||"";try{W_(c,function(M,F){let K=M;u(M)&&(K=ro(M)),p.push(A+F+"="+encodeURIComponent(K))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function Hc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Hc,Sh),Hc.prototype.g=function(){return new qc(this.l,this.j)},Hc.prototype.i=function(c){return function(){return c}}({});function qc(c,p){xe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(qc,xe),t=qc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,qa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function X_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ha(this):qa(this),this.readyState==3&&X_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ha(this))},t.Qa=function(c){this.g&&(this.response=c,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function qa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function J_(c){let p="";return L(c,function(y,A){p+=A,p+=":",p+=y,p+=`\r
`}),p}function Oh(c,p,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=J_(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ue(c,p,y))}function Xe(c){xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Xe,xe);var A1=/^https?$/i,R1=["POST","PUT"];t=Xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ah.g(),this.v=this.o?A_(this.o):A_(Ah),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Z_(this,F);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)y.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())y.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(R1,p,void 0))||A||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of y)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nw(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Z_(this,F)}};function Z_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ew(c),Kc(c)}function ew(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ie(this,"complete"),Ie(this,"abort"),Kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kc(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tw(this):this.bb())},t.bb=function(){tw(this)};function tw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)Mc(c.Ea,0,c);else if(Ie(c,"readystatechange"),Sr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var A;if(A=K===0){var M=String(c.D).match(H_)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!A1.test(M?M.toLowerCase():"")}y=A}if(y)Ie(c,"complete"),Ie(c,"success");else{c.m=6;try{var F=2<Sr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ew(c)}}finally{Kc(c)}}}}function Kc(c,p){if(c.g){nw(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ie(c,"ready");try{y.onreadystatechange=A}catch{}}}function nw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),o1(p)}};function rw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function P1(c){const p={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(v(c[A]))continue;var y=D(c[A]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[M]||[];p[M]=F,F.push(y)}C(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function sw(c){this.Aa=0,this.i=[],this.j=new Ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,c),this.cb=Ka("retryDelaySeedMs",1e4,c),this.Wa=Ka("forwardChannelMaxRetries",2,c),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new F_(c&&c.concurrentRequestLimit),this.Da=new I1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sw.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,A){zt(0),this.W=c,this.H=p||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=hw(this,null,this.W),Qc(this)};function Vh(c){if(iw(c),c.G==3){var p=c.U++,y=Tr(c.I);if(Ue(y,"SID",c.K),Ue(y,"RID",p),Ue(y,"TYPE","terminate"),Ga(c,y),p=new is(c,c.j,p),p.L=2,p.v=Wc(Tr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=pw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$c(p)}fw(c)}function Gc(c){c.g&&(Lh(c),c.g.cancel(),c.g=null)}function iw(c){Gc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!U_(c.h)&&!c.s){c.s=!0;var p=c.Ga;se||te(),$||(se(),$=!0),q.add(p,c),c.B=0}}function b1(c,p){return $_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fa(m(c.Ga,c,p),dw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new is(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),b(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=aw(this,M,p),y=Tr(this.I),Ue(y,"RID",c),Ue(y,"CVER",22),this.D&&Ue(y,"X-HTTP-Session-Id",this.D),Ga(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(J_(F)))+"&"+p:this.m&&Oh(y,this.m,F)),Dh(this.h,M),this.Ua&&Ue(y,"TYPE","init"),this.P?(Ue(y,"$req",p),Ue(y,"SID","null"),M.T=!0,Ph(M,y,null)):Ph(M,y,p),this.G=2}}else this.G==3&&(c?ow(this,c):this.i.length==0||U_(this.h)||ow(this))};function ow(c,p){var y;p?y=p.l:y=c.U++;const A=Tr(c.I);Ue(A,"SID",c.K),Ue(A,"RID",y),Ue(A,"AID",c.T),Ga(c,A),c.m&&c.o&&Oh(A,c.m,c.o),y=new is(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=aw(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Dh(c.h,y),Ph(y,A,p)}function Ga(c,p){c.H&&L(c.H,function(y,A){Ue(p,A,y)}),c.l&&W_({},function(y,A){Ue(p,A,y)})}function aw(c,p,y){y=Math.min(c.i.length,y);var A=c.l?m(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const K=["count="+y];F==-1?0<y?(F=M[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let Me=!0;for(let Et=0;Et<y;Et++){let be=M[Et].g;const Nt=M[Et].map;if(be-=F,0>be)F=Math.max(0,M[Et].g-100),Me=!1;else try{C1(Nt,K,"req"+be+"_")}catch{A&&A(Nt)}}if(Me){A=K.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,A}function lw(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;se||te(),$||(se(),$=!0),q.add(p,c),c.v=0}}function Mh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fa(m(c.Fa,c),dw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Gc(this),cw(this))};function Lh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cw(c){c.g=new is(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tr(c.qa);Ue(p,"RID","rpc"),Ue(p,"SID",c.K),Ue(p,"AID",c.T),Ue(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(p,"TO",c.ja),Ue(p,"TYPE","xmlhttp"),Ga(c,p),c.m&&c.o&&Oh(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Wc(Tr(p)),y.m=null,y.P=!0,M_(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),Mh(this),zt(19))};function Yc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uw(c,p){var y=null;if(c.g==p){Yc(c),Lh(c),c.g=null;var A=2}else if(Nh(c.h,p))y=p.D,B_(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;A=jc(),Ie(A,new N_(A,y)),Qc(c)}else lw(c);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&b1(c,p)||A==2&&Mh(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function dw(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function gi(c,p){if(c.j.info("Error code "+p),p==2){var y=m(c.fb,c),A=c.Xa;const M=!A;A=new mi(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bc(A,"https"),Wc(A),M?T1(A.toString(),y):S1(A.toString(),y)}else zt(2);c.G=0,c.l&&c.l.sa(p),fw(c),iw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function fw(c){if(c.G=0,c.ka=[],c.l){const p=z_(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function hw(c,p,y){var A=y instanceof mi?Tr(y):new mi(y);if(A.g!="")p&&(A.g=p+"."+A.g),zc(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new mi(null);A&&Bc(F,A),p&&(F.g=p),M&&zc(F,M),y&&(F.l=y),A=F}return y=c.D,p=c.ya,y&&p&&Ue(A,y,p),Ue(A,"VER",c.la),Ga(c,A),A}function pw(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Xe(new Hc({eb:y})):new Xe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mw(){}t=mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(c,p){return new un(c,p)};function un(c,p){xe.call(this),this.g=new sw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new oo(this)}T(un,xe),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vh(this.g)},un.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=ro(c),c=y);p.i.push(new h1(p.Ya++,c)),p.G==3&&Qc(p)},un.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,un.aa.N.call(this)};function gw(c){Ih.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(gw,Ih);function yw(){Ch.call(this),this.status=1}T(yw,Ch);function oo(c){this.g=c}T(oo,mw),oo.prototype.ua=function(){Ie(this.g,"a")},oo.prototype.ta=function(c){Ie(this.g,new gw(c))},oo.prototype.sa=function(c){Ie(this.g,new yw)},oo.prototype.ra=function(){Ie(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,BC=function(){return new Xc},$C=function(){return jc()},UC=hi,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Ku=Fc,D_.COMPLETE="complete",FC=D_,R_.EventType=La,La.OPEN="a",La.CLOSE="b",La.ERROR="c",La.MESSAGE="d",xe.prototype.listen=xe.prototype.K,hl=R_,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,jC=Xe}).apply(typeof yu<"u"?yu:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",T0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new By("@firebase/firestore");function po(){return ji.logLevel}function J(t,...e){if(ji.logLevel<=we.DEBUG){const n=e.map(Zy);ji.debug(`Firestore (${xa}): ${t}`,...n)}}function Hr(t,...e){if(ji.logLevel<=we.ERROR){const n=e.map(Zy);ji.error(`Firestore (${xa}): ${t}`,...n)}}function ea(t,...e){if(ji.logLevel<=we.WARN){const n=e.map(Zy);ji.warn(`Firestore (${xa}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function De(t,e){t||de()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Cj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Aj{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new zC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Lt(e)}}class Rj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Pj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Rj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bj{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,$n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){De(this.o===void 0);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new S0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new S0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=kj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-62135596800,C0=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C0);return new pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I0)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new pt(0,0))}static max(){return new he(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__name__";class sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=sr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=sr.isNumericId(e),s=sr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?sr.extractNumericId(e).compare(sr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class ze extends sr{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const Nj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends sr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return Nj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new Ct([A0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(ze.fromString(e))}static fromName(e){return new ae(ze.fromString(e).popFirst(5))}static empty(){return new ae(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function Dj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Hs(s,ae.empty(),e)}function Oj(t){return new Hs(t.readTime,t.key,sc)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(he.min(),ae.empty(),sc)}static max(){return new Hs(he.max(),ae.empty(),sc)}}function Vj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Mj)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function jj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Df.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function Of(t){return t==null}function Fd(t){return t===0&&1/t==-1/0}function Fj(t){return typeof t=="number"&&Number.isInteger(t)&&!Fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="";function Uj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R0(e)),e=$j(t.get(n),e);return R0(e)}function $j(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case HC:n+="";break;default:n+=i}}return n}function R0(t){return t+HC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}}class vu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new mn([])}unionWith(e){let n=new mt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KC("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const Bj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(De(!!t),typeof t=="string"){let e=0;const n=Bj.exec(t);if(De(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="server_timestamp",QC="__type__",YC="__previous_value__",XC="__local_write_time__";function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QC])===null||n===void 0?void 0:n.stringValue)===GC}function Vf(t){const e=t.mapValue.fields[YC];return tv(e)?Vf(e):e}function ic(t){const e=qs(t.mapValue.fields[XC].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Ud="(default)";class oc{constructor(e,n){this.projectId=e,this.database=n||Ud}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__type__",Wj="__max__",_u={mapValue:{}},ZC="__vector__",$d="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:qj(t)?9007199254740991:Hj(t)?10:11:de()}function gr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qs(s.timestampValue),a=qs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ks(s.bytesValue).isEqual(Ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Fd(o)===Fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(P0(o)!==P0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return de()}}function ac(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return k0(t.timestampValue,e.timestampValue);case 4:return k0(ic(t),ic(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ks(i),l=Ks(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Te(rt(i.latitude),rt(o.latitude));return a!==0?a:Te(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return N0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const h=i.fields||{},m=o.fields||{},_=(a=h[$d])===null||a===void 0?void 0:a.arrayValue,T=(l=m[$d])===null||l===void 0?void 0:l.arrayValue,w=Te(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:N0(_,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_u.mapValue&&o===_u.mapValue)return 0;if(i===_u.mapValue)return 1;if(o===_u.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=Te(l[h],d[h]);if(m!==0)return m;const _=na(a[l[h]],u[d[h]]);if(_!==0)return _}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw de()}}function k0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=qs(t),r=qs(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function N0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=na(n[s],r[s]);if(i)return i}return Te(n.length,r.length)}function ra(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Jm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Jm(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function Gu(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Gu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Gu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ai(r.fields,(i,o)=>{s+=i.length+Gu(o)}),s}(t.mapValue);default:throw de()}}function D0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zm(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function O0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qu(t){return!!t&&"mapValue"in t}function Hj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JC])===null||n===void 0?void 0:n.stringValue)===ZC}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Wj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ai(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new tn(kl(this.value))}}function eA(t){const e=[];return ai(t.fields,(n,r)=>{const s=new Ct([n]);if(Qu(r)){const i=eA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,he.min(),he.min(),he.min(),tn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ft(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,he.min(),he.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,he.min(),he.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function M0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function L0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{}class ut extends tA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qj(e,n,r):n==="array-contains"?new Jj(e,r):n==="in"?new Zj(e,r):n==="not-in"?new eF(e,r):n==="array-contains-any"?new tF(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yj(e,r):new Xj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends tA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Kn(e,n)}matches(e){return nA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nA(t){return t.op==="and"}function rA(t){return Gj(t)&&nA(t)}function Gj(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function eg(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(rA(t))return t.filters.map(e=>eg(e)).join(",");{const e=t.filters.map(n=>eg(n)).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&gr(r.value,s.value)}(t,e):t instanceof Kn?function(r,s){return s instanceof Kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sA(o,s.filters[a]),!0):!1}(t,e):void de()}function iA(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"}(t):"Filter"}class Qj extends ut{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yj extends ut{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xj extends ut{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class Jj extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&ac(n.arrayValue,this.value)}}class Zj extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class eF extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class tF extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function j0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nF(t,e,n,r,s,i,o)}function rv(t){const e=pe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.le=n}return e.le}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L0(t.startAt,e.startAt)&&L0(t.endAt,e.endAt)}function tg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rF(t,e,n,r,s,i,o,a){return new Ia(t,e,n,r,s,i,o,a)}function iv(t){return new Ia(t)}function F0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return t.collectionGroup!==null}function Nl(t){const e=pe(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new lc(i,r))}),n.has(Ct.keyField().canonicalString())||e.he.push(new lc(Ct.keyField(),r))}return e.he}function hr(t){const e=pe(t);return e.Pe||(e.Pe=sF(e,Nl(t))),e.Pe}function sF(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new lc(s.field,i)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ng(t,e){const n=t.filters.concat([e]);return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return sv(hr(t),hr(e))&&t.limitType===e.limitType}function lA(t){return`${rv(hr(t))}|lt:${t.limitType}`}function mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iA(s)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ra(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Lf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Nl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=M0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Nl(r),s)||r.endAt&&!function(o,a,l){const u=M0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Nl(r),s))}(t,e)}function iF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let r=!1;for(const s of Nl(t)){const i=oF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oF(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?na(l,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Ye(ae.comparator);function qr(){return aF}const uA=new Ye(ae.comparator);function pl(...t){let e=uA;for(const n of t)e=e.insert(n.key,n);return e}function dA(t){let e=uA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Dl()}function fA(){return Dl()}function Dl(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const lF=new Ye(ae.comparator),cF=new mt(ae.comparator);function Ee(...t){let e=cF;for(const n of t)e=e.add(n);return e}const uF=new mt(Te);function dF(){return uF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function hA(t){return{integerValue:""+t}}function fF(t,e){return Fj(e)?hA(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function hF(t,e,n){return t instanceof zd?function(s,i){const o={fields:{[QC]:{stringValue:GC},[XC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&tv(i)&&(i=Vf(i)),i&&(o.fields[YC]=i),{mapValue:o}}(n,e):t instanceof sa?mA(t,e):t instanceof cc?gA(t,e):function(s,i){const o=pA(s,i),a=U0(o)+U0(s.Ie);return Zm(o)&&Zm(s.Ie)?hA(a):ov(s.serializer,a)}(t,e)}function pF(t,e,n){return t instanceof sa?mA(t,e):t instanceof cc?gA(t,e):n}function pA(t,e){return t instanceof Wd?function(r){return Zm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zd extends jf{}class sa extends jf{constructor(e){super(),this.elements=e}}function mA(t,e){const n=yA(e);for(const r of t.elements)n.some(s=>gr(s,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends jf{constructor(e){super(),this.elements=e}}function gA(t,e){let n=yA(e);for(const r of t.elements)n=n.filter(s=>!gr(s,r));return{arrayValue:{values:n}}}class Wd extends jf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function U0(t){return rt(t.integerValue||t.doubleValue)}function yA(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.field=e,this.transform=n}}function gF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sa&&s instanceof sa||r instanceof cc&&s instanceof cc?ta(r.elements,s.elements,gr):r instanceof Wd&&s instanceof Wd?gr(r.Ie,s.Ie):r instanceof zd&&s instanceof zd}(t.transform,e.transform)}class yF{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ff{}function vA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new av(t.key,bn.none()):new Rc(t.key,t.data,bn.none());{const n=t.data,r=tn.empty();let s=new mt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new li(t.key,r,new mn(s.toArray()),bn.none())}}function vF(t,e,n){t instanceof Rc?function(s,i,o){const a=s.value.clone(),l=B0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof li?function(s,i,o){if(!Yu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=B0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_A(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ol(t,e,n,r){return t instanceof Rc?function(i,o,a,l){if(!Yu(i.precondition,o))return a;const u=i.value.clone(),d=z0(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(i,o,a,l){if(!Yu(i.precondition,o))return a;const u=z0(i.fieldTransforms,l,o),d=o.data;return d.setAll(_A(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Yu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _F(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pA(r.transform,s||null);i!=null&&(n===null&&(n=tn.empty()),n.set(r.field,i))}return n||null}function $0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(i,o)=>gF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends Ff{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class li extends Ff{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _A(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B0(t,e,n){const r=new Map;De(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,pF(o,a,n[s]))}return r}function z0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hF(i,o,e))}return r}class av extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wF extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=vA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>$0(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>$0(n,r))}}class lv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){De(e.mutations.length===r.length);let s=function(){return lF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new lv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ce;function SF(t){switch(t){case B.OK:return de();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return de()}}function wA(t){if(t===void 0)return Hr("GRPC error has no .code"),B.UNKNOWN;switch(t){case lt.OK:return B.OK;case lt.CANCELLED:return B.CANCELLED;case lt.UNKNOWN:return B.UNKNOWN;case lt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case lt.INTERNAL:return B.INTERNAL;case lt.UNAVAILABLE:return B.UNAVAILABLE;case lt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case lt.NOT_FOUND:return B.NOT_FOUND;case lt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case lt.ABORTED:return B.ABORTED;case lt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case lt.DATA_LOSS:return B.DATA_LOSS;default:return de()}}(Ce=lt||(lt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new Us([4294967295,4294967295],0);function W0(t){const e=IF().encode(t),n=new LC;return n.update(e),new Uint8Array(n.digest())}function H0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Us([n,r],0),new Us([s,i],0)]}class cv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Us.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Us.fromNumber(r)));return s.compare(CF)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=W0(e),[r,s]=H0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=W0(e),[r,s]=H0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uf(he.min(),s,new Ye(Te),qr(),Ee())}}class Pc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class EA{constructor(e,n){this.targetId=e,this.ge=n}}class xA{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class q0{constructor(){this.pe=0,this.ye=K0(),this.we=kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ee(),n=Ee(),r=Ee();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new Pc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=K0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,De(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class AF{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qr(),this.$e=wu(),this.Ke=wu(),this.Ue=new Ye(Te)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(tg(i))if(r===0){const o=new ae(i.path);this.ze(n,o,Ft.newNoDocument(o,he.min()))}else De(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ks(r).toUint8Array()}catch(l){if(l instanceof KC)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cv(o,s,i)}catch(l){return ea(l instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&tg(a.target)){const l=new ae(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Ft.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=Ee();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Uf(e,n,this.Ue,this.Qe,r);return this.Qe=qr(),this.$e=wu(),this.Ke=wu(),this.Ue=new Ye(Te),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new q0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new mt(Te),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(Te),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new q0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function wu(){return new Ye(ae.comparator)}function K0(){return new Ye(ae.comparator)}const RF={asc:"ASCENDING",desc:"DESCENDING"},PF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bF={and:"AND",or:"OR"};class kF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sg(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NF(t,e){return Hd(t,e.toTimestamp())}function pr(t){return De(!!t),he.fromTimestamp(function(n){const r=qs(n);return new pt(r.seconds,r.nanos)}(t))}function uv(t,e){return ig(t,e).canonicalString()}function ig(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SA(t){const e=ze.fromString(t);return De(PA(e)),e}function og(t,e){return uv(t.databaseId,e.path)}function xp(t,e){const n=SA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(CA(n))}function IA(t,e){return uv(t.databaseId,e)}function DF(t){const e=SA(t);return e.length===4?ze.emptyPath():CA(e)}function ag(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G0(t,e,n){return{name:og(t,e),fields:n.value.mapValue.fields}}function OF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(De(d===void 0||typeof d=="string"),kt.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:wA(u.code);return new Z(d,u.message||"")}(o);n=new xA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xp(t,r.document.name),i=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):he.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Xu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xp(t,r.document),i=r.readTime?pr(r.readTime):he.min(),o=Ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xp(t,r.document),i=r.removedTargetIds||[];n=new Xu([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TF(s,i),a=r.targetId;n=new EA(a,o)}}return n}function VF(t,e){let n;if(e instanceof Rc)n={update:G0(t,e.key,e.value)};else if(e instanceof av)n={delete:og(t,e.key)};else if(e instanceof li)n={update:G0(t,e.key,e.data),updateMask:WF(e.fieldMask)};else{if(!(e instanceof wF))return de();n={verify:og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof zd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:NF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function MF(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?pr(s.updateTime):pr(i);return o.isEqual(he.min())&&(o=pr(i)),new yF(o,s.transformResults||[])}(n,e))):[]}function LF(t,e){return{documents:[IA(t,e.path)]}}function jF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IA(t,s);const i=function(u){if(u.length!==0)return RA(Kn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:go(m.field),direction:$F(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function FF(t){let e=DF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=AA(h);return m instanceof Kn&&rA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(T){return new lc(yo(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Of(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,_=h.values||[];return new Bd(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,_=h.values||[];return new Bd(_,m)}(n.endAt)),rF(e,s,o,i,a,"F",l,u)}function UF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yo(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yo(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(yo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>AA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function $F(t){return RF[t]}function BF(t){return PF[t]}function zF(t){return bF[t]}function go(t){return{fieldPath:t.canonicalString()}}function yo(t){return Ct.fromServerFormat(t.fieldPath)}function RA(t){return t instanceof ut?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:BF(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(s=>RA(s));return r.length===1?r[0]:{compositeFilter:{op:zF(n.op),filters:r}}}(t):de()}function WF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=he.min(),o=he.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.Tt=e}}function qF(t){const e=FF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.Tn=new GF}addToCollectionParentIndex(e,n){return this.Tn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Hs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class GF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(bA,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ia(0)}static Un(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",QF=1048576;function X0([t,e],[n,r]){const s=Te(t,n);return s===0?Te(e,r):s}class YF{constructor(e){this.Hn=e,this.buffer=new mt(X0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){J(Y0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sa(n)?J(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.er(3e5)})}}class JF{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Df.ae);const r=new YF(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Q0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),po()<=we.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function ZF(t,e){return new JF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ol(r.mutation,s,mn.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=Dl(),a=function(){return Dl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof li)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ol(d.mutation,u,d.mutation.getFieldMask(),pt.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new tU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let s=new Ye((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=fA();d.forEach(m=>{if(!i.has(m)){const _=vA(n.get(m),r.get(m));_!==null&&h.set(m,_),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ai());let a=sc,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:dA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,m){return new Ia(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ft.newInvalidDocument(d)))});let a=pl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Ol(d.mutation,u,mn.empty(),pt.now()),Lf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:pr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:qF(s.bundledQuery),readTime:pr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.overlays=new Ye(ae.comparator),this.Rr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ai(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xF(n,r));let i=this.Rr.get(n);i===void 0&&(i=Ee(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Vr=new mt(yt.mr),this.gr=new mt(yt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new yt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ae(new ze([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ae(new ze([])),r=new yt(n,e),s=new yt(n,e+1);let i=Ee();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ae.comparator(e.key,n.key)||Te(e.Cr,n.Cr)}static pr(e,n){return Te(e.Cr,n.Cr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(yt.mr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?ev:this.Fr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Te);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new yt(new ae(i),0);let a=new mt(Te);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)},o),z.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){De(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return z.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new yt(n,0),s=this.Mr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.kr=e,this.docs=function(){return new Ye(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Vj(Oj(d),r)<=0||(s.has(d.key)||Lf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}qr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lU(this)}getSize(e){return z.resolve(this.size)}}class lU extends eU{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.persistence=e,this.Qr=new Ji(n=>rv(n),sv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dv,this.targetCount=0,this.Ur=ia.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.zn(n),z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Df(0),this.zr=!1,this.zr=!0,this.jr=new iU,this.referenceDelegate=e(this),this.Hr=new cU(this),this.indexManager=new KF,this.remoteDocumentCache=function(s){return new aU(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new HF(n),this.Yr=new rU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new oU(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new uU(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class uU extends Lj{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.ti=new dv,this.ni=null}static ri(e){return new fv(e)}get ii(){if(this.ni)return this.ni;throw de()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.ii,r=>{const s=ae.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return z.or([()=>z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class qd{constructor(e,n){this.persistence=e,this.oi=new Ji(r=>Uj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ZF(this,n)}static ri(e,n){return new qd(e,n)}Zr(){}Xr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gu(e.data.value)),n}ar(e,n,r){return z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qV()?8:jj($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new dU;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(po()<=we.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),z.resolve()):(po()<=we.DEBUG&&J("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(po()<=we.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):z.resolve())}rs(e,n){if(F0(n))return z.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rg(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,rg(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,s){return F0(n)||s.isEqual(he.min())?z.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?z.resolve(null):(po()<=we.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mo(n)),this.hs(e,o,n,Dj(s,sc)).next(a=>a))})}cs(e,n){let r=new mt(cA(e));return n.forEach((s,i)=>{Lf(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return po()<=we.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ns.getDocumentsMatchingQuery(e,n,Hs.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LocalStore",hU=3e8;class pU{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Ye(Te),this.Is=new Ji(i=>rv(i),sv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function mU(t,e,n,r){return new pU(t,e,n,r)}async function NA(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function gU(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,m=h.keys();let _=z.resolve();return m.forEach(T=>{_=_.next(()=>d.getEntry(l,T)).next(w=>{const I=u.docVersions.get(T);De(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DA(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function yU(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,h)));let _=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?_=_.withResumeToken(kt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(h,_),function(w,I,E){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=hU?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,_,d)&&a.push(n.Hr.updateTargetData(i,_))});let l=qr(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(vU(i,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(he.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ts=s,i))}function vU(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J(pv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function _U(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wU(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function lg(t,e,n){const r=pe(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Sa(o))throw o;J(pv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function J0(t,e,n){const r=pe(t);let s=he.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=pe(l),m=h.Is.get(d);return m!==void 0?z.resolve(h.Ts.get(m)):h.Hr.getTargetData(u,d)}(r,o,hr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ee())).next(a=>(EU(r,iF(e),a),{documents:a,gs:i})))}function EU(t,e,n){let r=t.Es.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class Z0{constructor(){this.activeTargetIds=dF()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xU{constructor(){this.ho=new Z0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Z0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="ConnectivityMonitor";class tx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){J(ex,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){J(ex,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu=null;function cg(){return Eu===null?Eu=function(){return 268435456+Math.round(2147483648*Math.random())}():Eu++,"0x"+Eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",SU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Ud?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=cg(),a=this.bo(e,n.toUriEncodedString());J(Tp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(u=>(J(Tp,`Received RPC '${e}' ${o}: `,u),u),u=>{throw ea(Tp,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=SU[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class AU extends IU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=cg();return new Promise((o,a)=>{const l=new jC;l.setWithCredentials(!0),l.listenOnce(FC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ku.NO_ERROR:const d=l.getResponseJson();J(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Ku.TIMEOUT:J(Mt,`RPC '${e}' ${i} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const h=l.getStatus();if(J(Mt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const T=function(I){const E=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(_.status);a(new Z(T,_.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{J(Mt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);J(Mt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=cg(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BC(),a=$C(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");J(Mt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let m=!1,_=!1;const T=new CU({Fo:I=>{_?J(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(m||(J(Mt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),J(Mt,`RPC '${e}' stream ${s} sending:`,I),h.send(I))},Mo:()=>h.close()}),w=(I,E,v)=>{I.listen(E,x=>{try{v(x)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,hl.EventType.OPEN,()=>{_||(J(Mt,`RPC '${e}' stream ${s} transport opened.`),T.Qo())}),w(h,hl.EventType.CLOSE,()=>{_||(_=!0,J(Mt,`RPC '${e}' stream ${s} transport closed`),T.Ko())}),w(h,hl.EventType.ERROR,I=>{_||(_=!0,ea(Mt,`RPC '${e}' stream ${s} transport errored:`,I),T.Ko(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),w(h,hl.EventType.MESSAGE,I=>{var E;if(!_){const v=I.data[0];De(!!v);const x=v,k=(x==null?void 0:x.error)||((E=x[0])===null||E===void 0?void 0:E.error);if(k){J(Mt,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let L=function(R){const b=lt[R];if(b!==void 0)return wA(b)}(O),C=k.message;L===void 0&&(L=B.INTERNAL,C="Unknown error status: "+O+" with message "+k.message),_=!0,T.Ko(new Z(L,C)),h.close()}else J(Mt,`RPC '${e}' stream ${s} received:`,v),T.Uo(v)}}),w(a,UC.STAT_EVENT,I=>{I.stat===Xm.PROXY?J(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Xm.NOPROXY&&J(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new kF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="PersistentStream";class VA{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new OA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return J(nx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(J(nx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RU extends VA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=OF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?pr(o.readTime):he.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=ag(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=tg(l)?{documents:LF(i,l)}:{query:jF(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TA(i,o.resumeToken);const u=sg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Hd(i,o.snapshotVersion.toTimestamp());const u=sg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=UF(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=ag(this.serializer),n.removeTarget=e,this.I_(n)}}class PU extends VA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=MF(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=ag(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VF(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{}class kU extends bU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,ig(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,ig(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hr(n),this.N_=!1):J("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="RemoteStore";class DU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(J(Fi,"Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.W_.add(4),await bc(u),u.j_.set("Unknown"),u.W_.delete(4),await Bf(u)}(this))})}),this.j_=new NU(r,s)}}async function Bf(t){if(Zi(t))for(const e of t.G_)await e(!0)}async function bc(t){for(const e of t.G_)await e(!1)}function MA(t,e){const n=pe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),vv(n)?yv(n):Ca(n).c_()&&gv(n,e))}function mv(t,e){const n=pe(t),r=Ca(n);n.U_.delete(e),r.c_()&&LA(n,e),n.U_.size===0&&(r.c_()?r.P_():Zi(n)&&n.j_.set("Unknown"))}function gv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).y_(e)}function LA(t,e){t.H_.Ne(e),Ca(t).w_(e)}function yv(t){t.H_=new AF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.j_.B_()}function vv(t){return Zi(t)&&!Ca(t).u_()&&t.U_.size>0}function Zi(t){return pe(t).W_.size===0}function jA(t){t.H_=void 0}async function OU(t){t.j_.set("Online")}async function VU(t){t.U_.forEach((e,n)=>{gv(t,e)})}async function MU(t,e){jA(t),vv(t)?(t.j_.q_(e),yv(t)):t.j_.set("Unknown")}async function LU(t,e,n){if(t.j_.set("Online"),e instanceof xA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){J(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kd(t,r)}else if(e instanceof Xu?t.H_.We(e):e instanceof EA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(he.min()))try{const r=await DA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.U_.get(u);d&&i.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.U_.get(l);if(!d)return;i.U_.set(l,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),LA(i,l);const h=new Is(d.target,l,u,d.sequenceNumber);gv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(Fi,"Failed to raise snapshot:",r),await Kd(t,r)}}async function Kd(t,e,n){if(!Sa(e))throw e;t.W_.add(1),await bc(t),t.j_.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(Fi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Bf(t)})}function FA(t,e){return e().catch(n=>Kd(t,n,e))}async function zf(t){const e=pe(t),n=Qs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:ev;for(;jU(e);)try{const s=await _U(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,FU(e,s)}catch(s){await Kd(e,s)}UA(e)&&$A(e)}function jU(t){return Zi(t)&&t.K_.length<10}function FU(t,e){t.K_.push(e);const n=Qs(t);n.c_()&&n.S_&&n.b_(e.mutations)}function UA(t){return Zi(t)&&!Qs(t).u_()&&t.K_.length>0}function $A(t){Qs(t).start()}async function UU(t){Qs(t).C_()}async function $U(t){const e=Qs(t);for(const n of t.K_)e.b_(n.mutations)}async function BU(t,e,n){const r=t.K_.shift(),s=lv.from(r,e,n);await FA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zf(t)}async function zU(t,e){e&&Qs(t).S_&&await async function(r,s){if(function(o){return SF(o)&&o!==B.ABORTED}(s.code)){const i=r.K_.shift();Qs(r).h_(),await FA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zf(r)}}(t,e),UA(t)&&$A(t)}async function rx(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),J(Fi,"RemoteStore received new credentials");const r=Zi(n);n.W_.add(3),await bc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Bf(n)}async function WU(t,e){const n=pe(t);e?(n.W_.delete(2),await Bf(n)):e||(n.W_.add(2),await bc(n),n.j_.set("Unknown"))}function Ca(t){return t.J_||(t.J_=function(n,r,s){const i=pe(n);return i.M_(),new RU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:OU.bind(null,t),No:VU.bind(null,t),Lo:MU.bind(null,t),p_:LU.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),vv(t)?yv(t):t.j_.set("Unknown")):(await t.J_.stop(),jA(t))})),t.J_}function Qs(t){return t.Y_||(t.Y_=function(n,r,s){const i=pe(n);return i.M_(),new PU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:UU.bind(null,t),Lo:zU.bind(null,t),D_:$U.bind(null,t),v_:BU.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await zf(t)):(await t.Y_.stop(),t.K_.length>0&&(J(Fi,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new _v(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),Sa(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.Z_=new Ye(ae.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):de():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oa(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qU{constructor(){this.queries=ix(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=ix(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function ix(){return new Ji(t=>lA(t),Mf)}async function BA(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new HU,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=wv(o,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&Ev(n)}async function zA(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KU(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&Ev(n)}function GU(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function Ev(t){t.ia.forEach(e=>{e.next()})}var ug,ox;(ox=ug||(ug={}))._a="default",ox.Cache="cache";class WA{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class QU{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ee(),this.mutatedKeys=Ee(),this.ya=cA(e),this.wa=new Uo(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new sx,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),_=Lf(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;m&&_?m.data.isEqual(_.data)?T!==w&&(r.track({type:3,doc:_}),I=!0):this.va(m,_)||(r.track({type:2,doc:_}),I=!0,(l&&this.ya(_,l)>0||u&&this.ya(_,u)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),I=!0):m&&!_&&(r.track({type:1,doc:m}),I=!0,(l||u)&&(a=!0)),I&&(_?(o=o.add(_),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(_,T){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return w(_)-w(T)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new oa(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new sx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ee(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new qA(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new HA(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ee();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return oa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xv="SyncEngine";class YU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XU{constructor(e){this.key=e,this.Ba=!1}}class JU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ji(a=>lA(a),Mf),this.qa=new Map,this.Qa=new Set,this.$a=new Ye(ae.comparator),this.Ka=new Map,this.Ua=new dv,this.Wa={},this.Ga=new Map,this.za=ia.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZU(t,e,n=!0){const r=JA(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await KA(r,e,n,!0),s}async function e4(t,e){const n=JA(t);await KA(n,e,!0,!1)}async function KA(t,e,n,r){const s=await wU(t.localStore,hr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await t4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MA(t.remoteStore,s),a}async function t4(t,e,n,r,s){t.Ha=(h,m,_)=>async function(w,I,E,v){let x=I.view.ba(E);x.ls&&(x=await J0(w.localStore,I.query,!1).then(({documents:C})=>I.view.ba(C,x)));const k=v&&v.targetChanges.get(I.targetId),O=v&&v.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(x,w.isPrimaryClient,k,O);return lx(w,I.targetId,L.Ma),L.snapshot}(t,h,m,_);const i=await J0(t.localStore,e,!0),o=new QU(e,i.gs),a=o.ba(i.documents),l=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);lx(t,n,u.Ma);const d=new YU(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function n4(t,e,n){const r=pe(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Mf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mv(r.remoteStore,s.targetId),dg(r,s.targetId)}).catch(Ta)):(dg(r,s.targetId),await lg(r.localStore,s.targetId,!0))}async function r4(t,e){const n=pe(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function s4(t,e,n){const r=d4(t);try{const s=await function(o,a){const l=pe(o),u=pt.now(),d=a.reduce((_,T)=>_.add(T.key),Ee());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=qr(),w=Ee();return l.ds.getEntries(_,d).next(I=>{T=I,T.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,T)).next(I=>{h=I;const E=[];for(const v of a){const x=_F(v,h.get(v.key).overlayedDocument);x!=null&&E.push(new li(v.key,x,eA(x.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,E,a)}).next(I=>{m=I;const E=I.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(_,I.batchId,E)})}).then(()=>({batchId:m.batchId,changes:dA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ye(Te)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await kc(r,s.changes),await zf(r.remoteStore)}catch(s){const i=wv(s,"Failed to persist write");n.reject(i)}}async function GA(t,e){const n=pe(t);try{const r=await yU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?De(o.Ba):s.removedDocuments.size>0&&(De(o.Ba),o.Ba=!1))}),await kc(n,r,e)}catch(r){await Ta(r)}}function ax(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.ta)m.sa(a)&&(u=!0)}),u&&Ev(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i4(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Ye(ae.comparator);o=o.insert(i,Ft.newNoDocument(i,he.min()));const a=Ee().add(i),l=new Uf(he.min(),new Map,new Ye(Te),o,a);await GA(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),Tv(r)}else await lg(r.localStore,e,!1).then(()=>dg(r,e,n)).catch(Ta)}async function o4(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await gU(n.localStore,e);YA(n,r,null),QA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kc(n,s)}catch(s){await Ta(s)}}async function a4(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(De(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);YA(r,e,n),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kc(r,s)}catch(s){await Ta(s)}}function QA(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function YA(t,e,n){const r=pe(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||XA(t,r)})}function XA(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(mv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Tv(t))}function lx(t,e,n){for(const r of n)r instanceof HA?(t.Ua.addReference(r.key,e),l4(t,r)):r instanceof qA?(J(xv,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||XA(t,r.key)):de()}function l4(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(J(xv,"New document in limbo: "+n),t.Qa.add(r),Tv(t))}function Tv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ae(ze.fromString(e)),r=t.za.next();t.Ka.set(r,new XU(n)),t.$a=t.$a.insert(n,r),MA(t.remoteStore,new Is(hr(iv(n.path)),r,"TargetPurposeLimboResolution",Df.ae))}}async function kc(t,e,n){const r=pe(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=hv.Yi(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,u){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,m=>z.forEach(m.Hi,_=>d.persistence.referenceDelegate.addReference(h,m.targetId,_)).next(()=>z.forEach(m.Ji,_=>d.persistence.referenceDelegate.removeReference(h,m.targetId,_)))))}catch(h){if(!Sa(h))throw h;J(pv,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const _=d.Ts.get(m),T=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(T);d.Ts=d.Ts.insert(m,w)}}}(r.localStore,i))}async function c4(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){J(xv,"User change. New user:",e.toKey());const r=await NA(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kc(n,r.Rs)}}function u4(t,e){const n=pe(t),r=n.Ka.get(e);if(r&&r.Ba)return Ee().add(r.key);{let s=Ee();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function JA(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.La.p_=KU.bind(null,e.eventManager),e.La.Ja=GU.bind(null,e.eventManager),e}function d4(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a4.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return mU(this.persistence,new fU,e.initialUser,this.serializer)}Xa(e){return new kA(fv.ri,this.serializer)}Za(e){return new xU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class f4 extends Gd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){De(this.persistence.referenceDelegate instanceof qd);const r=this.persistence.referenceDelegate.garbageCollector;return new XF(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new kA(r=>qd.ri(r,n),this.serializer)}}class fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ax(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c4.bind(null,this.syncEngine),await WU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qU}()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=function(i){return new AU(i)}(e.databaseInfo);return function(i,o,a,l){return new kU(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new DU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ax(this.syncEngine,n,0),function(){return tx.D()?new tx:new TU}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new JU(s,i,o,a,l,u);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);J(Fi,"RemoteStore shutting down."),i.W_.add(5),await bc(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fg.provider={build:()=>new fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class h4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=WC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J(Ys,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J(Ys,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),J(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await NA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p4(t);J(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rx(e.remoteStore,s)),t._onlineComponents=e}async function p4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Ys,"Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new Gd)}}else J(Ys,"Using default OfflineComponentProvider"),await Ip(t,new f4(void 0));return t._offlineComponents}async function eR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Ys,"Using user provided OnlineComponentProvider"),await cx(t,t._uninitializedComponentsProvider._online)):(J(Ys,"Using default OnlineComponentProvider"),await cx(t,new fg))),t._onlineComponents}function m4(t){return eR(t).then(e=>e.syncEngine)}async function tR(t){const e=await eR(t),n=e.eventManager;return n.onListen=ZU.bind(null,e.syncEngine),n.onUnlisten=n4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),n}function g4(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new ZA({next:m=>{d.su(),o.enqueueAndForget(()=>zA(i,h));const _=m.docs.has(a);!_&&m.fromCache?u.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&l&&l.source==="server"?u.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new WA(iv(a.path),d,{includeMetadataChanges:!0,Ta:!0});return BA(i,h)}(await tR(t),t.asyncQueue,e,n,r)),r.promise}function y4(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new ZA({next:m=>{d.su(),o.enqueueAndForget(()=>zA(i,h)),m.fromCache&&l.source==="server"?u.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new WA(a,d,{includeMetadataChanges:!0,Ta:!0});return BA(i,h)}(await tR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v4(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dx(t){if(!ae.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fx(t){if(ae.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firestore.googleapis.com",hx=!0;class px{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sR,this.ssl=hx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QF)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new px({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new px(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ij;switch(r.type){case"firstParty":return new Pj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ux.get(n);r&&(J("ComponentProvider","Removing Datastore"),ux.delete(n),r.terminate())}(this),Promise.resolve()}}function _4(t,e,n,r={}){var s;const i=(t=Gn(t,Hf))._getSettings(),o=`${e}:${n}`;if(i.host!==sR&&i.host!==o&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=FV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(u)}t._authCredentials=new Cj(new zC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class $s extends eo{constructor(e,n,r){super(e,n,iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ae(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Ui(t,e,...n){if(t=bt(t),rR("collection","path",e),t instanceof Hf){const r=ze.fromString(e,...n);return fx(r),new $s(t,null,r)}{if(!(t instanceof Kt||t instanceof $s))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return fx(r),new $s(t.firestore,null,r)}}function ts(t,e,...n){if(t=bt(t),arguments.length===1&&(e=WC.newId()),rR("doc","path",e),t instanceof Hf){const r=ze.fromString(e,...n);return dx(r),new Kt(t,null,new ae(r))}{if(!(t instanceof Kt||t instanceof $s))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return dx(r),new Kt(t.firestore,t instanceof $s?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="AsyncQueue";class gx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new OA(this,"async_queue_retry"),this.Su=()=>{const r=Sp();r&&J(mx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Sa(e))throw e;J(mx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=_v.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&de()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class to extends Hf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gx(e),this._firestoreClient=void 0,await e}}}function w4(t,e){const n=typeof t=="object"?t:eC(),r=typeof t=="string"?t:Ud,s=Wy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LV("firestore");i&&_4(s,...i)}return s}function Sv(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E4(t),t._firestoreClient}function E4(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new zj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new h4(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(kt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=/^__.*__$/;class T4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class iR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Gf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(oR(this.Lu)&&x4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class S4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}ju(e,n,r,s=!1){return new Gf({Lu:e,methodName:n,zu:r,path:Ct.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new S4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aR(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);Rv("Data must be an object, but it was:",o,r);const a=lR(r,o);let l,u;if(i.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=hg(e,h,n);if(!o.contains(m))throw new Z(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);uR(d,m)||d.push(m)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new T4(new tn(a),l,u)}class Yf extends Kf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}function I4(t,e,n){return new Gf({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Av extends Kf{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=I4(this,e,!0),r=this.Hu.map(i=>Aa(i,n)),s=new sa(r);return new mF(e.path,s)}isEqual(e){return e instanceof Av&&ec(this.Hu,e.Hu)}}function C4(t,e,n,r){const s=t.ju(1,e,n);Rv("Data must be an object, but it was:",s,r);const i=[],o=tn.empty();ai(r,(l,u)=>{const d=Pv(e,l,n);u=bt(u);const h=s.Ku(d);if(u instanceof Yf)i.push(d);else{const m=Aa(u,h);m!=null&&(i.push(d),o.set(d,m))}});const a=new mn(i);return new iR(o,a,s.fieldTransforms)}function A4(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[hg(e,r,n)],l=[s];if(i.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(hg(e,i[m])),l.push(i[m+1]);const u=[],d=tn.empty();for(let m=a.length-1;m>=0;--m)if(!uR(u,a[m])){const _=a[m];let T=l[m];T=bt(T);const w=o.Ku(_);if(T instanceof Yf)u.push(_);else{const I=Aa(T,w);I!=null&&(u.push(_),d.set(_,I))}}const h=new mn(u);return new iR(d,h,o.fieldTransforms)}function R4(t,e,n,r=!1){return Aa(n,t.ju(r?4:3,e))}function Aa(t,e){if(cR(t=bt(t)))return Rv("Unsupported field value:",e,t),lR(t,e);if(t instanceof Kf)return function(r,s){if(!oR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Aa(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pt.fromDate(r);return{timestampValue:Hd(s.serializer,i)}}if(r instanceof pt){const i=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(s.serializer,i)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:TA(s.serializer,r._byteString)};if(r instanceof Kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cv)return function(o,a){return{mapValue:{fields:{[JC]:{stringValue:ZC},[$d]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return ov(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Wf(r)}`)}(t,e)}function lR(t,e){const n={};return qC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,(r,s)=>{const i=Aa(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function cR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Iv||t instanceof aa||t instanceof Kt||t instanceof Kf||t instanceof Cv)}function Rv(t,e,n){if(!cR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Wf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function hg(t,e,n){if((e=bt(e))instanceof qf)return e._internalPath;if(typeof e=="string")return Pv(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const P4=new RegExp("[~\\*/\\[\\]]");function Pv(t,e,n){if(e.search(P4)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qf(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function uR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b4 extends dR{data(){return super.data()}}function Xf(t,e){return typeof e=="string"?Pv(t,e):e instanceof qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class fR extends bv{}function uc(t,e,...n){let r=[];e instanceof bv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof kv).length,a=i.filter(l=>l instanceof Jf).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jf extends fR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=this._parse(e);return pR(e._query,n),new eo(e.firestore,e.converter,ng(e._query,n))}_parse(e){const n=Qf(e.firestore);return function(i,o,a,l,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vx(h,d);const T=[];for(const w of h)T.push(yx(l,i,w));m={arrayValue:{values:T}}}else m=yx(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vx(h,d),m=R4(a,o,h,d==="in"||d==="not-in");return ut.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fn(t,e,n){const r=e,s=Xf("where",t);return Jf._create(s,r,n)}class kv extends bv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)pR(o,l),o=ng(o,l)}(e._query,n),new eo(e.firestore,e.converter,ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nv extends fR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(i,o)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ia(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hR(t,e="asc"){const n=e,r=Xf("orderBy",t);return Nv._create(r,n)}function yx(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!ae.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D0(t,new ae(r))}if(n instanceof Kt)return D0(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function vx(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N4{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ai(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[$d].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>rt(o.doubleValue));return new Cv(i)}convertGeoPoint(e){return new Iv(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=qs(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(PA(r));const s=new oc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Hr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gR extends dR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ju extends gR{data(e={}){return super.data(e)}}class D4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ju(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ju(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ju(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:O4(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){t=Gn(t,Kt);const e=Gn(t.firestore,to);return g4(Sv(e),t._key).then(n=>M4(e,t,n))}class yR extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function la(t){t=Gn(t,eo);const e=Gn(t.firestore,to),n=Sv(e),r=new yR(e);return k4(t._query),y4(n,t._query).then(s=>new D4(e,r,t,s))}function vR(t,e,n){t=Gn(t,Kt);const r=Gn(t.firestore,to),s=mR(t.converter,e);return eh(r,[aR(Qf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function Dv(t,e,n,...r){t=Gn(t,Kt);const s=Gn(t.firestore,to),i=Qf(s);let o;return o=typeof(e=bt(e))=="string"||e instanceof qf?A4(i,"updateDoc",t._key,e,n,r):C4(i,"updateDoc",t._key,e),eh(s,[o.toMutation(t._key,bn.exists(!0))])}function _R(t){return eh(Gn(t.firestore,to),[new av(t._key,bn.none())])}function V4(t,e){const n=Gn(t.firestore,to),r=ts(t),s=mR(t.converter,e);return eh(n,[aR(Qf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function eh(t,e){return function(r,s){const i=new Mr;return r.asyncQueue.enqueueAndForget(async()=>s4(await m4(r),s,i)),i.promise}(Sv(t),e)}function M4(t,e,n){const r=n.docs.get(e._key),s=new yR(t);return new gR(t,s,e._key,r,new gl(n.hasPendingWrites,n.fromCache),e.converter)}function L4(...t){return new Av("arrayUnion",t)}(function(e,n=!0){(function(s){xa=s})(_a),Jo(new Mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new to(new Aj(r.getProvider("auth-internal")),new bj(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),js(x0,T0,e),js(x0,T0,"esm2017")})();const j4={apiKey:"AIzaSyB7J-OZhbQB3oY9a5YfSeOfZreWr6-LuKQ",authDomain:"furniture-calculator-7e3a1.firebaseapp.com",projectId:"furniture-calculator-7e3a1",storageBucket:"furniture-calculator-7e3a1.firebasestorage.app",messagingSenderId:"654882282810",appId:"1:654882282810:web:ba3ee7fc9dd191a1bec403",measurementId:"G-KTZ9YWPXB5"},wR=ZI(j4),Gt=w4(wR),ER=Tj(wR);new Pr;function xR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function TR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xR(t))&&(r&&(r+=" "),r+=e);return r}const Ov="-",F4=t=>{const e=$4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ov);return a[0]===""&&a.length!==1&&a.shift(),SR(a,e)||U4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},SR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?SR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ov);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},_x=/^\[(.+)\]$/,U4=t=>{if(_x.test(t)){const e=_x.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return z4(Object.entries(t.classGroups),n).forEach(([i,o])=>{pg(o,r,i,e)}),r},pg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(B4(s)){pg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{pg(o,wx(e,i),n,r)})})},wx=(t,e)=>{let n=t;return e.split(Ov).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},B4=t=>t.isThemeGetter,z4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,W4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},IR="!",H4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let I=0;I<a.length;I++){let E=a[I];if(u===0){if(E===s&&(r||a.slice(I,I+i)===e)){l.push(a.slice(d,I)),d=I+i;continue}if(E==="/"){h=I;continue}}E==="["?u++:E==="]"&&u--}const m=l.length===0?a:a.substring(d),_=m.startsWith(IR),T=_?m.substring(1):m,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},q4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},K4=t=>({cache:W4(t.cacheSize),parseClassName:H4(t),...F4(t)}),G4=/\s+/,Q4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(G4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:_}=n(u);let T=!!_,w=r(T?m.substring(0,_):m);if(!w){if(!T){a=u+(a.length>0?" "+a:a);continue}if(w=r(m),!w){a=u+(a.length>0?" "+a:a);continue}T=!1}const I=q4(d).join(":"),E=h?I+IR:I,v=E+w;if(i.includes(v))continue;i.push(v);const x=s(w,T);for(let k=0;k<x.length;++k){const O=x[k];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function Y4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CR(e))&&(r&&(r+=" "),r+=n);return r}const CR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CR(t[r]))&&(n&&(n+=" "),n+=e);return n};function X4(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=K4(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Q4(l,n);return s(l,d),d}return function(){return i(Y4.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AR=/^\[(?:([a-z-]+):)?(.+)\]$/i,J4=/^\d+\/\d+$/,Z4=new Set(["px","full","screen"]),e$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>$o(t)||Z4.has(t)||J4.test(t),us=t=>Ra(t,"length",f$),$o=t=>!!t&&!Number.isNaN(Number(t)),Cp=t=>Ra(t,"number",$o),il=t=>!!t&&Number.isInteger(Number(t)),i$=t=>t.endsWith("%")&&$o(t.slice(0,-1)),ge=t=>AR.test(t),ds=t=>e$.test(t),o$=new Set(["length","size","percentage"]),a$=t=>Ra(t,o$,RR),l$=t=>Ra(t,"position",RR),c$=new Set(["image","url"]),u$=t=>Ra(t,c$,p$),d$=t=>Ra(t,"",h$),ol=()=>!0,Ra=(t,e,n)=>{const r=AR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},f$=t=>t$.test(t)&&!n$.test(t),RR=()=>!1,h$=t=>r$.test(t),p$=t=>s$.test(t),m$=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),u=$e("grayscale"),d=$e("hueRotate"),h=$e("invert"),m=$e("gap"),_=$e("gradientColorStops"),T=$e("gradientColorStopPositions"),w=$e("inset"),I=$e("margin"),E=$e("opacity"),v=$e("padding"),x=$e("saturate"),k=$e("scale"),O=$e("sepia"),L=$e("skew"),C=$e("space"),S=$e("translate"),R=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ge,e],N=()=>[ge,e],P=()=>["",Cr,us],X=()=>["auto",$o,ge],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",ge],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[$o,ge];return{cacheSize:500,separator:":",theme:{colors:[ol],spacing:[Cr,us],blur:["none","",ds,ge],brightness:fe(),borderColor:[t],borderRadius:["none","","full",ds,ge],borderSpacing:N(),borderWidth:P(),contrast:fe(),grayscale:q(),hueRotate:fe(),invert:q(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[i$,us],inset:D(),margin:D(),opacity:fe(),padding:N(),saturate:fe(),scale:fe(),sepia:q(),skew:fe(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ge]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,ge]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",il,ge]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",il,ge]},ge]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[il,ge]},ge]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[ds]},ds]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ds,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cp]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",$o,Cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,us]}],"underline-offset":[{"underline-offset":["auto",Cr,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),l$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Cr,ge]}],"outline-w":[{outline:[Cr,us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Cr,us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ds,d$]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ds,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[il,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,us,Cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},g$=X4(m$);function oe(...t){return g$(TR(t))}async function vr(t){try{const e=ts(Gt,"features",t),r=(await Zf(e)).data();if(r)return r.data}catch(e){console.log(e)}}function mg(t,e){const n=e==="Местный"?"UZS":"USD",r=e==="Местный"?0:2;return new Intl.NumberFormat("en-US",{style:"currency",currency:n,minimumFractionDigits:r}).format(t)}async function y$(){try{return(await(await fetch("https://v6.exchangerate-api.com/v6/40a0d00e41ff37fb9e17b47f/latest/USD")).json()).conversion_rates.UZS}catch(t){console.log(t)}}function v$(t,e,n,r,s,i){const o=(t+e)/2*(1-Number(n)/100),a=s==="Местный"?o:o/1.12/i,u=Number(r)*a*(1-Number(n)/100),d=mg(a,s),h=mg(u,s);return{formattedEndPrice:d,formattedTotalPriceWithDiscount:h}}var _$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=_$.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ws:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function w$(t,e){t&&ma.flushSync(()=>t.dispatchEvent(e))}var E$="Label",PR=g.forwardRef((t,e)=>f.jsx(ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PR.displayName=E$;var bR=PR;const Ex=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xx=TR,kR=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=Ex(d)||Ex(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,..._}=d;return Object.entries(_).every(T=>{let[w,I]=T;return Array.isArray(I)?I.includes({...i,...a}[w]):{...i,...a}[w]===I})?[...u,h,m]:u},[]);return xx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},x$=kR("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dc=g.forwardRef(({className:t,...e},n)=>f.jsx(bR,{ref:n,className:oe(x$(),t),...e}));dc.displayName=bR.displayName;const Vv=uV,NR=g.createContext({}),_n=({...t})=>f.jsx(NR.Provider,{value:{name:t.name},children:f.jsx(pV,{...t})}),th=()=>{const t=g.useContext(NR),e=g.useContext(DR),{getFieldState:n,formState:r}=Af(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},DR=g.createContext({}),an=g.forwardRef(({className:t,...e},n)=>{const r=g.useId();return f.jsx(DR.Provider,{value:{id:r},children:f.jsx("div",{ref:n,className:oe("space-y-2",t),...e})})});an.displayName="FormItem";const Pa=g.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=th();return f.jsx(dc,{ref:n,className:oe(r&&"text-destructive",t),htmlFor:s,...e})});Pa.displayName="FormLabel";const qe=g.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=th();return f.jsx(Ws,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});qe.displayName="FormControl";const T$=g.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=th();return f.jsx("p",{ref:n,id:r,className:oe("text-sm text-muted-foreground",t),...e})});T$.displayName="FormDescription";const S$=g.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=th(),o=s?String(s==null?void 0:s.message):e;return o?f.jsx("p",{ref:r,id:i,className:oe("text-sm font-medium text-destructive",t),...n,children:o}):null});S$.displayName="FormMessage";const $i=g.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));$i.displayName="Input";const Mv=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mv.displayName="Card";const OR=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));OR.displayName="CardHeader";const VR=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));VR.displayName="CardTitle";const MR=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));MR.displayName="CardDescription";const LR=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));LR.displayName="CardContent";const I$=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));I$.displayName="CardFooter";const nh=kR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),At=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Ws:"button";return f.jsx(o,{className:oe(nh({variant:e,size:n,className:t})),ref:i,...s})});At.displayName="Button";var jR={exports:{}},FR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=g;function C$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var A$=typeof Object.is=="function"?Object.is:C$,R$=Nc.useSyncExternalStore,P$=Nc.useRef,b$=Nc.useEffect,k$=Nc.useMemo,N$=Nc.useDebugValue;FR.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=P$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=k$(function(){function l(_){if(!u){if(u=!0,d=_,_=r(_),s!==void 0&&o.hasValue){var T=o.value;if(s(T,_))return h=T}return h=_}if(T=h,A$(d,_))return T;var w=r(_);return s!==void 0&&s(T,w)?(d=_,T):(d=_,h=w)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,s]);var a=R$(t,i[0],i[1]);return b$(function(){o.hasValue=!0,o.value=a},[a]),N$(a),a};jR.exports=FR;var D$=jR.exports;function O$(t){t()}function V$(){let t=null,e=null;return{clear(){t=null,e=null},notify(){O$(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Tx={notify(){},get:()=>[]};function M$(t,e){let n,r=Tx,s=0,i=!1;function o(w){d();const I=r.subscribe(w);let E=!1;return()=>{E||(E=!0,I(),h())}}function a(){r.notify()}function l(){T.onStateChange&&T.onStateChange()}function u(){return i}function d(){s++,n||(n=t.subscribe(l),r=V$())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Tx)}function m(){i||(i=!0,d())}function _(){i&&(i=!1,h())}const T={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:_,getListeners:()=>r};return T}var L$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j$=L$(),F$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",U$=F$(),$$=()=>j$||U$?g.useLayoutEffect:g.useEffect,B$=$$(),Ap=Symbol.for("react-redux-context"),Rp=typeof globalThis<"u"?globalThis:{};function z$(){if(!g.createContext)return{};const t=Rp[Ap]??(Rp[Ap]=new Map);let e=t.get(g.createContext);return e||(e=g.createContext(null),t.set(g.createContext,e)),e}var Xs=z$();function W$(t){const{children:e,context:n,serverState:r,store:s}=t,i=g.useMemo(()=>{const l=M$(s);return{store:s,subscription:l,getServerState:r?()=>r:void 0}},[s,r]),o=g.useMemo(()=>s.getState(),[s]);B$(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const a=n||Xs;return g.createElement(a.Provider,{value:i},e)}var H$=W$;function Lv(t=Xs){return function(){return g.useContext(t)}}var UR=Lv();function $R(t=Xs){const e=t===Xs?UR:Lv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var q$=$R();function K$(t=Xs){const e=t===Xs?q$:$R(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ba=K$(),G$=(t,e)=>t===e;function Q$(t=Xs){const e=t===Xs?UR:Lv(t),n=(r,s={})=>{const{equalityFn:i=G$}=typeof s=="function"?{equalityFn:s}:s,o=e(),{store:a,subscription:l,getServerState:u}=o;g.useRef(!0);const d=g.useCallback({[r.name](m){return r(m)}}[r.name],[r]),h=D$.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,d,i);return g.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var ln=Q$();const Y$=()=>{const{isLoading:t}=ln(e=>e.form);return f.jsxs(At,{variant:"outline",className:"flex-1 md:text-xl font-semibold text-slate-800 space-x-1",size:"lg",type:"submit",disabled:t,children:[f.jsx("img",{src:"/plus.svg",alt:"icon",width:18,height:18}),f.jsx("span",{children:t?"Загрузка...":"Добавить"})]})},X$=()=>f.jsxs(At,{variant:"outline",className:"flex-1 md:text-xl font-semibold text-slate-800 space-x-1",size:"lg",children:[f.jsx("img",{src:"/print.svg",alt:"icon",width:20,height:20}),f.jsx("span",{children:"Печать"})]}),J$=()=>f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx(X$,{}),f.jsx(Y$,{})]});function Tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Z$=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sx=Z$,Pp=()=>Math.random().toString(36).substring(7).split("").join("."),eB={INIT:`@@redux/INIT${Pp()}`,REPLACE:`@@redux/REPLACE${Pp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pp()}`},Yd=eB;function jv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function BR(t,e,n){if(typeof t!="function")throw new Error(Tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(BR)(t,e)}let r=t,s=e,i=new Map,o=i,a=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((I,E)=>{o.set(E,I)}))}function d(){if(l)throw new Error(Tt(3));return s}function h(I){if(typeof I!="function")throw new Error(Tt(4));if(l)throw new Error(Tt(5));let E=!0;u();const v=a++;return o.set(v,I),function(){if(E){if(l)throw new Error(Tt(6));E=!1,u(),o.delete(v),i=null}}}function m(I){if(!jv(I))throw new Error(Tt(7));if(typeof I.type>"u")throw new Error(Tt(8));if(typeof I.type!="string")throw new Error(Tt(17));if(l)throw new Error(Tt(9));try{l=!0,s=r(s,I)}finally{l=!1}return(i=o).forEach(v=>{v()}),I}function _(I){if(typeof I!="function")throw new Error(Tt(10));r=I,m({type:Yd.REPLACE})}function T(){const I=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Tt(11));function v(){const k=E;k.next&&k.next(d())}return v(),{unsubscribe:I(v)}},[Sx](){return this}}}return m({type:Yd.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:_,[Sx]:T}}function tB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Yd.INIT})>"u")throw new Error(Tt(12));if(typeof n(void 0,{type:Yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function nB(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let s;try{tB(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],_=o[h],T=m(_,a);if(typeof T>"u")throw a&&a.type,new Error(Tt(14));u[h]=T,l=l||T!==_}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Xd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function rB(...t){return e=>(n,r)=>{const s=e(n,r);let i=()=>{throw new Error(Tt(15))};const o={getState:s.getState,dispatch:(l,...u)=>i(l,...u)},a=t.map(l=>l(o));return i=Xd(...a)(s.dispatch),{...s,dispatch:i}}}function sB(t){return jv(t)&&"type"in t&&typeof t.type=="string"}var zR=Symbol.for("immer-nothing"),Ix=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Bn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ca=Object.getPrototypeOf;function Bi(t){return!!t&&!!t[wn]}function Kr(t){var e;return t?WR(t)||Array.isArray(t)||!!t[Ix]||!!((e=t.constructor)!=null&&e[Ix])||sh(t)||ih(t):!1}var iB=Object.prototype.constructor.toString();function WR(t){if(!t||typeof t!="object")return!1;const e=ca(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===iB}function Jd(t,e){rh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function rh(t){const e=t[wn];return e?e.type_:Array.isArray(t)?1:sh(t)?2:ih(t)?3:0}function gg(t,e){return rh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function HR(t,e,n){const r=rh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function oB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sh(t){return t instanceof Map}function ih(t){return t instanceof Set}function wi(t){return t.copy_||t.base_}function yg(t,e){if(sh(t))return new Map(t);if(ih(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=WR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[wn];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(ca(t),r)}else{const r=ca(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Fv(t,e=!1){return oh(t)||Bi(t)||!Kr(t)||(rh(t)>1&&(t.set=t.add=t.clear=t.delete=aB),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Fv(r,!0))),t}function aB(){Bn(2)}function oh(t){return Object.isFrozen(t)}var lB={};function zi(t){const e=lB[t];return e||Bn(0,t),e}var fc;function qR(){return fc}function cB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Cx(t,e){e&&(zi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vg(t){_g(t),t.drafts_.forEach(uB),t.drafts_=null}function _g(t){t===fc&&(fc=t.parent_)}function Ax(t){return fc=cB(fc,t)}function uB(t){const e=t[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Rx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[wn].modified_&&(vg(e),Bn(4)),Kr(t)&&(t=Zd(e,t),e.parent_||ef(e,t)),e.patches_&&zi("Patches").generateReplacementPatches_(n[wn].base_,t,e.patches_,e.inversePatches_)):t=Zd(e,n,[]),vg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==zR?t:void 0}function Zd(t,e,n){if(oh(e))return e;const r=e[wn];if(!r)return Jd(e,(s,i)=>Px(t,r,e,s,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ef(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),Jd(i,(a,l)=>Px(t,r,s,a,l,n,o)),ef(t,s,!1),n&&t.patches_&&zi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Px(t,e,n,r,s,i,o){if(Bi(s)){const a=i&&e&&e.type_!==3&&!gg(e.assigned_,r)?i.concat(r):void 0,l=Zd(t,s,a);if(HR(n,r,l),Bi(l))t.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Kr(s)&&!oh(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zd(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ef(t,s)}}function ef(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Fv(e,n)}function dB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:qR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Uv;n&&(s=[r],i=hc);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var Uv={get(t,e){if(e===wn)return t;const n=wi(t);if(!gg(n,e))return fB(t,n,e);const r=n[e];return t.finalized_||!Kr(r)?r:r===bp(t.base_,e)?(kp(t),t.copy_[e]=Eg(r,t)):r},has(t,e){return e in wi(t)},ownKeys(t){return Reflect.ownKeys(wi(t))},set(t,e,n){const r=KR(wi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=bp(wi(t),e),i=s==null?void 0:s[wn];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(oB(n,s)&&(n!==void 0||gg(t.base_,e)))return!0;kp(t),wg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kp(t),wg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=wi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Bn(11)},getPrototypeOf(t){return ca(t.base_)},setPrototypeOf(){Bn(12)}},hc={};Jd(Uv,(t,e)=>{hc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hc.deleteProperty=function(t,e){return hc.set.call(this,t,e,void 0)};hc.set=function(t,e,n){return Uv.set.call(this,t[0],e,n,t[0])};function bp(t,e){const n=t[wn];return(n?wi(n):t)[e]}function fB(t,e,n){var s;const r=KR(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function KR(t,e){if(!(e in t))return;let n=ca(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ca(n)}}function wg(t){t.modified_||(t.modified_=!0,t.parent_&&wg(t.parent_))}function kp(t){t.copy_||(t.copy_=yg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var hB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const o=this;return function(l=i,...u){return o.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Bn(6),r!==void 0&&typeof r!="function"&&Bn(7);let s;if(Kr(e)){const i=Ax(this),o=Eg(e,void 0);let a=!0;try{s=n(o),a=!1}finally{a?vg(i):_g(i)}return Cx(i,r),Rx(s,i)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===zR&&(s=void 0),this.autoFreeze_&&Fv(s,!0),r){const i=[],o=[];zi("Patches").generateReplacementPatches_(e,s,i,o),r(i,o)}return s}else Bn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,s;return[this.produce(e,n,(o,a)=>{r=o,s=a}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Kr(t)||Bn(8),Bi(t)&&(t=pB(t));const e=Ax(this),n=Eg(t,void 0);return n[wn].isManual_=!0,_g(e),n}finishDraft(t,e){const n=t&&t[wn];(!n||!n.isManual_)&&Bn(9);const{scope_:r}=n;return Cx(r,e),Rx(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=zi("Patches").applyPatches_;return Bi(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Eg(t,e){const n=sh(t)?zi("MapSet").proxyMap_(t,e):ih(t)?zi("MapSet").proxySet_(t,e):dB(t,e);return(e?e.scope_:qR()).drafts_.push(n),n}function pB(t){return Bi(t)||Bn(10,t),GR(t)}function GR(t){if(!Kr(t)||oh(t))return t;const e=t[wn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yg(t,!0);return Jd(n,(r,s)=>{HR(n,r,GR(s))}),e&&(e.finalized_=!1),n}var En=new hB,QR=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function YR(t){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,t):s(i)}var mB=YR(),gB=YR,yB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xd:Xd.apply(null,arguments)};function bx(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Lr(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>sB(r)&&r.type===t,n}var XR=class yl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yl.prototype)}static get[Symbol.species](){return yl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yl(...e[0].concat(this)):new yl(...e.concat(this))}};function kx(t){return Kr(t)?QR(t,()=>{}):t}function Nx(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function vB(t){return typeof t=="boolean"}var _B=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new XR;return n&&(vB(n)?o.push(mB):o.push(gB(n.extraArgument))),o},wB="RTK_autoBatch",Dx=t=>e=>{setTimeout(e,t)},EB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,i=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dx(10):t.type==="callback"?t.queueNotification:Dx(t.timeout),u=()=>{o=!1,i&&(i=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>s&&d(),m=r.subscribe(h);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var h;try{return s=!((h=d==null?void 0:d.meta)!=null&&h[wB]),i=!s,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{s=!0}}})},xB=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new XR(t);return r&&s.push(EB(typeof r=="object"?r:void 0)),s};function TB(t){const e=_B(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(jv(n))a=nB(n);else throw new Error(Lr(1));let l;typeof r=="function"?l=r(e):l=e();let u=Xd;s&&(u=yB({trace:!1,...typeof s=="object"&&s}));const d=rB(...l),h=xB(d);let m=typeof o=="function"?o(h):h();const _=u(...m);return BR(a,i,_)}function JR(t){const e={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(Lr(28));if(a in e)throw new Error(Lr(29));return e[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return t(s),[e,n,r]}function SB(t){return typeof t=="function"}function IB(t,e){let[n,r,s]=JR(e),i;if(SB(t))i=()=>kx(t());else{const a=kx(t);i=()=>a}function o(a=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,h)=>{if(h)if(Bi(d)){const _=h(d,l);return _===void 0?d:_}else{if(Kr(d))return QR(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},a)}return o.getInitialState=i,o}var CB=Symbol.for("rtk-slice-createasyncthunk");function AB(t,e){return`${t}/${e}`}function RB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[CB];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Lr(11));const a=(typeof s.reducers=="function"?s.reducers(bB()):s.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,k){const O=typeof x=="string"?x:x.type;if(!O)throw new Error(Lr(12));if(O in u.sliceCaseReducersByType)throw new Error(Lr(13));return u.sliceCaseReducersByType[O]=k,d},addMatcher(x,k){return u.sliceMatchers.push({matcher:x,reducer:k}),d},exposeAction(x,k){return u.actionCreators[x]=k,d},exposeCaseReducer(x,k){return u.sliceCaseReducersByName[x]=k,d}};l.forEach(x=>{const k=a[x],O={reducerName:x,type:AB(i,x),createNotation:typeof s.reducers=="function"};NB(k)?OB(O,k,d,e):kB(O,k,d)});function h(){const[x={},k=[],O=void 0]=typeof s.extraReducers=="function"?JR(s.extraReducers):[s.extraReducers],L={...x,...u.sliceCaseReducersByType};return IB(s.initialState,C=>{for(let S in L)C.addCase(S,L[S]);for(let S of u.sliceMatchers)C.addMatcher(S.matcher,S.reducer);for(let S of k)C.addMatcher(S.matcher,S.reducer);O&&C.addDefaultCase(O)})}const m=x=>x,_=new Map;let T;function w(x,k){return T||(T=h()),T(x,k)}function I(){return T||(T=h()),T.getInitialState()}function E(x,k=!1){function O(C){let S=C[x];return typeof S>"u"&&k&&(S=I()),S}function L(C=m){const S=Nx(_,k,()=>new WeakMap);return Nx(S,C,()=>{const R={};for(const[b,D]of Object.entries(s.selectors??{}))R[b]=PB(D,C,I,k);return R})}return{reducerPath:x,getSelectors:L,get selectors(){return L(O)},selectSlice:O}}const v={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:I,...E(o),injectInto(x,{reducerPath:k,...O}={}){const L=k??o;return x.inject({reducerPath:L,reducer:w},O),{...v,...E(L,!0)}}};return v}}function PB(t,e,n,r){function s(i,...o){let a=e(i);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return s.unwrapped=t,s}var $v=RB();function bB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function kB({type:t,reducerName:e,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!DB(r))throw new Error(Lr(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?bx(t,o):bx(t))}function NB(t){return t._reducerDefinitionType==="asyncThunk"}function DB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function OB({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Lr(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:l,settled:u,options:d}=n,h=s(t,i,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||xu,pending:a||xu,rejected:l||xu,settled:u||xu})}function xu(){}function Lr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const VB={groupId:localStorage.getItem("groupId")||null,forms:[],isLoading:!1,isFetching:!1},ZR=$v({name:"forms",initialState:VB,reducers:{setLoading:(t,e)=>{t.isLoading=e.payload},setIsFetching:(t,e)=>{t.isFetching=e.payload},addForm:(t,e)=>{t.forms.unshift(e.payload)},deleteForm:(t,e)=>{t.forms=t.forms.filter(n=>n.formId!==e.payload)},initializeForms:(t,e)=>{t.forms=e.payload},clearForms:t=>{t.forms=[],t.groupId=null,localStorage.removeItem("groupId")},setGroupId:(t,e)=>{t.groupId=e.payload,localStorage.setItem("groupId",e.payload)}}}),MB=ZR.reducer,{addForm:LB,deleteForm:jB,initializeForms:FB,setLoading:Np,setIsFetching:Tu,clearForms:eP,setGroupId:UB}=ZR.actions,Gr=({content:t})=>f.jsx(Pa,{className:"flex-1 text-right md:text-xl text-slate-800 font-semibold",children:t}),xt=[];for(let t=0;t<256;++t)xt.push((t+256).toString(16).slice(1));function $B(t,e=0){return(xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]).toLowerCase()}let Dp;const BB=new Uint8Array(16);function zB(){if(!Dp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dp=crypto.getRandomValues.bind(crypto)}return Dp(BB)}const WB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ox={randomUUID:WB};function HB(t,e,n){var s;if(Ox.randomUUID&&!t)return Ox.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??zB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$B(r)}function Vx(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qB(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ci(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:m,children:_,...T}=h,w=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,I=g.useMemo(()=>T,Object.values(T));return f.jsx(w.Provider,{value:I,children:_})};u.displayName=i+"Provider";function d(h,m){var w;const _=((w=m==null?void 0:m[t])==null?void 0:w[l])||a,T=g.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,KB(s,...e)]}function KB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function tP(t){const e=t+"CollectionProvider",[n,r]=ci(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:T,children:w}=_,I=ce.useRef(null),E=ce.useRef(new Map).current;return f.jsx(s,{scope:T,itemMap:E,collectionRef:I,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=ce.forwardRef((_,T)=>{const{scope:w,children:I}=_,E=i(a,w),v=je(T,E.collectionRef);return f.jsx(Ws,{ref:v,children:I})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=ce.forwardRef((_,T)=>{const{scope:w,children:I,...E}=_,v=ce.useRef(null),x=je(T,v),k=i(u,w);return ce.useEffect(()=>(k.itemMap.set(v,{ref:v,...E}),()=>void k.itemMap.delete(v))),f.jsx(Ws,{[d]:"",ref:x,children:I})});h.displayName=u;function m(_){const T=i(t+"CollectionConsumer",_);return ce.useCallback(()=>{const I=T.collectionRef.current;if(!I)return[];const E=Array.from(I.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((k,O)=>E.indexOf(k.ref.current)-E.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},m,r]}var GB=g.createContext(void 0);function nP(t){const e=g.useContext(GB);return t||e||"ltr"}function Qr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QB(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YB="DismissableLayer",xg="dismissableLayer.update",XB="dismissableLayer.pointerDownOutside",JB="dismissableLayer.focusOutside",Mx,rP=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ah=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(rP),[d,h]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=g.useState({}),T=je(e,C=>h(C)),w=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(I),v=d?w.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=E,O=t3(C=>{const S=C.target,R=[...u.branches].some(b=>b.contains(S));!k||R||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),L=n3(C=>{const S=C.target;[...u.branches].some(b=>b.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return QB(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Lx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Mx)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Lx())},[d,u]),g.useEffect(()=>{const C=()=>_({});return document.addEventListener(xg,C),()=>document.removeEventListener(xg,C)},[]),f.jsx(ke.div,{...l,ref:T,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,O.onPointerDownCapture)})});ah.displayName=YB;var ZB="DismissableLayerBranch",e3=g.forwardRef((t,e)=>{const n=g.useContext(rP),r=g.useRef(null),s=je(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(ke.div,{...t,ref:s})});e3.displayName=ZB;function t3(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sP(XB,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function n3(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&sP(JB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lx(){const t=new CustomEvent(xg);document.dispatchEvent(t)}function sP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?w$(s,i):s.dispatchEvent(i)}var Op=0;function iP(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jx()),document.body.insertAdjacentElement("beforeend",t[1]??jx()),Op++,()=>{Op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Op--}},[])}function jx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vp="focusScope.autoFocusOnMount",Mp="focusScope.autoFocusOnUnmount",Fx={bubbles:!1,cancelable:!0},r3="FocusScope",Bv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=Qr(s),d=Qr(i),h=g.useRef(null),m=je(e,w=>l(w)),_=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(x){if(_.paused||!a)return;const k=x.target;a.contains(k)?h.current=k:hs(h.current,{select:!0})},I=function(x){if(_.paused||!a)return;const k=x.relatedTarget;k!==null&&(a.contains(k)||hs(h.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&hs(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",I);const v=new MutationObserver(E);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",I),v.disconnect()}}},[r,a,_.paused]),g.useEffect(()=>{if(a){$x.add(_);const w=document.activeElement;if(!a.contains(w)){const E=new CustomEvent(Vp,Fx);a.addEventListener(Vp,u),a.dispatchEvent(E),E.defaultPrevented||(s3(c3(oP(a)),{select:!0}),document.activeElement===w&&hs(a))}return()=>{a.removeEventListener(Vp,u),setTimeout(()=>{const E=new CustomEvent(Mp,Fx);a.addEventListener(Mp,d),a.dispatchEvent(E),E.defaultPrevented||hs(w??document.body,{select:!0}),a.removeEventListener(Mp,d),$x.remove(_)},0)}}},[a,u,d,_]);const T=g.useCallback(w=>{if(!n&&!r||_.paused)return;const I=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(I&&E){const v=w.currentTarget,[x,k]=i3(v);x&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&hs(x,{select:!0})):w.shiftKey&&E===x&&(w.preventDefault(),n&&hs(k,{select:!0})):E===v&&w.preventDefault()}},[n,r,_.paused]);return f.jsx(ke.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});Bv.displayName=r3;function s3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hs(r,{select:e}),document.activeElement!==n)return}function i3(t){const e=oP(t),n=Ux(e,t),r=Ux(e.reverse(),t);return[n,r]}function oP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ux(t,e){for(const n of t)if(!o3(n,{upTo:e}))return n}function o3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function a3(t){return t instanceof HTMLInputElement&&"select"in t}function hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&a3(t)&&e&&t.select()}}var $x=l3();function l3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Bx(t,e),t.unshift(e)},remove(e){var n;t=Bx(t,e),(n=t[0])==null||n.resume()}}}function Bx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function c3(t){return t.filter(e=>e.tagName!=="A")}var Bt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},u3=mT.useId||(()=>{}),d3=0;function jr(t){const[e,n]=g.useState(u3());return Bt(()=>{n(r=>r??String(d3++))},[t]),e?`radix-${e}`:""}const f3=["top","right","bottom","left"],Js=Math.min,hn=Math.max,tf=Math.round,Su=Math.floor,mr=t=>({x:t,y:t}),h3={left:"right",right:"left",bottom:"top",top:"bottom"},p3={start:"end",end:"start"};function Tg(t,e,n){return hn(t,Js(e,n))}function Yr(t,e){return typeof t=="function"?t(e):t}function Xr(t){return t.split("-")[0]}function ka(t){return t.split("-")[1]}function zv(t){return t==="x"?"y":"x"}function Wv(t){return t==="y"?"height":"width"}function Zs(t){return["top","bottom"].includes(Xr(t))?"y":"x"}function Hv(t){return zv(Zs(t))}function m3(t,e,n){n===void 0&&(n=!1);const r=ka(t),s=Hv(t),i=Wv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=nf(o)),[o,nf(o)]}function g3(t){const e=nf(t);return[Sg(t),e,Sg(e)]}function Sg(t){return t.replace(/start|end/g,e=>p3[e])}function y3(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function v3(t,e,n,r){const s=ka(t);let i=y3(Xr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Sg)))),i}function nf(t){return t.replace(/left|right|bottom|top/g,e=>h3[e])}function _3(t){return{top:0,right:0,bottom:0,left:0,...t}}function aP(t){return typeof t!="number"?_3(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function zx(t,e,n){let{reference:r,floating:s}=t;const i=Zs(e),o=Hv(e),a=Wv(o),l=Xr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let _;switch(l){case"top":_={x:d,y:r.y-s.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:h};break;case"left":_={x:r.x-s.width,y:h};break;default:_={x:r.x,y:r.y}}switch(ka(e)){case"start":_[o]-=m*(n&&u?-1:1);break;case"end":_[o]+=m*(n&&u?-1:1);break}return _}const w3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=zx(u,r,l),m=r,_={},T=0;for(let w=0;w<a.length;w++){const{name:I,fn:E}=a[w],{x:v,y:x,data:k,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:_,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=x??h,_={..._,[I]:{..._[I],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=zx(u,m,l)),w=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:_}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:_=0}=Yr(e,t),T=aP(_),I=a[m?h==="floating"?"reference":"floating":h],E=rf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=rf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(E.top-O.top+T.top)/k.y,bottom:(O.bottom-E.bottom+T.bottom)/k.y,left:(E.left-O.left+T.left)/k.x,right:(O.right-E.right+T.right)/k.x}}const E3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Yr(t,e)||{};if(u==null)return{};const h=aP(d),m={x:n,y:r},_=Hv(s),T=Wv(_),w=await o.getDimensions(u),I=_==="y",E=I?"top":"left",v=I?"bottom":"right",x=I?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[_]-m[_]-i.floating[T],O=m[_]-i.reference[_],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=L?L[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[x]||i.floating[T]);const S=k/2-O/2,R=C/2-w[T]/2-1,b=Js(h[E],R),D=Js(h[v],R),N=b,P=C-w[T]-D,X=C/2-w[T]/2+S,le=Tg(N,X,P),ne=!l.arrow&&ka(s)!=null&&X!==le&&i.reference[T]/2-(X<N?b:D)-w[T]/2<0,se=ne?X<N?X-N:X-P:0;return{[_]:m[_]+se,data:{[_]:le,centerOffset:X-le-se,...ne&&{alignmentOffset:se}},reset:ne}}}),x3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...I}=Yr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Xr(s),v=Zs(a),x=Xr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=m||(x||!w?[nf(a)]:g3(a)),L=T!=="none";!m&&L&&O.push(...v3(a,w,T,k));const C=[a,...O],S=await pc(e,I),R=[];let b=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(S[E]),h){const X=m3(s,o,k);R.push(S[X[0]],S[X[1]])}if(b=[...b,{placement:s,overflows:R}],!R.every(X=>X<=0)){var D,N;const X=(((D=i.flip)==null?void 0:D.index)||0)+1,le=C[X];if(le)return{data:{index:X,overflows:b},reset:{placement:le}};let ne=(N=b.filter(se=>se.overflows[0]<=0).sort((se,$)=>se.overflows[1]-$.overflows[1])[0])==null?void 0:N.placement;if(!ne)switch(_){case"bestFit":{var P;const se=(P=b.filter($=>{if(L){const q=Zs($.placement);return q===v||q==="y"}return!0}).map($=>[$.placement,$.overflows.filter(q=>q>0).reduce((q,te)=>q+te,0)]).sort(($,q)=>$[1]-q[1])[0])==null?void 0:P[0];se&&(ne=se);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function Wx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hx(t){return f3.some(e=>t[e]>=0)}const T3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Yr(t,e);switch(r){case"referenceHidden":{const i=await pc(e,{...s,elementContext:"reference"}),o=Wx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Hx(o)}}}case"escaped":{const i=await pc(e,{...s,altBoundary:!0}),o=Wx(i,n.floating);return{data:{escapedOffsets:o,escaped:Hx(o)}}}default:return{}}}}};async function S3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Xr(n),a=ka(n),l=Zs(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Yr(e,t);let{mainAxis:m,crossAxis:_,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(_=a==="end"?T*-1:T),l?{x:_*d,y:m*u}:{x:m*u,y:_*d}}const I3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await S3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},C3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:E,y:v}=I;return{x:E,y:v}}},...l}=Yr(t,e),u={x:n,y:r},d=await pc(e,l),h=Zs(Xr(s)),m=zv(h);let _=u[m],T=u[h];if(i){const I=m==="y"?"top":"left",E=m==="y"?"bottom":"right",v=_+d[I],x=_-d[E];_=Tg(v,_,x)}if(o){const I=h==="y"?"top":"left",E=h==="y"?"bottom":"right",v=T+d[I],x=T-d[E];T=Tg(v,T,x)}const w=a.fn({...e,[m]:_,[h]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:i,[h]:o}}}}}},A3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Yr(t,e),d={x:n,y:r},h=Zs(s),m=zv(h);let _=d[m],T=d[h];const w=Yr(a,e),I=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const x=m==="y"?"height":"width",k=i.reference[m]-i.floating[x]+I.mainAxis,O=i.reference[m]+i.reference[x]-I.mainAxis;_<k?_=k:_>O&&(_=O)}if(u){var E,v;const x=m==="y"?"width":"height",k=["top","left"].includes(Xr(s)),O=i.reference[h]-i.floating[x]+(k&&((E=o.offset)==null?void 0:E[h])||0)+(k?0:I.crossAxis),L=i.reference[h]+i.reference[x]+(k?0:((v=o.offset)==null?void 0:v[h])||0)-(k?I.crossAxis:0);T<O?T=O:T>L&&(T=L)}return{[m]:_,[h]:T}}}},R3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Yr(t,e),d=await pc(e,u),h=Xr(s),m=ka(s),_=Zs(s)==="y",{width:T,height:w}=i.floating;let I,E;h==="top"||h==="bottom"?(I=h,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,I=m==="end"?"top":"bottom");const v=w-d.top-d.bottom,x=T-d.left-d.right,k=Js(w-d[I],v),O=Js(T-d[E],x),L=!e.middlewareData.shift;let C=k,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),L&&!m){const b=hn(d.left,0),D=hn(d.right,0),N=hn(d.top,0),P=hn(d.bottom,0);_?S=T-2*(b!==0||D!==0?b+D:hn(d.left,d.right)):C=w-2*(N!==0||P!==0?N+P:hn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const R=await o.getDimensions(a.floating);return T!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function lh(){return typeof window<"u"}function Na(t){return lP(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _r(t){var e;return(e=(lP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lP(t){return lh()?t instanceof Node||t instanceof yn(t).Node:!1}function Qn(t){return lh()?t instanceof Element||t instanceof yn(t).Element:!1}function yr(t){return lh()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function qx(t){return!lh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}function Dc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Yn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function P3(t){return["table","td","th"].includes(Na(t))}function ch(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qv(t){const e=Kv(),n=Qn(t)?Yn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function b3(t){let e=ei(t);for(;yr(e)&&!ua(e);){if(qv(e))return e;if(ch(e))return null;e=ei(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ua(t){return["html","body","#document"].includes(Na(t))}function Yn(t){return yn(t).getComputedStyle(t)}function uh(t){return Qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ei(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qx(t)&&t.host||_r(t);return qx(e)?e.host:e}function cP(t){const e=ei(t);return ua(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Dc(e)?e:cP(e)}function mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=cP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=Ig(o);return e.concat(o,o.visualViewport||[],Dc(s)?s:[],a&&n?mc(a):[])}return e.concat(s,mc(s,[],n))}function Ig(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uP(t){const e=Yn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=tf(n)!==i||tf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Gv(t){return Qn(t)?t:t.contextElement}function Bo(t){const e=Gv(t);if(!yr(e))return mr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=uP(e);let o=(i?tf(n.width):n.width)/r,a=(i?tf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const k3=mr(0);function dP(t){const e=yn(t);return!Kv()||!e.visualViewport?k3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function N3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function Wi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Gv(t);let o=mr(1);e&&(r?Qn(r)&&(o=Bo(r)):o=Bo(t));const a=N3(i,n,r)?dP(i):mr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=yn(i),_=r&&Qn(r)?yn(r):r;let T=m,w=Ig(T);for(;w&&r&&_!==T;){const I=Bo(w),E=w.getBoundingClientRect(),v=Yn(w),x=E.left+(w.clientLeft+parseFloat(v.paddingLeft))*I.x,k=E.top+(w.clientTop+parseFloat(v.paddingTop))*I.y;l*=I.x,u*=I.y,d*=I.x,h*=I.y,l+=x,u+=k,T=yn(w),w=Ig(T)}}return rf({width:d,height:h,x:l,y:u})}function Qv(t,e){const n=uh(t).scrollLeft;return e?e.left+n:Wi(_r(t)).left+n}function fP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Qv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function D3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=_r(r),a=e?ch(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=mr(1);const d=mr(0),h=yr(r);if((h||!h&&!i)&&((Na(r)!=="body"||Dc(o))&&(l=uh(r)),yr(r))){const _=Wi(r);u=Bo(r),d.x=_.x+r.clientLeft,d.y=_.y+r.clientTop}const m=o&&!h&&!i?fP(o,l,!0):mr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function O3(t){return Array.from(t.getClientRects())}function V3(t){const e=_r(t),n=uh(t),r=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qv(t);const a=-n.scrollTop;return Yn(r).direction==="rtl"&&(o+=hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function M3(t,e){const n=yn(t),r=_r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Kv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function L3(t,e){const n=Wi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?Bo(t):mr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Kx(t,e,n){let r;if(e==="viewport")r=M3(t,n);else if(e==="document")r=V3(_r(t));else if(Qn(e))r=L3(e,n);else{const s=dP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rf(r)}function hP(t,e){const n=ei(t);return n===e||!Qn(n)||ua(n)?!1:Yn(n).position==="fixed"||hP(n,e)}function j3(t,e){const n=e.get(t);if(n)return n;let r=mc(t,[],!1).filter(a=>Qn(a)&&Na(a)!=="body"),s=null;const i=Yn(t).position==="fixed";let o=i?ei(t):t;for(;Qn(o)&&!ua(o);){const a=Yn(o),l=qv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Dc(o)&&!l&&hP(t,o))?r=r.filter(d=>d!==o):s=a,o=ei(o)}return e.set(t,r),r}function F3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ch(e)?[]:j3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=Kx(e,d,s);return u.top=hn(h.top,u.top),u.right=Js(h.right,u.right),u.bottom=Js(h.bottom,u.bottom),u.left=hn(h.left,u.left),u},Kx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U3(t){const{width:e,height:n}=uP(t);return{width:e,height:n}}function $3(t,e,n){const r=yr(e),s=_r(e),i=n==="fixed",o=Wi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=mr(0);if(r||!r&&!i)if((Na(e)!=="body"||Dc(s))&&(a=uh(e)),r){const m=Wi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Qv(s));const u=s&&!r&&!i?fP(s,a):mr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Lp(t){return Yn(t).position==="static"}function Gx(t,e){if(!yr(t)||Yn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _r(t)===n&&(n=n.ownerDocument.body),n}function pP(t,e){const n=yn(t);if(ch(t))return n;if(!yr(t)){let s=ei(t);for(;s&&!ua(s);){if(Qn(s)&&!Lp(s))return s;s=ei(s)}return n}let r=Gx(t,e);for(;r&&P3(r)&&Lp(r);)r=Gx(r,e);return r&&ua(r)&&Lp(r)&&!qv(r)?n:r||b3(t)||n}const B3=async function(t){const e=this.getOffsetParent||pP,n=this.getDimensions,r=await n(t.floating);return{reference:$3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z3(t){return Yn(t).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:D3,getDocumentElement:_r,getClippingRect:F3,getOffsetParent:pP,getElementRects:B3,getClientRects:O3,getDimensions:U3,getScale:Bo,isElement:Qn,isRTL:z3};function mP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H3(t,e){let n=null,r;const s=_r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:_}=u;if(a||e(),!m||!_)return;const T=Su(h),w=Su(s.clientWidth-(d+m)),I=Su(s.clientHeight-(h+_)),E=Su(d),x={rootMargin:-T+"px "+-w+"px "+-I+"px "+-E+"px",threshold:hn(0,Js(1,l))||1};let k=!0;function O(L){const C=L[0].intersectionRatio;if(C!==l){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!mP(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function q3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Gv(t),d=s||i?[...u?mc(u):[],...mc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=u&&a?H3(u,n):null;let m=-1,_=null;o&&(_=new ResizeObserver(E=>{let[v]=E;v&&v.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=_)==null||x.observe(e)})),n()}),u&&!l&&_.observe(u),_.observe(e));let T,w=l?Wi(t):null;l&&I();function I(){const E=Wi(t);w&&!mP(w,E)&&n(),w=E,T=requestAnimationFrame(I)}return n(),()=>{var E;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(E=_)==null||E.disconnect(),_=null,l&&cancelAnimationFrame(T)}}const K3=I3,G3=C3,Q3=x3,Y3=R3,X3=T3,Qx=E3,J3=A3,Z3=(t,e,n)=>{const r=new Map,s={platform:W3,...n},i={...s.platform,_c:r};return w3(t,e,{...s,platform:i})};var Zu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function gP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yx(t,e){const n=gP(t);return Math.round(e*n)/n}function jp(t){const e=g.useRef(t);return Zu(()=>{e.current=t}),e}function ez(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,_]=g.useState(r);sf(m,r)||_(r);const[T,w]=g.useState(null),[I,E]=g.useState(null),v=g.useCallback($=>{$!==L.current&&(L.current=$,w($))},[]),x=g.useCallback($=>{$!==C.current&&(C.current=$,E($))},[]),k=i||T,O=o||I,L=g.useRef(null),C=g.useRef(null),S=g.useRef(d),R=l!=null,b=jp(l),D=jp(s),N=jp(u),P=g.useCallback(()=>{if(!L.current||!C.current)return;const $={placement:e,strategy:n,middleware:m};D.current&&($.platform=D.current),Z3(L.current,C.current,$).then(q=>{const te={...q,isPositioned:N.current!==!1};X.current&&!sf(S.current,te)&&(S.current=te,ma.flushSync(()=>{h(te)}))})},[m,e,n,D,N]);Zu(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const X=g.useRef(!1);Zu(()=>(X.current=!0,()=>{X.current=!1}),[]),Zu(()=>{if(k&&(L.current=k),O&&(C.current=O),k&&O){if(b.current)return b.current(k,O,P);P()}},[k,O,P,b,R]);const le=g.useMemo(()=>({reference:L,floating:C,setReference:v,setFloating:x}),[v,x]),ne=g.useMemo(()=>({reference:k,floating:O}),[k,O]),se=g.useMemo(()=>{const $={position:n,left:0,top:0};if(!ne.floating)return $;const q=Yx(ne.floating,d.x),te=Yx(ne.floating,d.y);return a?{...$,transform:"translate("+q+"px, "+te+"px)",...gP(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:te}},[n,a,ne.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:le,elements:ne,floatingStyles:se}),[d,P,le,ne,se])}const tz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Qx({element:r.current,padding:s}).fn(n):{}:r?Qx({element:r,padding:s}).fn(n):{}}}},nz=(t,e)=>({...K3(t),options:[t,e]}),rz=(t,e)=>({...G3(t),options:[t,e]}),sz=(t,e)=>({...J3(t),options:[t,e]}),iz=(t,e)=>({...Q3(t),options:[t,e]}),oz=(t,e)=>({...Y3(t),options:[t,e]}),az=(t,e)=>({...X3(t),options:[t,e]}),lz=(t,e)=>({...tz(t),options:[t,e]});var cz="Arrow",yP=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});yP.displayName=cz;var uz=yP;function dz(t){const[e,n]=g.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yv="Popper",[vP,dh]=ci(Yv),[fz,_P]=vP(Yv),wP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return f.jsx(fz,{scope:e,anchor:r,onAnchorChange:s,children:n})};wP.displayName=Yv;var EP="PopperAnchor",xP=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=_P(EP,n),o=g.useRef(null),a=je(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(ke.div,{...s,ref:a})});xP.displayName=EP;var Xv="PopperContent",[hz,pz]=vP(Xv),TP=g.forwardRef((t,e)=>{var re,Ne,tt,Re,_e,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:_="optimized",onPlaced:T,...w}=t,I=_P(Xv,n),[E,v]=g.useState(null),x=je(e,at=>v(at)),[k,O]=g.useState(null),L=dz(k),C=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,R=r+(i!=="center"?"-"+i:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],N=D.length>0,P={padding:b,boundary:D.filter(gz),altBoundary:N},{refs:X,floatingStyles:le,placement:ne,isPositioned:se,middlewareData:$}=ez({strategy:"fixed",placement:R,whileElementsMounted:(...at)=>q3(...at,{animationFrame:_==="always"}),elements:{reference:I.anchor},middleware:[nz({mainAxis:s+S,alignmentAxis:o}),l&&rz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?sz():void 0,...P}),l&&iz({...P}),oz({...P,apply:({elements:at,rects:wt,availableWidth:tr,availableHeight:xr})=>{const{width:ss,height:V}=wt.reference,j=at.floating.style;j.setProperty("--radix-popper-available-width",`${tr}px`),j.setProperty("--radix-popper-available-height",`${xr}px`),j.setProperty("--radix-popper-anchor-width",`${ss}px`),j.setProperty("--radix-popper-anchor-height",`${V}px`)}}),k&&lz({element:k,padding:a}),yz({arrowWidth:C,arrowHeight:S}),m&&az({strategy:"referenceHidden",...P})]}),[q,te]=CP(ne),fe=Qr(T);Bt(()=>{se&&(fe==null||fe())},[se,fe]);const ve=(re=$.arrow)==null?void 0:re.x,Oe=(Ne=$.arrow)==null?void 0:Ne.y,Ze=((tt=$.arrow)==null?void 0:tt.centerOffset)!==0,[gt,et]=g.useState();return Bt(()=>{E&&et(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:se?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(Re=$.transformOrigin)==null?void 0:Re.x,(_e=$.transformOrigin)==null?void 0:_e.y].join(" "),...((Se=$.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(hz,{scope:n,placedSide:q,onArrowChange:O,arrowX:ve,arrowY:Oe,shouldHideArrow:Ze,children:f.jsx(ke.div,{"data-side":q,"data-align":te,...w,ref:x,style:{...w.style,animation:se?void 0:"none"}})})})});TP.displayName=Xv;var SP="PopperArrow",mz={top:"bottom",right:"left",bottom:"top",left:"right"},IP=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=pz(SP,r),o=mz[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(uz,{...s,ref:n,style:{...s.style,display:"block"}})})});IP.displayName=SP;function gz(t){return t!==null}var yz=t=>({name:"transformOrigin",options:t,fn(e){var I,E,v;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=CP(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,_=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let T="",w="";return u==="bottom"?(T=o?h:`${m}px`,w=`${-l}px`):u==="top"?(T=o?h:`${m}px`,w=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,w=o?h:`${_}px`):u==="left"&&(T=`${r.floating.width+l}px`,w=o?h:`${_}px`),{data:{x:T,y:w}}}});function CP(t){const[e,n="center"]=t.split("-");return[e,n]}var AP=wP,RP=xP,PP=TP,bP=IP,vz="Portal",Jv=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Bt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rO.createPortal(f.jsx(ke.div,{...r,ref:e}),o):null});Jv.displayName=vz;function Hi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=_z({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Qr(n),l=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,l]}function _z({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Qr(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function wz(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ez="VisuallyHidden",Zv=g.forwardRef((t,e)=>f.jsx(ke.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zv.displayName=Ez;var xz=Zv,Tz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uo=new WeakMap,Iu=new WeakMap,Cu={},Fp=0,kP=function(t){return t&&(t.host||kP(t.parentNode))},Sz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Iz=function(t,e,n,r){var s=Sz(e,Array.isArray(t)?t:[t]);Cu[n]||(Cu[n]=new WeakMap);var i=Cu[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var _=m.getAttribute(r),T=_!==null&&_!=="false",w=(uo.get(m)||0)+1,I=(i.get(m)||0)+1;uo.set(m,w),i.set(m,I),o.push(m),w===1&&T&&Iu.set(m,!0),I===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return d(e),a.clear(),Fp++,function(){o.forEach(function(h){var m=uo.get(h)-1,_=i.get(h)-1;uo.set(h,m),i.set(h,_),m||(Iu.has(h)||h.removeAttribute(r),Iu.delete(h)),_||h.removeAttribute(n)}),Fp--,Fp||(uo=new WeakMap,uo=new WeakMap,Iu=new WeakMap,Cu={})}},NP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Tz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Iz(r,s,n,"aria-hidden")):function(){return null}},ed="right-scroll-bar-position",td="width-before-scroll-bar",Cz="with-scroll-bars-hidden",Az="--removed-body-scroll-bar-size";function Up(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rz(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Pz=typeof window<"u"?g.useLayoutEffect:g.useEffect,Xx=new WeakMap;function bz(t,e){var n=Rz(null,function(r){return t.forEach(function(s){return Up(s,r)})});return Pz(function(){var r=Xx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Up(a,null)}),i.forEach(function(a){s.has(a)||Up(a,o)})}Xx.set(n,t)},[t]),n}function kz(t){return t}function Nz(t,e){e===void 0&&(e=kz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Dz(t){t===void 0&&(t={});var e=Nz(null);return e.options=ar({async:!0,ssr:!1},t),e}var DP=function(t){var e=t.sideCar,n=Sc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,ar({},n))};DP.isSideCarExport=!0;function Oz(t,e){return t.useMedium(e),DP}var OP=Dz(),$p=function(){},fh=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:$p,onWheelCapture:$p,onTouchMoveCapture:$p}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,_=t.noIsolation,T=t.inert,w=t.allowPinchZoom,I=t.as,E=I===void 0?"div":I,v=t.gapMode,x=Sc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,O=bz([n,e]),L=ar(ar({},x),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:OP,removeScrollBar:u,shards:h,noIsolation:_,inert:T,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(a),ar(ar({},L),{ref:O})):g.createElement(E,ar({},L,{className:l,ref:O}),a))});fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fh.classNames={fullWidth:td,zeroRight:ed};var Vz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Vz();return e&&t.setAttribute("nonce",e),t}function Lz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mz())&&(Lz(e,n),jz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Uz=function(){var t=Fz();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VP=function(){var t=Uz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},$z={left:0,top:0,right:0,gap:0},Bp=function(t){return parseInt(t||"",10)||0},Bz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Bp(n),Bp(r),Bp(s)]},zz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $z;var e=Bz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Wz=VP(),zo="data-scroll-locked",Hz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ed,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(td,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ed," .").concat(ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(td," .").concat(td,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(Az,": ").concat(a,`px;
  }
`)},Jx=function(){var t=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(t)?t:0},qz=function(){g.useEffect(function(){return document.body.setAttribute(zo,(Jx()+1).toString()),function(){var t=Jx()-1;t<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,t.toString())}},[])},Kz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;qz();var i=g.useMemo(function(){return zz(s)},[s]);return g.createElement(Wz,{styles:Hz(i,!e,s,n?"":"!important")})},Cg=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return Cg=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Cg=!1}var fo=Cg?{passive:!1}:!1,Gz=function(t){return t.tagName==="TEXTAREA"},MP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Gz(t)&&n[e]==="visible")},Qz=function(t){return MP(t,"overflowY")},Yz=function(t){return MP(t,"overflowX")},Zx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=LP(t,r);if(s){var i=jP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LP=function(t,e){return t==="v"?Qz(e):Yz(e)},jP=function(t,e){return t==="v"?Xz(e):Jz(e)},Zz=function(t,e){return t==="h"&&e==="rtl"?-1:1},e9=function(t,e,n,r,s){var i=Zz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,m=0;do{var _=jP(t,a),T=_[0],w=_[1],I=_[2],E=w-I-i*T;(T||E)&&LP(t,a)&&(h+=E,m+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Ru=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eT=function(t){return[t.deltaX,t.deltaY]},tT=function(t){return t&&"current"in t?t.current:t},t9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},r9=0,ho=[];function s9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(r9++)[0],i=g.useState(VP)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=f2([t.lockRef.current],(t.shards||[]).map(tT),!0).filter(Boolean);return w.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,I){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=Ru(w),v=n.current,x="deltaX"in w?w.deltaX:v[0]-E[0],k="deltaY"in w?w.deltaY:v[1]-E[1],O,L=w.target,C=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in w&&C==="h"&&L.type==="range")return!1;var S=Zx(C,L);if(!S)return!0;if(S?O=C:(O=C==="v"?"h":"v",S=Zx(C,L)),!S)return!1;if(!r.current&&"changedTouches"in w&&(x||k)&&(r.current=O),!O)return!0;var R=r.current||O;return e9(R,I,w,R==="h"?x:k)},[]),l=g.useCallback(function(w){var I=w;if(!(!ho.length||ho[ho.length-1]!==i)){var E="deltaY"in I?eT(I):Ru(I),v=e.current.filter(function(O){return O.name===I.type&&(O.target===I.target||I.target===O.shadowParent)&&t9(O.delta,E)})[0];if(v&&v.should){I.cancelable&&I.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(tT).filter(Boolean).filter(function(O){return O.contains(I.target)}),k=x.length>0?a(I,x[0]):!o.current.noIsolation;k&&I.cancelable&&I.preventDefault()}}},[]),u=g.useCallback(function(w,I,E,v){var x={name:w,delta:I,target:E,should:v,shadowParent:i9(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(k){return k!==x})},1)},[]),d=g.useCallback(function(w){n.current=Ru(w),r.current=void 0},[]),h=g.useCallback(function(w){u(w.type,eT(w),w.target,a(w,t.lockRef.current))},[]),m=g.useCallback(function(w){u(w.type,Ru(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return ho.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,fo),document.addEventListener("touchmove",l,fo),document.addEventListener("touchstart",d,fo),function(){ho=ho.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,fo),document.removeEventListener("touchmove",l,fo),document.removeEventListener("touchstart",d,fo)}},[]);var _=t.removeScrollBar,T=t.inert;return g.createElement(g.Fragment,null,T?g.createElement(i,{styles:n9(s)}):null,_?g.createElement(Kz,{gapMode:t.gapMode}):null)}function i9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const o9=Oz(OP,s9);var e_=g.forwardRef(function(t,e){return g.createElement(fh,ar({},t,{ref:e,sideCar:o9}))});e_.classNames=fh.classNames;var a9=[" ","Enter","ArrowUp","ArrowDown"],l9=[" ","Enter"],Oc="Select",[hh,ph,c9]=tP(Oc),[Da,Z5]=ci(Oc,[c9,dh]),mh=dh(),[u9,ui]=Da(Oc),[d9,f9]=Da(Oc),FP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:m,required:_,form:T}=t,w=mh(e),[I,E]=g.useState(null),[v,x]=g.useState(null),[k,O]=g.useState(!1),L=nP(u),[C=!1,S]=Hi({prop:r,defaultProp:s,onChange:i}),[R,b]=Hi({prop:o,defaultProp:a,onChange:l}),D=g.useRef(null),N=I?T||!!I.closest("form"):!0,[P,X]=g.useState(new Set),le=Array.from(P).map(ne=>ne.props.value).join(";");return f.jsx(AP,{...w,children:f.jsxs(u9,{required:_,scope:e,trigger:I,onTriggerChange:E,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:jr(),value:R,onValueChange:b,open:C,onOpenChange:S,dir:L,triggerPointerDownPosRef:D,disabled:m,children:[f.jsx(hh.Provider,{scope:e,children:f.jsx(d9,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(ne=>{X(se=>new Set(se).add(ne))},[]),onNativeOptionRemove:g.useCallback(ne=>{X(se=>{const $=new Set(se);return $.delete(ne),$})},[]),children:n})}),N?f.jsxs(ub,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:ne=>b(ne.target.value),disabled:m,form:T,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(P)]},le):null]})})};FP.displayName=Oc;var UP="SelectTrigger",$P=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=mh(n),o=ui(UP,n),a=o.disabled||r,l=je(e,o.onTriggerChange),u=ph(n),d=g.useRef("touch"),[h,m,_]=db(w=>{const I=u().filter(x=>!x.disabled),E=I.find(x=>x.value===o.value),v=fb(I,w,E);v!==void 0&&o.onValueChange(v.value)}),T=w=>{a||(o.onOpenChange(!0),_()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return f.jsx(RP,{asChild:!0,...i,children:f.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":cb(o.value)?"":void 0,...s,ref:l,onClick:Ae(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&T(w)}),onPointerDown:Ae(s.onPointerDown,w=>{d.current=w.pointerType;const I=w.target;I.hasPointerCapture(w.pointerId)&&I.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(T(w),w.preventDefault())}),onKeyDown:Ae(s.onKeyDown,w=>{const I=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&m(w.key),!(I&&w.key===" ")&&a9.includes(w.key)&&(T(),w.preventDefault())})})})});$P.displayName=UP;var BP="SelectValue",zP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ui(BP,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=je(e,l.onValueNodeChange);return Bt(()=>{u(d)},[u,d]),f.jsx(ke.span,{...a,ref:h,style:{pointerEvents:"none"},children:cb(l.value)?f.jsx(f.Fragment,{children:o}):i})});zP.displayName=BP;var h9="SelectIcon",WP=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});WP.displayName=h9;var p9="SelectPortal",HP=t=>f.jsx(Jv,{asChild:!0,...t});HP.displayName=p9;var qi="SelectContent",qP=g.forwardRef((t,e)=>{const n=ui(qi,t.__scopeSelect),[r,s]=g.useState();if(Bt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ma.createPortal(f.jsx(KP,{scope:t.__scopeSelect,children:f.jsx(hh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(GP,{...t,ref:e})});qP.displayName=qi;var Mn=10,[KP,di]=Da(qi),m9="SelectContentImpl",GP=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:_,sticky:T,hideWhenDetached:w,avoidCollisions:I,...E}=t,v=ui(qi,n),[x,k]=g.useState(null),[O,L]=g.useState(null),C=je(e,re=>k(re)),[S,R]=g.useState(null),[b,D]=g.useState(null),N=ph(n),[P,X]=g.useState(!1),le=g.useRef(!1);g.useEffect(()=>{if(x)return NP(x)},[x]),iP();const ne=g.useCallback(re=>{const[Ne,...tt]=N().map(Se=>Se.ref.current),[Re]=tt.slice(-1),_e=document.activeElement;for(const Se of re)if(Se===_e||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===Ne&&O&&(O.scrollTop=0),Se===Re&&O&&(O.scrollTop=O.scrollHeight),Se==null||Se.focus(),document.activeElement!==_e))return},[N,O]),se=g.useCallback(()=>ne([S,x]),[ne,S,x]);g.useEffect(()=>{P&&se()},[P,se]);const{onOpenChange:$,triggerPointerDownPosRef:q}=v;g.useEffect(()=>{if(x){let re={x:0,y:0};const Ne=Re=>{var _e,Se;re={x:Math.abs(Math.round(Re.pageX)-(((_e=q.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Se=q.current)==null?void 0:Se.y)??0))}},tt=Re=>{re.x<=10&&re.y<=10?Re.preventDefault():x.contains(Re.target)||$(!1),document.removeEventListener("pointermove",Ne),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",tt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",tt,{capture:!0})}}},[x,$,q]),g.useEffect(()=>{const re=()=>$(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[$]);const[te,fe]=db(re=>{const Ne=N().filter(_e=>!_e.disabled),tt=Ne.find(_e=>_e.ref.current===document.activeElement),Re=fb(Ne,re,tt);Re&&setTimeout(()=>Re.ref.current.focus())}),ve=g.useCallback((re,Ne,tt)=>{const Re=!le.current&&!tt;(v.value!==void 0&&v.value===Ne||Re)&&(R(re),Re&&(le.current=!0))},[v.value]),Oe=g.useCallback(()=>x==null?void 0:x.focus(),[x]),Ze=g.useCallback((re,Ne,tt)=>{const Re=!le.current&&!tt;(v.value!==void 0&&v.value===Ne||Re)&&D(re)},[v.value]),gt=r==="popper"?Ag:QP,et=gt===Ag?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:_,sticky:T,hideWhenDetached:w,avoidCollisions:I}:{};return f.jsx(KP,{scope:n,content:x,viewport:O,onViewportChange:L,itemRefCallback:ve,selectedItem:S,onItemLeave:Oe,itemTextRefCallback:Ze,focusSelectedItem:se,selectedItemText:b,position:r,isPositioned:P,searchRef:te,children:f.jsx(e_,{as:Ws,allowPinchZoom:!0,children:f.jsx(Bv,{asChild:!0,trapped:v.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Ae(s,re=>{var Ne;(Ne=v.trigger)==null||Ne.focus({preventScroll:!0}),re.preventDefault()}),children:f.jsx(ah,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:f.jsx(gt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:re=>re.preventDefault(),...E,...et,onPlaced:()=>X(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ae(E.onKeyDown,re=>{const Ne=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ne&&re.key.length===1&&fe(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Re=N().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const _e=re.target,Se=Re.indexOf(_e);Re=Re.slice(Se+1)}setTimeout(()=>ne(Re)),re.preventDefault()}})})})})})})});GP.displayName=m9;var g9="SelectItemAlignedPosition",QP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ui(qi,n),o=di(qi,n),[a,l]=g.useState(null),[u,d]=g.useState(null),h=je(e,C=>d(C)),m=ph(n),_=g.useRef(!1),T=g.useRef(!0),{viewport:w,selectedItem:I,selectedItemText:E,focusSelectedItem:v}=o,x=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&w&&I&&E){const C=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),b=E.getBoundingClientRect();if(i.dir!=="rtl"){const _e=b.left-S.left,Se=R.left-_e,at=C.left-Se,wt=C.width+at,tr=Math.max(wt,S.width),xr=window.innerWidth-Mn,ss=Vx(Se,[Mn,Math.max(Mn,xr-tr)]);a.style.minWidth=wt+"px",a.style.left=ss+"px"}else{const _e=S.right-b.right,Se=window.innerWidth-R.right-_e,at=window.innerWidth-C.right-Se,wt=C.width+at,tr=Math.max(wt,S.width),xr=window.innerWidth-Mn,ss=Vx(Se,[Mn,Math.max(Mn,xr-tr)]);a.style.minWidth=wt+"px",a.style.right=ss+"px"}const D=m(),N=window.innerHeight-Mn*2,P=w.scrollHeight,X=window.getComputedStyle(u),le=parseInt(X.borderTopWidth,10),ne=parseInt(X.paddingTop,10),se=parseInt(X.borderBottomWidth,10),$=parseInt(X.paddingBottom,10),q=le+ne+P+$+se,te=Math.min(I.offsetHeight*5,q),fe=window.getComputedStyle(w),ve=parseInt(fe.paddingTop,10),Oe=parseInt(fe.paddingBottom,10),Ze=C.top+C.height/2-Mn,gt=N-Ze,et=I.offsetHeight/2,re=I.offsetTop+et,Ne=le+ne+re,tt=q-Ne;if(Ne<=Ze){const _e=D.length>0&&I===D[D.length-1].ref.current;a.style.bottom="0px";const Se=u.clientHeight-w.offsetTop-w.offsetHeight,at=Math.max(gt,et+(_e?Oe:0)+Se+se),wt=Ne+at;a.style.height=wt+"px"}else{const _e=D.length>0&&I===D[0].ref.current;a.style.top="0px";const at=Math.max(Ze,le+w.offsetTop+(_e?ve:0)+et)+tt;a.style.height=at+"px",w.scrollTop=Ne-Ze+w.offsetTop}a.style.margin=`${Mn}px 0`,a.style.minHeight=te+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[m,i.trigger,i.valueNode,a,u,w,I,E,i.dir,r]);Bt(()=>x(),[x]);const[k,O]=g.useState();Bt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(C=>{C&&T.current===!0&&(x(),v==null||v(),T.current=!1)},[x,v]);return f.jsx(v9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:L,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:f.jsx(ke.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QP.displayName=g9;var y9="SelectPopperPosition",Ag=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Mn,...i}=t,o=mh(n);return f.jsx(PP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ag.displayName=y9;var[v9,t_]=Da(qi,{}),Rg="SelectViewport",YP=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=di(Rg,n),o=t_(Rg,n),a=je(e,i.onViewportChange),l=g.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(hh.Slot,{scope:n,children:f.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const _=Math.abs(l.current-d.scrollTop);if(_>0){const T=window.innerHeight-Mn*2,w=parseFloat(h.style.minHeight),I=parseFloat(h.style.height),E=Math.max(w,I);if(E<T){const v=E+_,x=Math.min(T,v),k=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});YP.displayName=Rg;var XP="SelectGroup",[_9,w9]=Da(XP),E9=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jr();return f.jsx(_9,{scope:n,id:s,children:f.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});E9.displayName=XP;var JP="SelectLabel",ZP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=w9(JP,n);return f.jsx(ke.div,{id:s.id,...r,ref:e})});ZP.displayName=JP;var of="SelectItem",[x9,eb]=Da(of),tb=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ui(of,n),l=di(of,n),u=a.value===r,[d,h]=g.useState(i??""),[m,_]=g.useState(!1),T=je(e,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),w=jr(),I=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(x9,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:g.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:f.jsx(hh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(ke.div,{role:"option","aria-labelledby":w,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Ae(o.onFocus,()=>_(!0)),onBlur:Ae(o.onBlur,()=>_(!1)),onClick:Ae(o.onClick,()=>{I.current!=="mouse"&&E()}),onPointerUp:Ae(o.onPointerUp,()=>{I.current==="mouse"&&E()}),onPointerDown:Ae(o.onPointerDown,v=>{I.current=v.pointerType}),onPointerMove:Ae(o.onPointerMove,v=>{var x;I.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):I.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ae(o.onKeyDown,v=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(l9.includes(v.key)&&E(),v.key===" "&&v.preventDefault())})})})})});tb.displayName=of;var vl="SelectItemText",nb=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ui(vl,n),a=di(vl,n),l=eb(vl,n),u=f9(vl,n),[d,h]=g.useState(null),m=je(e,E=>h(E),l.onItemTextChange,E=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,E,l.value,l.disabled)}),_=d==null?void 0:d.textContent,T=g.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:_},l.value),[l.disabled,l.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:I}=u;return Bt(()=>(w(T),()=>I(T)),[w,I,T]),f.jsxs(f.Fragment,{children:[f.jsx(ke.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ma.createPortal(i.children,o.valueNode):null]})});nb.displayName=vl;var rb="SelectItemIndicator",sb=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return eb(rb,n).isSelected?f.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});sb.displayName=rb;var Pg="SelectScrollUpButton",ib=g.forwardRef((t,e)=>{const n=di(Pg,t.__scopeSelect),r=t_(Pg,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(ab,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});ib.displayName=Pg;var bg="SelectScrollDownButton",ob=g.forwardRef((t,e)=>{const n=di(bg,t.__scopeSelect),r=t_(bg,t.__scopeSelect),[s,i]=g.useState(!1),o=je(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(ab,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ob.displayName=bg;var ab=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=di("SelectScrollButton",n),o=g.useRef(null),a=ph(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Bt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ae(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ae(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ae(s.onPointerLeave,()=>{l()})})}),T9="SelectSeparator",lb=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});lb.displayName=T9;var kg="SelectArrow",S9=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mh(n),i=ui(kg,n),o=di(kg,n);return i.open&&o.position==="popper"?f.jsx(bP,{...s,...r,ref:e}):null});S9.displayName=kg;function cb(t){return t===""||t===void 0}var ub=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=je(e,s),o=wz(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),f.jsx(Zv,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});ub.displayName="BubbleSelect";function db(t){const e=Qr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function fb(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=I9(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function I9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var C9=FP,hb=$P,A9=zP,R9=WP,P9=HP,pb=qP,b9=YP,mb=ZP,gb=tb,k9=nb,N9=sb,yb=ib,vb=ob,_b=lb;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wb=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...O9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wb("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(V9,{ref:i,iconNode:e,className:wb(`lucide-${D9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Sn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Sn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Sn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Sn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Sn("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Sn("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Sn("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Sn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=Sn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wr=C9,Er=A9,Xn=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(hb,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(R9,{asChild:!0,children:f.jsx(n_,{className:"h-4 w-4 opacity-50"})})]}));Xn.displayName=hb.displayName;const Eb=g.forwardRef(({className:t,...e},n)=>f.jsx(yb,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(F9,{className:"h-4 w-4"})}));Eb.displayName=yb.displayName;const xb=g.forwardRef(({className:t,...e},n)=>f.jsx(vb,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(n_,{className:"h-4 w-4"})}));xb.displayName=vb.displayName;const Jn=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(P9,{children:f.jsxs(pb,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(Eb,{}),f.jsx(b9,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(xb,{})]})}));Jn.displayName=pb.displayName;const q9=g.forwardRef(({className:t,...e},n)=>f.jsx(mb,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));q9.displayName=mb.displayName;const Zn=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(gb,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(N9,{children:f.jsx(M9,{className:"h-4 w-4"})})}),f.jsx(k9,{children:e})]}));Zn.displayName=gb.displayName;const K9=g.forwardRef(({className:t,...e},n)=>f.jsx(_b,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));K9.displayName=_b.displayName;const Tb=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("panelThickness");n(s)}return f.jsx(_n,{control:t,name:"panelThickness",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Толщина панели:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e?e.map(i=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},i)):f.jsx("div",{className:"h-10 flex items-center justify-center",children:f.jsx(Vc,{className:"animate-spin",size:20})})})]})})})]})})},G9=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("coverThickness");n(s)}return f.jsx(_n,{control:t,name:"topThickness",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Толщина верхнего металла:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e?e.map(i=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},i)):f.jsx("div",{className:"h-10 flex items-center justify-center",children:f.jsx(Vc,{className:"animate-spin",size:20})})})]})})})]})})},Q9=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("coverThickness");n(s)}return f.jsx(_n,{control:t,name:"bottomThickness",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Толщина нижнего металла:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e?e.map((i,o)=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},o)):f.jsx("div",{className:"h-10 flex items-center justify-center",children:f.jsx(Vc,{className:"animate-spin",size:20})})})]})})})]})})},Sb=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("fillers");n(s)}return f.jsx(_n,{control:t,name:"filler",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Наполнитель:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.length>0?e.map(i=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},i)):f.jsx("div",{className:"h-10 flex items-center justify-center",children:f.jsx(Vc,{className:"animate-spin",size:20})})})]})})})]})})},Ib=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("types");n(s)}return f.jsx(_n,{control:t,name:"type",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Тип продукта:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.map(i=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},i))})]})})})]})})},Y9=({topPrice:t,bottomPrice:e,area:n,discount:r})=>{const[s]=Yi(),i=s.get("market")||"Местный",{exchangeRate:o}=ln(u=>u.exchangeRate),{formattedEndPrice:a,formattedTotalPriceWithDiscount:l}=v$(t,e,r,n,i,o);return f.jsx("div",{className:`${s.get("market")==="Местный"?"bg-[#0066B0]":"bg-primary"} rounded-lg`,children:f.jsxs("ul",{className:"flex flex-col justify-between p-2 text-white",children:[f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"Цена:"}),f.jsx("span",{children:a})]}),f.jsxs("li",{className:"flex justify-between",children:[f.jsx("span",{children:"Общая стоимость:"}),f.jsx("span",{children:l})]})]})})};function X9(){const[t]=Yi(),[e,n]=g.useState(0),[r,s]=g.useState(0),{groupId:i,forms:o}=ln(x=>x.form),{user:a}=ln(x=>x.auth),l=ba(),u=Uy({defaultValues:{type:"Стеновые",panelThickness:"50 MM",topThickness:"0.35 MM",bottomThickness:"0.35 MM",filler:"Базальт",area:300,discount:0}});async function d(x){const k=o.length>0,O={formId:HB(),...x,price:`${(e+r)/2}`};let L="";i?L=i:(L=Date.now().toString(),l(UB(L)));try{l(Np(!0));const C=ts(Gt,"forms",L);k?await Dv(C,{forms:L4(O)}):await vR(C,{userId:a==null?void 0:a.uid,forms:[O],market:t.get("market")||"Местный"}),l(LB(O)),l(Np(!1))}catch(C){console.error("Error adding form",C),l(Np(!1))}}const h=u.watch("type"),m=u.watch("panelThickness"),_=u.watch("topThickness"),T=u.watch("bottomThickness"),w=u.watch("filler"),I=u.watch("area"),E=u.watch("discount");g.useEffect(()=>{v()},[h,m,_,T,w]);async function v(){var R,b;const x=uc(Ui(Gt,"prices"),fn("type","==",h),fn("panelThickness","==",m),fn("coverThickness","==",_),fn("filler","==",w)),k=await la(x),O=Number((R=k.docs[0])==null?void 0:R.data().price),L=uc(Ui(Gt,"prices"),fn("type","==",h),fn("panelThickness","==",m),fn("coverThickness","==",T),fn("filler","==",w)),C=await la(L),S=Number((b=C.docs[0])==null?void 0:b.data().price);n(O),s(S)}return f.jsx(Mv,{className:"px-3 py-5 mt-3 shadow-lg",children:f.jsx(Vv,{...u,children:f.jsxs("form",{className:"space-y-4",onSubmit:u.handleSubmit(d),children:[f.jsx(Ib,{control:u.control}),f.jsx(Tb,{control:u.control}),f.jsx(G9,{control:u.control}),f.jsx(Q9,{control:u.control}),f.jsx(Sb,{control:u.control}),f.jsx(_n,{control:u.control,name:"area",render:({field:x})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Общий объём (м2):"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsx($i,{...x,className:"md:!text-lg",type:"number",min:1})})})]})}),f.jsx(_n,{control:u.control,name:"discount",render:({field:x})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Скидка (%):"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsx($i,{...x,className:"md:!text-lg",type:"number",value:x.value||"Введите скидку...",min:0})})})]})}),f.jsx(Y9,{topPrice:e,bottomPrice:r,area:I,discount:E}),f.jsx(J$,{})]})})})}const fs=({label:t,value:e})=>f.jsxs("li",{className:"flex justify-between py-1 whitespace-nowrap",children:[f.jsx("span",{className:"text-slate-700 whitespace-nowrap",children:t}),f.jsx("span",{className:"font-semibold whitespace-nowrap",children:e})]});function J9(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Oa=t=>{const{present:e,children:n}=t,r=Z9(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=je(r.ref,e6(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Oa.displayName="Presence";function Z9(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=J9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Pu(r.current);i.current=a==="mounted"?u:"none"},[a]),Bt(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,_=Pu(u);t?l("MOUNT"):_==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Bt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=_=>{const w=Pu(r.current).includes(_.animationName);if(_.target===e&&w&&(l("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},m=_=>{_.target===e&&(i.current=Pu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Pu(t){return(t==null?void 0:t.animationName)||"none"}function e6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var[gh,eW]=ci("Tooltip",[dh]),yh=dh(),Cb="TooltipProvider",t6=700,Ng="tooltip.open",[n6,s_]=gh(Cb),Ab=t=>{const{__scopeTooltip:e,delayDuration:n=t6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),f.jsx(n6,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Ab.displayName=Cb;var vh="Tooltip",[r6,_h]=gh(vh),Rb=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=s_(vh,t.__scopeTooltip),u=yh(e),[d,h]=g.useState(null),m=jr(),_=g.useRef(0),T=o??l.disableHoverableContent,w=a??l.delayDuration,I=g.useRef(!1),[E=!1,v]=Hi({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ng))):l.onClose(),i==null||i(C)}}),x=g.useMemo(()=>E?I.current?"delayed-open":"instant-open":"closed",[E]),k=g.useCallback(()=>{window.clearTimeout(_.current),_.current=0,I.current=!1,v(!0)},[v]),O=g.useCallback(()=>{window.clearTimeout(_.current),_.current=0,v(!1)},[v]),L=g.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{I.current=!0,v(!0),_.current=0},w)},[w,v]);return g.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),f.jsx(AP,{...u,children:f.jsx(r6,{scope:e,contentId:m,open:E,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayed?L():k()},[l.isOpenDelayed,L,k]),onTriggerLeave:g.useCallback(()=>{T?O():(window.clearTimeout(_.current),_.current=0)},[O,T]),onOpen:k,onClose:O,disableHoverableContent:T,children:n})})};Rb.displayName=vh;var Dg="TooltipTrigger",Pb=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_h(Dg,n),i=s_(Dg,n),o=yh(n),a=g.useRef(null),l=je(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(RP,{asChild:!0,...o,children:f.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ae(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ae(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ae(t.onBlur,s.onClose),onClick:Ae(t.onClick,s.onClose)})})});Pb.displayName=Dg;var s6="TooltipPortal",[tW,i6]=gh(s6,{forceMount:void 0}),da="TooltipContent",i_=g.forwardRef((t,e)=>{const n=i6(da,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=_h(da,t.__scopeTooltip);return f.jsx(Oa,{present:r||o.open,children:o.disableHoverableContent?f.jsx(bb,{side:s,...i,ref:e}):f.jsx(o6,{side:s,...i,ref:e})})}),o6=g.forwardRef((t,e)=>{const n=_h(da,t.__scopeTooltip),r=s_(da,t.__scopeTooltip),s=g.useRef(null),i=je(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=g.useCallback(()=>{a(null),h(!1)},[h]),_=g.useCallback((T,w)=>{const I=T.currentTarget,E={x:T.clientX,y:T.clientY},v=u6(E,I.getBoundingClientRect()),x=d6(E,v),k=f6(w.getBoundingClientRect()),O=p6([...x,...k]);a(O),h(!0)},[h]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(l&&d){const T=I=>_(I,d),w=I=>_(I,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",w)}}},[l,d,_,m]),g.useEffect(()=>{if(o){const T=w=>{const I=w.target,E={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(I))||(d==null?void 0:d.contains(I)),x=!h6(E,o);v?m():x&&(m(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,m]),f.jsx(bb,{...t,ref:i})}),[a6,l6]=gh(vh,{isInside:!1}),bb=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=_h(da,n),u=yh(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(Ng,d),()=>document.removeEventListener(Ng,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=m=>{const _=m.target;_!=null&&_.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(ah,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(PP,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx($y,{children:r}),f.jsx(a6,{scope:n,isInside:!0,children:f.jsx(xz,{id:l.contentId,role:"tooltip",children:s||r})})]})})});i_.displayName=da;var kb="TooltipArrow",c6=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=yh(n);return l6(kb,n).isInside?null:f.jsx(bP,{...s,...r,ref:e})});c6.displayName=kb;function u6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function d6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function f6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function h6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function p6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),m6(e)}function m6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var g6=Rb,Nb=i_;const y6=g6,v6=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(Nb,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));v6.displayName=Nb.displayName;const _6=({item:t})=>{const[e]=Yi(),{groupId:n}=ln(a=>a.form),{user:r}=ln(a=>a.auth),s=ba(),i=g.useRef(null);async function o(a){var l;if((l=i.current)==null||l.classList.add("animate-slide-fade-out"),setTimeout(()=>{s(jB(a))},500),n){const u=ts(Gt,"forms",n),h=(await Zf(u)).data(),m=h==null?void 0:h.forms.filter(_=>_.formId!==a);m.length===0?await vR(u,{userId:r==null?void 0:r.uid,forms:[],market:e.get("market")||"Местный"}):await Dv(u,{forms:m})}}return f.jsxs("li",{ref:i,className:"py-3 px-2 rounded-lg border animate-slide-fade-in shadow-md",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[f.jsxs("ul",{className:"md:w-1/2 md:pr-2",children:[f.jsx(fs,{label:"Тип продукта:",value:t.type}),f.jsx(fs,{label:"Общий объём (м2):",value:String(t.area)}),f.jsx(fs,{label:"Скидка (%):",value:String(t.discount)}),f.jsx(fs,{label:"Цена:",value:String(t.discount)})]}),f.jsxs("ul",{className:"md:w-1/2 md:pl-2",children:[f.jsx(fs,{label:"Наполнитель:",value:t.filler}),f.jsx(fs,{label:"Толщина панели:",value:t.panelThickness}),f.jsx(fs,{label:"Толщина верхнего металла:",value:t.topThickness}),f.jsx(fs,{label:"Толщина нижнего металла:",value:t.bottomThickness})]})]}),f.jsxs("div",{className:`flex justify-between items-center py-1 px-2 md:px-4 rounded-lg mt-4 gap-4 ${e.get("market")==="Местный"?"bg-[#0066B0]":"bg-primary"}`,children:[f.jsxs("h3",{className:"flex-1 flex justify-between md:text-xl text-white",children:[f.jsx("span",{children:"Общая стоимость:"}),f.jsx("span",{children:"USZ 0"})]}),f.jsx("div",{className:"md:flex-1 text-right",children:f.jsx(Ab,{children:f.jsxs(y6,{children:[f.jsx(Pb,{asChild:!0,children:f.jsx(At,{className:"w-8 h-8 md:w-10 md:h-10 p-2 border transition-all hover:scale-110 hover:shadow-lg",variant:"link",onClick:()=>o(t.formId),children:f.jsx("img",{src:"/trash.svg",alt:"trash can"})})}),f.jsx(i_,{sideOffset:5,className:"py-1 px-3 rounded-md shadow-md bg-[#0066B0] text-white",children:f.jsx("p",{children:"Удалить"})})]})})})]})]})};function Cs({className:t,...e}){return f.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",t),...e})}const zp=()=>f.jsxs("div",{className:"flex flex-col space-y-3 mb-2",children:[f.jsx(Cs,{className:"h-48 rounded-xl"}),f.jsx("div",{className:"space-y-2",children:f.jsx(Cs,{className:"h-10"})})]}),w6=()=>{const{forms:t,isFetching:e,isLoading:n}=ln(r=>r.form);return f.jsx("section",{className:"flex-[1.5] overflow-y-scroll",children:e?f.jsxs(f.Fragment,{children:[f.jsx(zp,{}),f.jsx(zp,{}),f.jsx(zp,{})]}):t.length>0?f.jsx("ul",{className:`flex flex-col gap-5 ${n&&"animate-pulse"}`,children:t.map(r=>f.jsx(_6,{item:r},r.formId))}):f.jsx("h2",{className:"text-center text-2xl text-slate-800 font-semibold",children:"No data found"})})};function nT({src:t,market:e}){const[n,r]=Yi(),{groupId:s}=ln(a=>a.form),i=ba();async function o(){if(r({market:e}),i(eP()),s){const a=ts(Gt,"forms",s);await _R(a)}}return f.jsx("button",{className:`flex-1 flex items-center justify-between text-white md:text-xl py-2 px-2 md:px-3 xl:px-4 transition-all rounded-md select-none ${e==="Местный"?"bg-[#006bb0]":"bg-primary"} ${n.get("market")===e?"opacity-100 shadow-xl cursor-default":"opacity-70 shadow-sm cursor-pointer hover:opacity-90 "}`,onClick:o,children:f.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[f.jsx("img",{src:t,alt:"icon",width:24,height:24}),f.jsx("span",{className:"font-semibold",children:e})]})})}const E6=()=>f.jsxs("div",{className:"flex gap-2 md:gap-4",children:[f.jsx(nT,{src:"/pin.svg",market:"Местный"}),f.jsx(nT,{src:"/globe.svg",market:"Иностранный"})]}),wh=({children:t,className:e})=>f.jsx("div",{className:`${e} mx-auto max-w-7xl px-5`,children:t}),x6={exchangeRate:13e3},Db=$v({name:"exchangeRate",initialState:x6,reducers:{setExchangeRate:(t,e)=>{t.exchangeRate=e.payload}}}),T6=Db.reducer,{setExchangeRate:S6}=Db.actions,I6=()=>{const{groupId:t}=ln(i=>i.form),e=ba(),[n,r]=Yi();g.useEffect(()=>{s();async function i(){const a=await y$();e(S6(a))}i();const o=setInterval(i,2*60*60*1e3);return()=>clearInterval(o)},[]);async function s(){var i,o;if(t)try{e(Tu(!0));const a=ts(Gt,"forms",t),l=await Zf(a),u=await((i=l.data())==null?void 0:i.forms);u&&(e(FB(u)),r({market:(o=l.data())==null?void 0:o.market})),e(Tu(!1))}catch(a){console.log(a),e(Tu(!1))}finally{e(Tu(!1))}n.get("market")||r({market:"Местный"})}return f.jsxs(wh,{className:"py-6 max-w-3xl flex flex-col gap-10 lg:gap-5 lg:flex-row lg:h-[calc(100svh-100px)]",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(E6,{}),f.jsx(X9,{})]}),f.jsx(w6,{})]})},C6={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null},Ob=$v({name:"auth",initialState:C6,reducers:{SET_ACTIVE_USER:(t,e)=>{t.user=e.payload,localStorage.setItem("user",JSON.stringify(e.payload))},REMOVE_ACTIVE_USER:t=>{t.user=null,localStorage.removeItem("user")}}}),{SET_ACTIVE_USER:A6,REMOVE_ACTIVE_USER:R6}=Ob.actions,P6=Ob.reducer;function b6({className:t,...e}){const[n,r]=g.useState({email:"",password:""}),[s,i]=g.useState(!1),[o,a]=g.useState(!1),l=va(),u=ba();async function d(h){h.preventDefault(),i(!1);try{a(!0);const _=(await cL(ER,n.email,n.password)).user.uid,T=await Zf(ts(Gt,"users",_));if(T.exists()){const w={...T.data()};u(A6(w))}l("/",{replace:!0}),a(!1)}catch(m){console.log(m),i(!0)}finally{a(!1)}}return f.jsx("div",{className:oe("flex flex-col gap-6",t),...e,children:f.jsxs(Mv,{children:[f.jsxs(OR,{children:[f.jsx(VR,{className:"text-2xl",children:"Login"}),f.jsx(MR,{children:"Enter your email below to login to your account"})]}),f.jsx(LR,{children:f.jsx("form",{onSubmit:d,children:f.jsxs("div",{className:"flex flex-col gap-6 pb-4 relative",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(dc,{htmlFor:"email",children:"Email"}),f.jsx($i,{id:"email",type:"email",placeholder:"furniture@google.com",required:!0,name:"email",onChange:h=>r({...n,email:h.target.value}),value:n.email})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(dc,{htmlFor:"password",children:"Password"})}),f.jsx($i,{id:"password",type:"password",required:!0,name:"password",onChange:h=>r({...n,password:h.target.value}),value:n.password})]}),f.jsx(At,{type:"submit",className:"w-full mt-1",children:o?"Logging in...":"Login"}),s&&f.jsx("p",{className:"absolute text-red-500 text-sm left-1/2 -translate-x-1/2 top-[98%]",children:"Wrong credentials"})]})})})]})})}const k6=()=>{const{user:t}=ln(e=>e.auth);return t?f.jsx(Lm,{to:"/",replace:!0}):f.jsx("div",{className:"flex min-h-[calc(100svh-200px)] w-full items-center justify-center p-6",children:f.jsx("div",{className:"w-full max-w-sm",children:f.jsx(b6,{})})})},N6=()=>{const{user:t}=ln(o=>o.auth),{exchangeRate:e}=ln(o=>o.exchangeRate),n=ba(),r=va(),s=ii();async function i(){await fL(ER),n(R6()),n(eP()),r("/login")}return f.jsx("header",{children:f.jsxs(wh,{children:[f.jsxs("div",{className:"flex items-center gap-2 bg-[#A6AEBF] py-1 px-3 rounded-lg mb-1",children:[f.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[f.jsx("img",{src:"/headset.svg",alt:"headset",className:"w-4 h-4"}),f.jsx("span",{className:"text-[12px] font-semibold text-white tracking-wide",children:t==null?void 0:t.fName})]}),f.jsx("span",{className:"text-[10px] text-white uppercase font-semibold tracking-widest  border-r pr-2",children:t==null?void 0:t.role}),f.jsx("span",{className:"text-[11px] text-white",children:t==null?void 0:t.phone}),f.jsxs("span",{className:"ml-auto text-[12px] text-white tracking-wide",children:[f.jsx("strong",{children:"1USD:"})," ",mg(e,"Местный")]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-[rgb(0,102,176)]",children:[f.jsx("h1",{className:"text-2xl text-white font-semibold",children:"Simple Steps"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{children:[(t==null?void 0:t.role)==="admin"&&f.jsx(bi,{to:"/dashboard",children:f.jsx(At,{variant:"link",className:`${s.pathname.includes("dashboard")&&"underline"} text-white`,children:"Dashboard"})}),f.jsx(bi,{to:"/",children:f.jsx(At,{variant:"link",className:`${s.pathname==="/"&&"underline"} text-white`,children:"Калькулятор"})}),f.jsx(bi,{to:"/history",children:f.jsx(At,{variant:"link",className:`${s.pathname==="/history"&&"underline"} text-white`,children:"История"})})]}),t&&f.jsxs(At,{onClick:i,variant:"outline",children:[f.jsx("span",{children:"Выйти"}),f.jsx($9,{})]})]})]})]})})},D6=()=>f.jsxs("div",{children:[f.jsx(N6,{}),f.jsx(Oy,{})]}),O6=[{name:"Характеристики",href:"/dashboard"},{name:"Прайсы",href:"/dashboard/prices"},{name:"Предложении",href:"/dashboard/offers"}],V6=()=>{const t=ii();return f.jsx("aside",{className:"flex-1 max-w-[280px] border py-4 px-2 rounded-lg",children:f.jsx("ul",{className:"flex flex-col gap-1",children:O6.map(e=>f.jsx("li",{children:f.jsx(bi,{to:e.href,className:`block py-2 px-3 rounded-md text-lg font-semibold text-slate-700 transition-all hover:bg-[#F2F3F6] hover:text-slate-900 ${t.pathname===e.href?"bg-[#F2F3F6] text-slate-900":""}`,children:e.name})},e.name))})})},M6=()=>f.jsxs(wh,{className:"flex gap-3 mt-3 px-0 h-[calc(100svh-120px)]",children:[f.jsx(V6,{}),f.jsx("main",{className:"flex-[3] border rounded-lg py-4 px-2 h-full ",children:f.jsx(Oy,{})})]}),o_=({content:t,className:e})=>f.jsx("h2",{className:`${e} text-xl text-slate-800 font-semibold`,children:t}),Vb=({className:t,...e})=>f.jsx("nav",{role:"navigation","aria-label":"pagination",className:oe("mx-auto flex w-full justify-center",t),...e});Vb.displayName="Pagination";const Mb=g.forwardRef(({className:t,...e},n)=>f.jsx("ul",{ref:n,className:oe("flex flex-row items-center gap-1",t),...e}));Mb.displayName="PaginationContent";const nd=g.forwardRef(({className:t,...e},n)=>f.jsx("li",{ref:n,className:oe("",t),...e}));nd.displayName="PaginationItem";const Eh=({className:t,isActive:e,size:n="icon",...r})=>f.jsx("a",{"aria-current":e?"page":void 0,className:oe(nh({variant:e?"outline":"ghost",size:n}),t),...r});Eh.displayName="PaginationLink";const Lb=({className:t,...e})=>f.jsxs(Eh,{"aria-label":"Go to previous page",size:"default",className:oe("gap-1 pl-2.5",t),...e,children:[f.jsx(L9,{className:"h-4 w-4"}),f.jsx("span",{children:"Previous"})]});Lb.displayName="PaginationPrevious";const jb=({className:t,...e})=>f.jsxs(Eh,{"aria-label":"Go to next page",size:"default",className:oe("gap-1 pr-2.5",t),...e,children:[f.jsx("span",{children:"Next"}),f.jsx(j9,{className:"h-4 w-4"})]});jb.displayName="PaginationNext";const L6=({totalPages:t})=>{const[e,n]=Yi(),r=Number(e.get("page"))||1;function s(i){i<1||i>t||n({page:i.toString()})}return f.jsx(Vb,{className:"mt-auto",children:f.jsxs(Mb,{children:[f.jsx(nd,{children:f.jsx(Lb,{onClick:()=>s(r-1),isActive:r!==1})}),Array.from({length:t},(i,o)=>o+1).map((i,o)=>f.jsx(nd,{children:f.jsx(Eh,{href:`?page=${o+1}`,isActive:r===o+1,onClick:a=>{a.preventDefault(),s(o+1)},children:o+1})},o)),f.jsx(nd,{children:f.jsx(jb,{onClick:()=>s(r+1),isActive:r!==t})})]})})},j6=()=>f.jsxs("div",{className:"flex flex-col space-y-3 mb-2",children:[f.jsx(Cs,{className:"h-10"}),f.jsx("div",{className:"space-y-2",children:f.jsx(Cs,{className:"h-[500px] rounded-xl"})})]});var a_="Dialog",[Fb,Ub]=ci(a_),[F6,er]=Fb(a_),$b=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=Hi({prop:r,defaultProp:s,onChange:i});return f.jsx(F6,{scope:e,triggerRef:a,contentRef:l,contentId:jr(),titleId:jr(),descriptionId:jr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};$b.displayName=a_;var Bb="DialogTrigger",zb=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(Bb,n),i=je(e,s.triggerRef);return f.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":u_(s.open),...r,ref:i,onClick:Ae(t.onClick,s.onOpenToggle)})});zb.displayName=Bb;var l_="DialogPortal",[U6,Wb]=Fb(l_,{forceMount:void 0}),Hb=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=er(l_,e);return f.jsx(U6,{scope:e,forceMount:n,children:g.Children.map(r,o=>f.jsx(Oa,{present:n||i.open,children:f.jsx(Jv,{asChild:!0,container:s,children:o})}))})};Hb.displayName=l_;var af="DialogOverlay",qb=g.forwardRef((t,e)=>{const n=Wb(af,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=er(af,t.__scopeDialog);return i.modal?f.jsx(Oa,{present:r||i.open,children:f.jsx($6,{...s,ref:e})}):null});qb.displayName=af;var $6=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(af,n);return f.jsx(e_,{as:Ws,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(ke.div,{"data-state":u_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",Kb=g.forwardRef((t,e)=>{const n=Wb(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=er(Ki,t.__scopeDialog);return f.jsx(Oa,{present:r||i.open,children:i.modal?f.jsx(B6,{...s,ref:e}):f.jsx(z6,{...s,ref:e})})});Kb.displayName=Ki;var B6=g.forwardRef((t,e)=>{const n=er(Ki,t.__scopeDialog),r=g.useRef(null),s=je(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return NP(i)},[]),f.jsx(Gb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault())})}),z6=g.forwardRef((t,e)=>{const n=er(Ki,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return f.jsx(Gb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Gb=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=er(Ki,n),l=g.useRef(null),u=je(e,l);return iP(),f.jsxs(f.Fragment,{children:[f.jsx(Bv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(ah,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":u_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(H6,{titleId:a.titleId}),f.jsx(K6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),c_="DialogTitle",Qb=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(c_,n);return f.jsx(ke.h2,{id:s.titleId,...r,ref:e})});Qb.displayName=c_;var Yb="DialogDescription",Xb=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(Yb,n);return f.jsx(ke.p,{id:s.descriptionId,...r,ref:e})});Xb.displayName=Yb;var Jb="DialogClose",Zb=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=er(Jb,n);return f.jsx(ke.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});Zb.displayName=Jb;function u_(t){return t?"open":"closed"}var ek="DialogTitleWarning",[W6,tk]=qB(ek,{contentName:Ki,titleName:c_,docsSlug:"dialog"}),H6=({titleId:t})=>{const e=tk(ek),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},q6="DialogDescriptionWarning",K6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tk(q6).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},nk=$b,rk=zb,sk=Hb,d_=qb,f_=Kb,h_=Qb,p_=Xb,m_=Zb;const ik=nk,ok=rk,G6=sk,ak=g.forwardRef(({className:t,...e},n)=>f.jsx(d_,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ak.displayName=d_.displayName;const g_=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(G6,{children:[f.jsx(ak,{}),f.jsxs(f_,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(m_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(H9,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));g_.displayName=f_.displayName;const y_=({className:t,...e})=>f.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});y_.displayName="DialogHeader";const lk=({className:t,...e})=>f.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});lk.displayName="DialogFooter";const v_=g.forwardRef(({className:t,...e},n)=>f.jsx(h_,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));v_.displayName=h_.displayName;const __=g.forwardRef(({className:t,...e},n)=>f.jsx(p_,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));__.displayName=p_.displayName;const Q6=({price:t,openModal:e,setOpenModal:n,setPrices:r})=>{const[s,i]=g.useState(""),[o,a]=g.useState(!1);async function l(){try{a(!0),await Dv(ts(Gt,"prices",t.id),{price:s}),r(u=>u.map(d=>d.id===t.id?{...d,price:s}:d)),a(!1),n(!1)}catch(u){console.log(u),a(!1)}}return f.jsxs(ik,{open:e,onOpenChange:n,children:[f.jsx(ok,{asChild:!0,children:f.jsx(At,{className:"rounded-tr-none rounded-br-none bg-[#F0AD4E] hover:bg-[#F0AD4E]/90",children:f.jsx(B9,{})})}),f.jsxs(g_,{className:"sm:max-w-[425px]",children:[f.jsxs(y_,{children:[f.jsx(v_,{children:"Редактировать"}),f.jsxs(__,{children:[f.jsx("span",{children:"После редактирования старая цена будет заменена на новую"}),f.jsx("br",{}),f.jsxs("strong",{children:[t.type," / ",t.panelThickness," / ",t.coverThickness," /"," ",t.filler]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(dc,{htmlFor:"name",className:"text-right flex-1",children:"Цена (USZ):"}),f.jsx($i,{id:"name",defaultValue:t.price,className:"flex-[3]",type:"number",required:!0,onChange:u=>i(u.target.value)})]}),f.jsx(lk,{children:f.jsx(At,{type:"submit",onClick:l,children:o?"Загрузка...":"Обновить"})})]})]})};var ck="AlertDialog",[Y6,nW]=ci(ck,[Ub]),ns=Ub(),uk=t=>{const{__scopeAlertDialog:e,...n}=t,r=ns(e);return f.jsx(nk,{...r,...n,modal:!0})};uk.displayName=ck;var X6="AlertDialogTrigger",dk=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return f.jsx(rk,{...s,...r,ref:e})});dk.displayName=X6;var J6="AlertDialogPortal",fk=t=>{const{__scopeAlertDialog:e,...n}=t,r=ns(e);return f.jsx(sk,{...r,...n})};fk.displayName=J6;var Z6="AlertDialogOverlay",hk=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return f.jsx(d_,{...s,...r,ref:e})});hk.displayName=Z6;var Wo="AlertDialogContent",[e5,t5]=Y6(Wo),pk=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ns(n),o=g.useRef(null),a=je(e,o),l=g.useRef(null);return f.jsx(W6,{contentName:Wo,titleName:mk,docsSlug:"alert-dialog",children:f.jsx(e5,{scope:n,cancelRef:l,children:f.jsxs(f_,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Ae(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[f.jsx($y,{children:r}),f.jsx(r5,{contentRef:o})]})})})});pk.displayName=Wo;var mk="AlertDialogTitle",gk=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return f.jsx(h_,{...s,...r,ref:e})});gk.displayName=mk;var yk="AlertDialogDescription",vk=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return f.jsx(p_,{...s,...r,ref:e})});vk.displayName=yk;var n5="AlertDialogAction",_k=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return f.jsx(m_,{...s,...r,ref:e})});_k.displayName=n5;var wk="AlertDialogCancel",Ek=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=t5(wk,n),i=ns(n),o=je(e,s);return f.jsx(m_,{...i,...r,ref:o})});Ek.displayName=wk;var r5=({contentRef:t})=>{const e=`\`${Wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wo}\` by passing a \`${yk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},s5=uk,i5=dk,o5=fk,xk=hk,Tk=pk,Sk=_k,Ik=Ek,Ck=gk,Ak=vk;const a5=s5,l5=i5,c5=o5,Rk=g.forwardRef(({className:t,...e},n)=>f.jsx(xk,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Rk.displayName=xk.displayName;const Pk=g.forwardRef(({className:t,...e},n)=>f.jsxs(c5,{children:[f.jsx(Rk,{}),f.jsx(Tk,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Pk.displayName=Tk.displayName;const bk=({className:t,...e})=>f.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});bk.displayName="AlertDialogHeader";const kk=({className:t,...e})=>f.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kk.displayName="AlertDialogFooter";const Nk=g.forwardRef(({className:t,...e},n)=>f.jsx(Ck,{ref:n,className:oe("text-lg font-semibold",t),...e}));Nk.displayName=Ck.displayName;const Dk=g.forwardRef(({className:t,...e},n)=>f.jsx(Ak,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));Dk.displayName=Ak.displayName;const Ok=g.forwardRef(({className:t,...e},n)=>f.jsx(Sk,{ref:n,className:oe(nh(),t),...e}));Ok.displayName=Sk.displayName;const Vk=g.forwardRef(({className:t,...e},n)=>f.jsx(Ik,{ref:n,className:oe(nh({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Vk.displayName=Ik.displayName;const u5=({priceId:t,setPrices:e})=>{async function n(r){try{await _R(ts(Gt,"prices",r)),e(s=>s.filter(i=>i.id!==r))}catch(s){console.log(s)}}return f.jsxs(a5,{children:[f.jsx(l5,{asChild:!0,children:f.jsx(At,{className:"rounded-tl-none rounded-bl-none",children:f.jsx(W9,{})})}),f.jsxs(Pk,{children:[f.jsxs(bk,{children:[f.jsx(Nk,{children:"Вы действительно хотите удалить эту цену?"}),f.jsx(Dk,{children:"Это действие необратимо."})]}),f.jsxs(kk,{children:[f.jsx(Vk,{children:"Отменить"}),f.jsx(Ok,{onClick:()=>n(t),children:"Удалить"})]})]})]})},d5=({price:t,setPrices:e})=>{const[n,r]=g.useState(!1);return f.jsxs("div",{className:"flex justify-end",children:[f.jsx(Q6,{price:t,openModal:n,setOpenModal:r,setPrices:e}),f.jsx(u5,{priceId:t.id,setPrices:e})]})},Mk=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",t),...e})}));Mk.displayName="Table";const Lk=g.forwardRef(({className:t,...e},n)=>f.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",t),...e}));Lk.displayName="TableHeader";const jk=g.forwardRef(({className:t,...e},n)=>f.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",t),...e}));jk.displayName="TableBody";const f5=g.forwardRef(({className:t,...e},n)=>f.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));f5.displayName="TableFooter";const Og=g.forwardRef(({className:t,...e},n)=>f.jsx("tr",{ref:n,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Og.displayName="TableRow";const Ei=g.forwardRef(({className:t,...e},n)=>f.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ei.displayName="TableHead";const xi=g.forwardRef(({className:t,...e},n)=>f.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));xi.displayName="TableCell";const h5=g.forwardRef(({className:t,...e},n)=>f.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",t),...e}));h5.displayName="TableCaption";const p5=({prices:t,setPrices:e,allPrices:n,setAllPrices:r})=>{const[s,i]=g.useState(1),[o]=Yi(),a=Number(o.get("page"))||1;g.useEffect(()=>{const u=(a-1)*10,d=u+10;i(Math.ceil(n.length/10)),e(n.slice(u,d))},[a,n]);async function l(){try{const u=uc(Ui(Gt,"prices"),hR("type")),h=(await la(u)).docs.map(m=>({id:m.id,...m.data()}));r(h)}catch(u){console.log(u)}}return g.useEffect(()=>{n.length===0&&l()},[n]),f.jsxs("div",{className:"flex-1 flex flex-col",children:[t.length>0?f.jsxs(Mk,{children:[f.jsx(Lk,{children:f.jsxs(Og,{children:[f.jsx(Ei,{className:"",children:"Тип продукта"}),f.jsx(Ei,{children:"Толщина панели"}),f.jsx(Ei,{children:"Толщина металла"}),f.jsx(Ei,{children:"Наполнитель"}),f.jsx(Ei,{children:"Цена"}),f.jsx(Ei,{className:"text-right",children:"Действия"})]})}),f.jsx(jk,{children:t.map(u=>f.jsxs(Og,{className:"group",children:[f.jsx(xi,{className:"py-1",children:u.type}),f.jsx(xi,{className:"py-1",children:u.panelThickness}),f.jsx(xi,{className:"py-1",children:u.coverThickness}),f.jsx(xi,{className:"py-1",children:u.filler}),f.jsx(xi,{className:"py-1",children:u.price}),f.jsx(xi,{className:"opacity-0 group-hover:opacity-100 transition-all py-1",children:f.jsx(d5,{price:u,setPrices:e})})]},u.id))})]}):f.jsx(j6,{}),f.jsx(L6,{totalPages:s})]})},m5=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("coverThickness");n(s)}return f.jsx(_n,{control:t,name:"coverThickness",render:({field:s})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Толщина металла:"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"md:text-lg",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e?e.map(i=>f.jsx(Zn,{value:i,className:"md:text-lg",children:i},i)):f.jsx("div",{className:"h-10 flex items-center justify-center",children:f.jsx(Vc,{className:"animate-spin",size:20})})})]})})})]})})},g5=({setOpenModal:t,setPrices:e})=>{const[n,r]=g.useState(!1),s=Uy({defaultValues:{type:"Стеновые",panelThickness:"50 MM",coverThickness:"0.35 MM",filler:"Базальт",price:""}});async function i(o){r(!0);try{await V4(Ui(Gt,"prices"),o),e(a=>[...a,o])}catch(a){console.log(a)}r(!1),t(!1)}return f.jsx(Vv,{...s,children:f.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[f.jsx(Ib,{control:s.control}),f.jsx(Tb,{control:s.control}),f.jsx(m5,{control:s.control}),f.jsx(Sb,{control:s.control}),f.jsx(_n,{control:s.control,name:"price",render:({field:o})=>f.jsxs(an,{className:"flex items-center gap-4",children:[f.jsx(Gr,{content:"Цена (USZ):"}),f.jsx("div",{className:"flex-1",children:f.jsx(qe,{children:f.jsx($i,{...o,className:"md:!text-lg",type:"number",required:!0})})})]})}),f.jsx("hr",{}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx(At,{type:"button",className:"w-full",variant:"outline",onClick:()=>t(!1),children:"Отменить"}),f.jsx(At,{type:"submit",className:"w-full",children:n?"Загрузка...":"Добавить"})]})]})})},y5=({setPrices:t})=>{const[e,n]=g.useState(!1);return f.jsxs(ik,{open:e,onOpenChange:n,children:[f.jsx(ok,{asChild:!0,children:f.jsxs(At,{className:"bg-[#0066B0]",children:[f.jsx(U9,{}),f.jsx("span",{children:"Добавить"})]})}),f.jsxs(g_,{className:"max-w-[465px]",children:[f.jsxs(y_,{children:[f.jsx(v_,{className:"text-xl md:text-2xl",children:"Добавить цену"}),f.jsx(__,{children:"Заполните поля для добавления новой цены"})]}),f.jsx(g5,{setOpenModal:n,setPrices:t})]})]})},v5=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("types");n(s)}return f.jsx(_n,{control:t,name:"type",render:({field:s})=>f.jsxs(an,{className:"flex flex-col",children:[f.jsx(Pa,{className:"text-[12px] text-slate-600",children:"Тип продукта"}),f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"min-w-[130px]",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.map(i=>f.jsx(Zn,{value:i,children:i},i))})]})})]})})},_5=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("panelThickness");n(s)}return f.jsx(_n,{control:t,name:"panelThickness",render:({field:s})=>f.jsxs(an,{className:"flex flex-col",children:[f.jsx(Pa,{className:"text-[12px] text-slate-600",children:"Толщина панели:"}),f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"min-w-[130px]",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.map(i=>f.jsx(Zn,{value:i,children:i},i))})]})})]})})},w5=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("coverThickness");n(s)}return f.jsx(_n,{control:t,name:"coverThickness",render:({field:s})=>f.jsxs(an,{className:"flex flex-col",children:[f.jsx(Pa,{className:"text-[12px] text-slate-600",children:"Толщина металла:"}),f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"min-w-[130px]",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.map(i=>f.jsx(Zn,{value:i,children:i},i))})]})})]})})},E5=({control:t})=>{const[e,n]=g.useState([]);g.useEffect(()=>{r()},[]);async function r(){const s=await vr("fillers");n(s)}return f.jsx(_n,{control:t,name:"filler",render:({field:s})=>f.jsxs(an,{className:"flex flex-col",children:[f.jsx(Pa,{className:"text-[12px] text-slate-600",children:"Наполнитель"}),f.jsx(qe,{children:f.jsxs(wr,{onValueChange:s.onChange,children:[f.jsx(qe,{children:f.jsx(Xn,{className:"min-w-[130px]",children:f.jsx(Er,{placeholder:s.value})})}),f.jsx(Jn,{children:e.map(i=>f.jsx(Zn,{value:i,children:i},i))})]})})]})})},x5=({setAllPrices:t})=>{const[e,n]=g.useState(!1),[r,s]=g.useState(!1),i=va(),o=Uy({defaultValues:{type:"Стеновые",panelThickness:"50 MM",coverThickness:"0.35 MM",filler:"Базальт"}});async function a(u){try{n(!0);const d=uc(Ui(Gt,"prices"),hR("type"),fn("type","==",u.type),fn("panelThickness","==",u.panelThickness),fn("coverThickness","==",u.coverThickness),fn("filler","==",u.filler)),m=(await la(d)).docs.map(_=>({id:_.id,..._.data()}));t(m),n(!1),s(!0)}catch(d){console.log(d),n(!1)}}function l(){i("."),t([]),s(!1)}return f.jsx("div",{className:"mb-5 p-2 bg-[#F2F3F6] rounded-lg",children:f.jsx(Vv,{...o,children:f.jsxs("form",{onSubmit:o.handleSubmit(a),className:"flex items-end justify-between",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsx(v5,{control:o.control}),f.jsx(_5,{control:o.control}),f.jsx(w5,{control:o.control}),f.jsx(E5,{control:o.control})]}),f.jsxs("div",{className:"flex",children:[r&&f.jsx(At,{className:"w-[130px] text-blue-600",variant:"link",onClick:l,children:"Сбросить"}),f.jsxs(At,{type:"submit",className:"w-[130px] bg-[#f4a261] hover:bg-[#f4a261]/90 hover:text-white text-white",variant:"outline",children:[f.jsx(z9,{}),e?"Загрузка...":"Поиск"]})]})]})})})},T5=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]);return f.jsxs("section",{className:"h-full overflow-y-scroll flex flex-col",children:[f.jsxs("div",{className:"flex justify-between pb-5",children:[f.jsxs(bi,{to:"..",className:"inline-flex items-center justify-start gap-2 px-3 py-1 group border border-transparent hover:border-slate-400 rounded-md",children:[f.jsx(r_,{color:"#333",size:22,className:"transition-transform group-hover:-translate-x-1"}),f.jsx(o_,{content:"Прайсы"})]}),f.jsx(y5,{setPrices:r})]}),f.jsx(x5,{setAllPrices:e}),f.jsx(p5,{prices:n,setPrices:r,setAllPrices:e,allPrices:t})]})},S5=()=>f.jsx("section",{children:f.jsxs(bi,{to:"..",className:"inline-flex items-center justify-start gap-2 px-3 py-1 group border border-transparent hover:border-slate-400 rounded-md",children:[f.jsx(r_,{color:"#333",size:25,className:"transition-transform group-hover:-translate-x-1"}),f.jsx(o_,{content:"Offers"})]})}),rT=({user:t,allowedRole:e})=>t?e.includes(t.role)?f.jsx(Oy,{}):f.jsx(Lm,{to:"/"}):f.jsx(Lm,{to:"/login",replace:!0});var w_="Collapsible",[I5,Fk]=ci(w_),[C5,E_]=I5(w_),Uk=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,u]=Hi({prop:r,defaultProp:s,onChange:o});return f.jsx(C5,{scope:n,disabled:i,contentId:jr(),open:l,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:f.jsx(ke.div,{"data-state":T_(l),"data-disabled":i?"":void 0,...a,ref:e})})});Uk.displayName=w_;var $k="CollapsibleTrigger",Bk=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=E_($k,n);return f.jsx(ke.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":T_(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ae(t.onClick,s.onOpenToggle)})});Bk.displayName=$k;var x_="CollapsibleContent",zk=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=E_(x_,t.__scopeCollapsible);return f.jsx(Oa,{present:n||s.open,children:({present:i})=>f.jsx(A5,{...r,ref:e,present:i})})});zk.displayName=x_;var A5=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=E_(x_,n),[a,l]=g.useState(r),u=g.useRef(null),d=je(e,u),h=g.useRef(0),m=h.current,_=g.useRef(0),T=_.current,w=o.open||a,I=g.useRef(w),E=g.useRef(void 0);return g.useEffect(()=>{const v=requestAnimationFrame(()=>I.current=!1);return()=>cancelAnimationFrame(v)},[]),Bt(()=>{const v=u.current;if(v){E.current=E.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const x=v.getBoundingClientRect();h.current=x.height,_.current=x.width,I.current||(v.style.transitionDuration=E.current.transitionDuration,v.style.animationName=E.current.animationName),l(r)}},[o.open,r]),f.jsx(ke.div,{"data-state":T_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...t.style},children:w&&s})});function T_(t){return t?"open":"closed"}var R5=Uk,P5=Bk,b5=zk,rs="Accordion",k5=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[S_,N5,D5]=tP(rs),[xh,rW]=ci(rs,[D5,Fk]),I_=Fk(),Wk=ce.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return f.jsx(S_.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?f.jsx(L5,{...i,ref:e}):f.jsx(M5,{...s,ref:e})})});Wk.displayName=rs;var[Hk,O5]=xh(rs),[qk,V5]=xh(rs,{collapsible:!1}),M5=ce.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,l]=Hi({prop:n,defaultProp:r,onChange:s});return f.jsx(Hk,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ce.useCallback(()=>i&&l(""),[i,l]),children:f.jsx(qk,{scope:t.__scopeAccordion,collapsible:i,children:f.jsx(Kk,{...o,ref:e})})})}),L5=ce.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=Hi({prop:n,defaultProp:r,onChange:s}),l=ce.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=ce.useCallback(d=>a((h=[])=>h.filter(m=>m!==d)),[a]);return f.jsx(Hk,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:f.jsx(qk,{scope:t.__scopeAccordion,collapsible:!0,children:f.jsx(Kk,{...i,ref:e})})})}),[j5,Th]=xh(rs),Kk=ce.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=ce.useRef(null),l=je(a,e),u=N5(n),h=nP(s)==="ltr",m=Ae(t.onKeyDown,_=>{var S;if(!k5.includes(_.key))return;const T=_.target,w=u().filter(R=>{var b;return!((b=R.ref.current)!=null&&b.disabled)}),I=w.findIndex(R=>R.ref.current===T),E=w.length;if(I===-1)return;_.preventDefault();let v=I;const x=0,k=E-1,O=()=>{v=I+1,v>k&&(v=x)},L=()=>{v=I-1,v<x&&(v=k)};switch(_.key){case"Home":v=x;break;case"End":v=k;break;case"ArrowRight":i==="horizontal"&&(h?O():L());break;case"ArrowDown":i==="vertical"&&O();break;case"ArrowLeft":i==="horizontal"&&(h?L():O());break;case"ArrowUp":i==="vertical"&&L();break}const C=v%E;(S=w[C].ref.current)==null||S.focus()});return f.jsx(j5,{scope:n,disabled:r,direction:s,orientation:i,children:f.jsx(S_.Slot,{scope:n,children:f.jsx(ke.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:m})})})}),lf="AccordionItem",[F5,C_]=xh(lf),Gk=ce.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Th(lf,n),o=O5(lf,n),a=I_(n),l=jr(),u=r&&o.value.includes(r)||!1,d=i.disabled||t.disabled;return f.jsx(F5,{scope:n,open:u,disabled:d,triggerId:l,children:f.jsx(R5,{"data-orientation":i.orientation,"data-state":e1(u),...a,...s,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});Gk.displayName=lf;var Qk="AccordionHeader",Yk=ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Th(rs,n),i=C_(Qk,n);return f.jsx(ke.h3,{"data-orientation":s.orientation,"data-state":e1(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Yk.displayName=Qk;var Vg="AccordionTrigger",Xk=ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Th(rs,n),i=C_(Vg,n),o=V5(Vg,n),a=I_(n);return f.jsx(S_.ItemSlot,{scope:n,children:f.jsx(P5,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});Xk.displayName=Vg;var Jk="AccordionContent",Zk=ce.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Th(rs,n),i=C_(Jk,n),o=I_(n);return f.jsx(b5,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Zk.displayName=Jk;function e1(t){return t?"open":"closed"}var U5=Wk,$5=Gk,B5=Yk,t1=Xk,n1=Zk;const z5=U5,r1=g.forwardRef(({className:t,...e},n)=>f.jsx($5,{ref:n,className:oe("border-b",t),...e}));r1.displayName="AccordionItem";const s1=g.forwardRef(({className:t,children:e,...n},r)=>f.jsx(B5,{className:"flex",children:f.jsxs(t1,{ref:r,className:oe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,f.jsx(n_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));s1.displayName=t1.displayName;const i1=g.forwardRef(({className:t,children:e,...n},r)=>f.jsx(n1,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:f.jsx("div",{className:oe("pb-4 pt-0",t),children:e})}));i1.displayName=n1.displayName;const W5=()=>f.jsx("div",{children:f.jsxs("div",{className:"flex flex-col space-y-2 mb-2",children:[f.jsx(Cs,{className:"h-10"}),f.jsx(Cs,{className:"h-10"}),f.jsx(Cs,{className:"h-10"}),f.jsx(Cs,{className:"h-10"})]})}),H5=()=>{const[t,e]=g.useState([]);async function n(){try{const s=(await la(Ui(Gt,"features"))).docs.map(i=>({id:i.id,...i.data()}));e(s)}catch(r){console.log(r)}}return g.useEffect(()=>{n()},[]),f.jsx("div",{className:"mt-5 px-5",children:t.length>0?f.jsx(z5,{type:"single",collapsible:!0,className:"w-full",children:t.map(r=>f.jsxs(r1,{value:r.name,children:[f.jsx(s1,{children:r.name}),r.data.map(s=>f.jsx(i1,{className:"bg-[#F2F3F6] pl-4 py-2 ",children:s},s))]},r.id))}):f.jsx(W5,{})})},q5=()=>f.jsxs("section",{children:[f.jsxs(bi,{to:"..",className:"inline-flex items-center justify-start gap-2 px-3 py-1 group border border-transparent hover:border-slate-400 rounded-md",children:[f.jsx(r_,{color:"#333",size:25,className:"transition-transform group-hover:-translate-x-1"}),f.jsx(o_,{content:"Характеристики"})]}),f.jsx(H5,{})]}),K5=()=>{const{user:t}=ln(s=>s.auth),[e,n]=g.useState([]);async function r(){try{const s=uc(Ui(Gt,"forms"),fn("userId","==",t==null?void 0:t.uid)),o=(await la(s)).docs.map(a=>({id:a.id,...a.data()}));n(o)}catch(s){console.log(s)}}return g.useEffect(()=>{r()},[]),console.log(e),f.jsx(wh,{children:"History"})};function G5(){const{user:t}=ln(e=>e.auth);return f.jsxs(YO,{children:[f.jsxs(Vn,{path:"/",element:f.jsx(D6,{}),children:[f.jsx(Vn,{element:f.jsx(rT,{allowedRole:["admin"],user:t}),children:f.jsxs(Vn,{path:"dashboard",element:f.jsx(M6,{}),children:[f.jsx(Vn,{index:!0,element:f.jsx(q5,{})}),f.jsx(Vn,{path:"prices",element:f.jsx(T5,{})}),f.jsx(Vn,{path:"offers",element:f.jsx(S5,{})})]})}),f.jsxs(Vn,{element:f.jsx(rT,{allowedRole:["manager","admin"],user:t}),children:[f.jsx(Vn,{index:!0,element:f.jsx(I6,{})}),f.jsx(Vn,{path:"history",element:f.jsx(K5,{})})]})]}),f.jsx(Vn,{path:"/login",element:f.jsx(k6,{})})]})}const Q5=TB({reducer:{auth:P6,form:MB,exchangeRate:T6}});vI(document.getElementById("root")).render(f.jsx(sV,{children:f.jsx(H$,{store:Q5,children:f.jsx(G5,{})})}));
